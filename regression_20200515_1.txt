Script started on Fri 15 May 2020 10:58:31 AM CEST
]0;~/hzn/code_review_temp/zen
[32malberto@ubuntu [33m~/hzn/code_review_temp/zen[0m
$ exit[C[Cfor i in qa/rpc-tests/sc_cert_fe*py; do qa/pull-tester/rpc-tests.sh $(basename $i) --nocleanup; done[C[C_vi qa/rpc-tests/sc_cert_fee.py [K[C[Cfor i in qa/rpc-tests/sc_cert_fe*py; do qa/pull-tester/rpc-tests.sh $(basename $i) --nocleanup; done[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cba[C[Cgit status[K[C[C[C[C[C[Ccheckout sc_cert_vin[C[C[C[C[C[Cpull[K[C[C[C[C[C[Cstatus[C[C[C[C[C[C[2Ppull[C[C[C[C[C[Cstatus[C[C./qa/zcash/full_test_suite.py --rpc-extended[C[C[13Pexport HOST=$(ls depends/built)[C[C[C[Cit[K[C[C[C[Cport HOST=$(ls depends/built)[C[C
]0;~/hzn/code_review_temp/zen
[32malberto@ubuntu [33m~/hzn/code_review_temp/zen[0m
$ export HOST=$(ls depends/built)[C[C[C[Cit[K[C[Cfor i in qa/rpc-tests/sc_cert_fe*py; do qa/pull-tester/rpc-tests.sh $(basename $i) --nocleanup; done[C[C_vi qa/rpc-tests/sc_cert_fee.py [K[C[Cfor i in qa/rpc-tests/sc_cert_fe*py; do qa/pull-tester/rpc-tests.sh $(basename $i) --nocleanup; done[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cba[C[Cgit status[K[C[C[C[C[C[Ccheckout sc_cert_vin[C[C[C[C[C[Cpull[K[C[C[C[C[C[Cstatus[C[C[C[C[C[C[2Ppull[C[C[C[C[C[Cstatus[C[C./qa/zcash/full_test_suite.py --rpc-extended[C[C[13Pexport HOST=$(ls depends/built)[C[C./qa/zcash/full_test_suite.py --rpc-extended[C[C
Running stage btest
===================

Running 208 test cases...
[1;35;49m
0%   10   20   30   40   50   60   70   80   90   100%
|----|----|----|----|----|----|----|----|----|----|
[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m[1;35;49m*
[0;39;49m[1;35;49m[0;39;49m[1;35;49m[0;39;49m
[1;32;49m*** No errors detected
[0;39;49m
--------------------
Finished stage btest

Running stage gtest
===================

[0;32m[==========] [mRunning 268 tests from 37 test cases.
[0;32m[----------] [mGlobal test environment set-up.
[0;32m[----------] [m31 tests from checktransaction_tests
[0;32m[ RUN      ] [mchecktransaction_tests.check_vpub_not_both_nonzero
[0;32m[       OK ] [mchecktransaction_tests.check_vpub_not_both_nonzero (0 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.valid_transparent_transaction
[0;32m[       OK ] [mchecktransaction_tests.valid_transparent_transaction (1 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.valid_sprout_transaction
[0;32m[       OK ] [mchecktransaction_tests.valid_sprout_transaction (1 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.BadVersionTooLow
[0;32m[       OK ] [mchecktransaction_tests.BadVersionTooLow (1 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_txns_vin_empty
[0;32m[       OK ] [mchecktransaction_tests.bad_txns_vin_empty (0 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_txns_vout_empty
[0;32m[       OK ] [mchecktransaction_tests.bad_txns_vout_empty (1 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_txns_oversize
[0;32m[       OK ] [mchecktransaction_tests.bad_txns_oversize (2 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_txns_vout_negative
[0;32m[       OK ] [mchecktransaction_tests.bad_txns_vout_negative (0 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_txns_vout_toolarge
[0;32m[       OK ] [mchecktransaction_tests.bad_txns_vout_toolarge (1 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_txns_txouttotal_toolarge_outputs
[0;32m[       OK ] [mchecktransaction_tests.bad_txns_txouttotal_toolarge_outputs (0 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_txns_txouttotal_toolarge_joinsplit
[0;32m[       OK ] [mchecktransaction_tests.bad_txns_txouttotal_toolarge_joinsplit (0 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_txns_txintotal_toolarge_joinsplit
[0;32m[       OK ] [mchecktransaction_tests.bad_txns_txintotal_toolarge_joinsplit (1 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_txns_vpub_old_negative
[0;32m[       OK ] [mchecktransaction_tests.bad_txns_vpub_old_negative (0 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_txns_vpub_new_negative
[0;32m[       OK ] [mchecktransaction_tests.bad_txns_vpub_new_negative (1 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_txns_vpub_old_toolarge
[0;32m[       OK ] [mchecktransaction_tests.bad_txns_vpub_old_toolarge (1 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_txns_vpub_new_toolarge
[0;32m[       OK ] [mchecktransaction_tests.bad_txns_vpub_new_toolarge (1 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_txns_vpubs_both_nonzero
[0;32m[       OK ] [mchecktransaction_tests.bad_txns_vpubs_both_nonzero (0 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_txns_inputs_duplicate
[0;32m[       OK ] [mchecktransaction_tests.bad_txns_inputs_duplicate (1 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_joinsplits_nullifiers_duplicate_same_joinsplit
[0;32m[       OK ] [mchecktransaction_tests.bad_joinsplits_nullifiers_duplicate_same_joinsplit (3 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_joinsplits_nullifiers_duplicate_different_joinsplit
[0;32m[       OK ] [mchecktransaction_tests.bad_joinsplits_nullifiers_duplicate_different_joinsplit (1 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_cb_has_joinsplits
[0;32m[       OK ] [mchecktransaction_tests.bad_cb_has_joinsplits (0 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_cb_empty_scriptsig
[0;32m[       OK ] [mchecktransaction_tests.bad_cb_empty_scriptsig (0 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_txns_prevout_null
[0;32m[       OK ] [mchecktransaction_tests.bad_txns_prevout_null (5 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.bad_txns_invalid_joinsplit_signature
[0;32m[       OK ] [mchecktransaction_tests.bad_txns_invalid_joinsplit_signature (2 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.non_canonical_ed25519_signature
[0;32m[       OK ] [mchecktransaction_tests.non_canonical_ed25519_signature (1 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.SproutTxVersionTooLow
[0;32m[       OK ] [mchecktransaction_tests.SproutTxVersionTooLow (1 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.TransparentTxVersionWithJoinsplit
[0;32m[       OK ] [mchecktransaction_tests.TransparentTxVersionWithJoinsplit (1 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.GrothTxVersion
[0;32m[       OK ] [mchecktransaction_tests.GrothTxVersion (4 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.PhgrTxVersion
[0;32m[       OK ] [mchecktransaction_tests.PhgrTxVersion (2 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.ScTxVersion
[0;32m[       OK ] [mchecktransaction_tests.ScTxVersion (1 ms)
[0;32m[ RUN      ] [mchecktransaction_tests.ScCertVersion
[0;32m[       OK ] [mchecktransaction_tests.ScCertVersion (0 ms)
[0;32m[----------] [m31 tests from checktransaction_tests (34 ms total)

[0;32m[----------] [m19 tests from ForkManager
[0;32m[ RUN      ] [mForkManager.TestCommunityFundRewardTestnet
[0;32m[       OK ] [mForkManager.TestCommunityFundRewardTestnet (0 ms)
[0;32m[ RUN      ] [mForkManager.TestCommunityFundRewardMainnet
[0;32m[       OK ] [mForkManager.TestCommunityFundRewardMainnet (0 ms)
[0;32m[ RUN      ] [mForkManager.TestSecureNodeFundRewardTestnet
[0;32m[       OK ] [mForkManager.TestSecureNodeFundRewardTestnet (0 ms)
[0;32m[ RUN      ] [mForkManager.TestSecureNodeFundRewardMainnet
[0;32m[       OK ] [mForkManager.TestSecureNodeFundRewardMainnet (0 ms)
[0;32m[ RUN      ] [mForkManager.TestSuperNodeFundRewardTestnet
[0;32m[       OK ] [mForkManager.TestSuperNodeFundRewardTestnet (0 ms)
[0;32m[ RUN      ] [mForkManager.TestSuperNodeFundRewardMainnet
[0;32m[       OK ] [mForkManager.TestSuperNodeFundRewardMainnet (0 ms)
[0;32m[ RUN      ] [mForkManager.TestReplayProtectionTestnet
[0;32m[       OK ] [mForkManager.TestReplayProtectionTestnet (0 ms)
[0;32m[ RUN      ] [mForkManager.TestReplayProtectionMainnet
[0;32m[       OK ] [mForkManager.TestReplayProtectionMainnet (0 ms)
[0;32m[ RUN      ] [mForkManager.TestTransparentCFAddressTestnet
[0;32m[       OK ] [mForkManager.TestTransparentCFAddressTestnet (0 ms)
[0;32m[ RUN      ] [mForkManager.TestTransparentCFAddressMainnet
[0;32m[       OK ] [mForkManager.TestTransparentCFAddressMainnet (0 ms)
[0;32m[ RUN      ] [mForkManager.SelectNetworkAfterChainsplit
[0;32m[       OK ] [mForkManager.SelectNetworkAfterChainsplit (0 ms)
[0;32m[ RUN      ] [mForkManager.GetCommunityFundAddressTestnet
[0;32m[       OK ] [mForkManager.GetCommunityFundAddressTestnet (0 ms)
[0;32m[ RUN      ] [mForkManager.GetCommunityFundAddressMainnet
[0;32m[       OK ] [mForkManager.GetCommunityFundAddressMainnet (0 ms)
[0;32m[ RUN      ] [mForkManager.GetSecureNodeFundAddressTestnet
[0;32m[       OK ] [mForkManager.GetSecureNodeFundAddressTestnet (0 ms)
[0;32m[ RUN      ] [mForkManager.GetSecureNodeFundAddressMainnet
[0;32m[       OK ] [mForkManager.GetSecureNodeFundAddressMainnet (0 ms)
[0;32m[ RUN      ] [mForkManager.GetSuperNodeFundAddressTestnet
[0;32m[       OK ] [mForkManager.GetSuperNodeFundAddressTestnet (0 ms)
[0;32m[ RUN      ] [mForkManager.GetSuperNodeFundAddressMainnet
[0;32m[       OK ] [mForkManager.GetSuperNodeFundAddressMainnet (0 ms)
[0;32m[ RUN      ] [mForkManager.GetMinimumTimeTestnet
[0;32m[       OK ] [mForkManager.GetMinimumTimeTestnet (0 ms)
[0;32m[ RUN      ] [mForkManager.GetMinimumTimeMainnet
[0;32m[       OK ] [mForkManager.GetMinimumTimeMainnet (0 ms)
[0;32m[----------] [m19 tests from ForkManager (0 ms total)

[0;32m[----------] [m1 test from delay_tests
[0;32m[ RUN      ] [mdelay_tests.get_block_delay
[0;32m[       OK ] [mdelay_tests.get_block_delay (0 ms)
[0;32m[----------] [m1 test from delay_tests (0 ms total)

[0;32m[----------] [m5 tests from wallet_zkeys_tests
[0;32m[ RUN      ] [mwallet_zkeys_tests.store_and_load_zkeys
[0;32m[       OK ] [mwallet_zkeys_tests.store_and_load_zkeys (10 ms)
[0;32m[ RUN      ] [mwallet_zkeys_tests.StoreAndLoadViewingKeys
[0;32m[       OK ] [mwallet_zkeys_tests.StoreAndLoadViewingKeys (0 ms)
[0;32m[ RUN      ] [mwallet_zkeys_tests.write_zkey_direct_to_db
[0;32m[       OK ] [mwallet_zkeys_tests.write_zkey_direct_to_db (20 ms)
[0;32m[ RUN      ] [mwallet_zkeys_tests.WriteViewingKeyDirectToDB
[0;32m[       OK ] [mwallet_zkeys_tests.WriteViewingKeyDirectToDB (16 ms)
[0;32m[ RUN      ] [mwallet_zkeys_tests.write_cryptedzkey_direct_to_db
[0;32m[       OK ] [mwallet_zkeys_tests.write_cryptedzkey_direct_to_db (728 ms)
[0;32m[----------] [m5 tests from wallet_zkeys_tests (774 ms total)

[0;32m[----------] [m1 test from tautologies
[0;32m[ RUN      ] [mtautologies.seven_eq_seven
[0;32m[       OK ] [mtautologies.seven_eq_seven (0 ms)
[0;32m[----------] [m1 test from tautologies (0 ms total)

[0;32m[----------] [m9 tests from DeprecationTest
[0;32m[ RUN      ] [mDeprecationTest.NonDeprecatedNodeKeepsRunning
[0;32m[       OK ] [mDeprecationTest.NonDeprecatedNodeKeepsRunning (0 ms)
[0;32m[ RUN      ] [mDeprecationTest.NodeNearDeprecationIsWarned
[0;32m[       OK ] [mDeprecationTest.NodeNearDeprecationIsWarned (0 ms)
[0;32m[ RUN      ] [mDeprecationTest.NodeNearDeprecationWarningIsNotDuplicated
[0;32m[       OK ] [mDeprecationTest.NodeNearDeprecationWarningIsNotDuplicated (0 ms)
[0;32m[ RUN      ] [mDeprecationTest.NodeNearDeprecationWarningIsRepeatedOnStartup
[0;32m[       OK ] [mDeprecationTest.NodeNearDeprecationWarningIsRepeatedOnStartup (1 ms)
[0;32m[ RUN      ] [mDeprecationTest.DeprecatedNodeShutsDown
[0;32m[       OK ] [mDeprecationTest.DeprecatedNodeShutsDown (0 ms)
[0;32m[ RUN      ] [mDeprecationTest.DeprecatedNodeErrorIsNotDuplicated
[0;32m[       OK ] [mDeprecationTest.DeprecatedNodeErrorIsNotDuplicated (0 ms)
[0;32m[ RUN      ] [mDeprecationTest.DeprecatedNodeErrorIsRepeatedOnStartup
[0;32m[       OK ] [mDeprecationTest.DeprecatedNodeErrorIsRepeatedOnStartup (0 ms)
[0;32m[ RUN      ] [mDeprecationTest.DeprecatedNodeShutsDownIfOldVersionDisabled
[0;32m[       OK ] [mDeprecationTest.DeprecatedNodeShutsDownIfOldVersionDisabled (0 ms)
[0;32m[ RUN      ] [mDeprecationTest.DeprecatedNodeKeepsRunningIfCurrentVersionDisabled
[0;32m[       OK ] [mDeprecationTest.DeprecatedNodeKeepsRunningIfCurrentVersionDisabled (0 ms)
[0;32m[----------] [m9 tests from DeprecationTest (1 ms total)

[0;32m[----------] [m5 tests from equihash_tests
[0;32m[ RUN      ] [mequihash_tests.expand_and_contract_arrays
[0;32m[       OK ] [mequihash_tests.expand_and_contract_arrays (0 ms)
[0;32m[ RUN      ] [mequihash_tests.minimal_solution_representation
[0;32m[       OK ] [mequihash_tests.minimal_solution_representation (0 ms)
[0;32m[ RUN      ] [mequihash_tests.is_probably_duplicate
[0;32m[       OK ] [mequihash_tests.is_probably_duplicate (0 ms)
[0;32m[ RUN      ] [mequihash_tests.check_basic_solver_cancelled
[0;32m[       OK ] [mequihash_tests.check_basic_solver_cancelled (8 ms)
[0;32m[ RUN      ] [mequihash_tests.check_optimised_solver_cancelled
[0;32m[       OK ] [mequihash_tests.check_optimised_solver_cancelled (13 ms)
[0;32m[----------] [m5 tests from equihash_tests (22 ms total)

[0;32m[----------] [m3 tests from HTTPRPC
[0;32m[ RUN      ] [mHTTPRPC.FailsOnGET
[0;32m[       OK ] [mHTTPRPC.FailsOnGET (0 ms)
[0;32m[ RUN      ] [mHTTPRPC.FailsWithoutAuthHeader
[0;32m[       OK ] [mHTTPRPC.FailsWithoutAuthHeader (0 ms)
[0;32m[ RUN      ] [mHTTPRPC.FailsWithBadAuth
[0;32m[       OK ] [mHTTPRPC.FailsWithBadAuth (250 ms)
[0;32m[----------] [m3 tests from HTTPRPC (250 ms total)

[0;32m[----------] [m4 tests from joinsplit
[0;32m[ RUN      ] [mjoinsplit.h_sig
[0;32m[       OK ] [mjoinsplit.h_sig (0 ms)
[0;32m[ RUN      ] [mjoinsplit.full_api_test
[0;32m[       OK ] [mjoinsplit.full_api_test (316541 ms)
[0;32m[ RUN      ] [mjoinsplit.note_plaintexts
[0;32m[       OK ] [mjoinsplit.note_plaintexts (0 ms)
[0;32m[ RUN      ] [mjoinsplit.note_class
[0;32m[       OK ] [mjoinsplit.note_class (0 ms)
[0;32m[----------] [m4 tests from joinsplit (316543 ms total)

[0;32m[----------] [m4 tests from keystore_tests
[0;32m[ RUN      ] [mkeystore_tests.store_and_retrieve_spending_key
[0;32m[       OK ] [mkeystore_tests.store_and_retrieve_spending_key (0 ms)
[0;32m[ RUN      ] [mkeystore_tests.store_and_retrieve_note_decryptor
[0;32m[       OK ] [mkeystore_tests.store_and_retrieve_note_decryptor (0 ms)
[0;32m[ RUN      ] [mkeystore_tests.StoreAndRetrieveViewingKey
[0;32m[       OK ] [mkeystore_tests.StoreAndRetrieveViewingKey (0 ms)
[0;32m[ RUN      ] [mkeystore_tests.store_and_retrieve_spending_key_in_encrypted_store
[0;32m[       OK ] [mkeystore_tests.store_and_retrieve_spending_key_in_encrypted_store (1 ms)
[0;32m[----------] [m4 tests from keystore_tests (3 ms total)

[0;32m[----------] [m6 tests from noteencryption
[0;32m[ RUN      ] [mnoteencryption.api
[0;32m[       OK ] [mnoteencryption.api (154 ms)
[0;32m[ RUN      ] [mnoteencryption.prf_addr
[0;32m[       OK ] [mnoteencryption.prf_addr (0 ms)
[0;32m[ RUN      ] [mnoteencryption.prf_nf
[0;32m[       OK ] [mnoteencryption.prf_nf (1 ms)
[0;32m[ RUN      ] [mnoteencryption.prf_pk
[0;32m[       OK ] [mnoteencryption.prf_pk (0 ms)
[0;32m[ RUN      ] [mnoteencryption.prf_rho
[0;32m[       OK ] [mnoteencryption.prf_rho (0 ms)
[0;32m[ RUN      ] [mnoteencryption.uint252
[0;32m[       OK ] [mnoteencryption.uint252 (0 ms)
[0;32m[----------] [m6 tests from noteencryption (156 ms total)

[0;32m[----------] [m5 tests from Mempool
[0;32m[ RUN      ] [mMempool.PriorityStatsDoNotCrash

[WARNING] ../src/gtest-death-test.cc:836:: Death tests use fork(), which is unsafe particularly in a threaded context. For this test, Google Test detected 2 threads.
[0;32m[       OK ] [mMempool.PriorityStatsDoNotCrash (60 ms)
[0;32m[ RUN      ] [mMempool.TxInputLimit
[0;32m[       OK ] [mMempool.TxInputLimit (0 ms)
[0;32m[ RUN      ] [mMempool.SproutV3TxFailsAsExpected
[0;32m[       OK ] [mMempool.SproutV3TxFailsAsExpected (1 ms)
[0;32m[ RUN      ] [mMempool.SproutV3TxWhenGrothNotActive
[0;32m[       OK ] [mMempool.SproutV3TxWhenGrothNotActive (0 ms)
[0;32m[ RUN      ] [mMempool.SproutNegativeVersionTx
[0;32m[       OK ] [mMempool.SproutNegativeVersionTx (0 ms)
[0;32m[----------] [m5 tests from Mempool (61 ms total)

[0;32m[----------] [m8 tests from merkletree
[0;32m[ RUN      ] [mmerkletree.vectors
[0;32m[       OK ] [mmerkletree.vectors (43875 ms)
[0;32m[ RUN      ] [mmerkletree.emptyroots
[0;32m[       OK ] [mmerkletree.emptyroots (0 ms)
[0;32m[ RUN      ] [mmerkletree.emptyroot
[0;32m[       OK ] [mmerkletree.emptyroot (0 ms)
[0;32m[ RUN      ] [mmerkletree.deserializeInvalid
[0;32m[       OK ] [mmerkletree.deserializeInvalid (0 ms)
[0;32m[ RUN      ] [mmerkletree.deserializeInvalid2
[0;32m[       OK ] [mmerkletree.deserializeInvalid2 (0 ms)
[0;32m[ RUN      ] [mmerkletree.deserializeInvalid3
[0;32m[       OK ] [mmerkletree.deserializeInvalid3 (0 ms)
[0;32m[ RUN      ] [mmerkletree.deserializeInvalid4
[0;32m[       OK ] [mmerkletree.deserializeInvalid4 (0 ms)
[0;32m[ RUN      ] [mmerkletree.testZeroElements
[0;32m[       OK ] [mmerkletree.testZeroElements (1 ms)
[0;32m[----------] [m8 tests from merkletree (43878 ms total)

[0;32m[----------] [m3 tests from Metrics
[0;32m[ RUN      ] [mMetrics.AtomicTimer
[0;32m[       OK ] [mMetrics.AtomicTimer (0 ms)
[0;32m[ RUN      ] [mMetrics.GetLocalSolPS
[0;32m[       OK ] [mMetrics.GetLocalSolPS (0 ms)
[0;32m[ RUN      ] [mMetrics.EstimateNetHeightInner
[0;32m[       OK ] [mMetrics.EstimateNetHeightInner (0 ms)
[0;32m[----------] [m3 tests from Metrics (1 ms total)

[0;32m[----------] [m1 test from Miner
[0;32m[ RUN      ] [mMiner.GetMinerScriptPubKey
[0;32m[       OK ] [mMiner.GetMinerScriptPubKey (0 ms)
[0;32m[----------] [m1 test from Miner (0 ms total)

[0;32m[----------] [m1 test from PoW
[0;32m[ RUN      ] [mPoW.DifficultyAveraging
[0;32m[       OK ] [mPoW.DifficultyAveraging (0 ms)
[0;32m[----------] [m1 test from PoW (0 ms total)

[0;32m[----------] [m1 test from Random
[0;32m[ RUN      ] [mRandom.MappedShuffle
[0;32m[       OK ] [mRandom.MappedShuffle (0 ms)
[0;32m[----------] [m1 test from Random (1 ms total)

[0;32m[----------] [m1 test from rpc
[0;32m[ RUN      ] [mrpc.check_blockToJSON_returns_minified_solution
[0;32m[       OK ] [mrpc.check_blockToJSON_returns_minified_solution (0 ms)
[0;32m[----------] [m1 test from rpc (0 ms total)

[0;32m[----------] [m1 test from GetBlockTemplateTest
[0;32m[ RUN      ] [mGetBlockTemplateTest.TxWith100Inputs
start GenerateSpendTxSet 
end GenerateSpendTxSet 
Wiping LevelDB in /tmp/d950-74c3-de73-23d2/testnet3/chainstate
Opening LevelDB in /tmp/d950-74c3-de73-23d2/testnet3/chainstate
Opened LevelDB successfully
Opened LevelDB successfully
CreateNewBlock(): total size 36770, tx/certs fee=24000000
Block transaction count = 10
CreateNewBlock() takes 0.0447176 seconds.
CreateNewBlock(): total size 74075, tx/certs fee=49000000
Block transaction count = 20
CreateNewBlock() takes 0.0480045 seconds.
CreateNewBlock(): total size 150271, tx/certs fee=100000000
Block transaction count = 41
CreateNewBlock() takes 0.0925211 seconds.
CreateNewBlock(): total size 150271, tx/certs fee=100000000
Block transaction count = 41
CreateNewBlock() takes 0.0458101 seconds.
[0;32m[       OK ] [mGetBlockTemplateTest.TxWith100Inputs (513 ms)
[0;32m[----------] [m1 test from GetBlockTemplateTest (513 ms total)

[0;32m[----------] [m2 tests from Transaction
[0;32m[ RUN      ] [mTransaction.JSDescriptionRandomizedPhgr
[0;32m[       OK ] [mTransaction.JSDescriptionRandomizedPhgr (1 ms)
[0;32m[ RUN      ] [mTransaction.JSDescriptionRandomizedGroth
[0;32m[       OK ] [mTransaction.JSDescriptionRandomizedGroth (0 ms)
[0;32m[----------] [m2 tests from Transaction (1 ms total)

[0;32m[----------] [m2 tests from Validation
[0;32m[ RUN      ] [mValidation.ContextualCheckInputsPassesWithCoinbase
[0;32m[       OK ] [mValidation.ContextualCheckInputsPassesWithCoinbase (0 ms)
[0;32m[ RUN      ] [mValidation.ReceivedBlockTransactions
[0;32m[       OK ] [mValidation.ReceivedBlockTransactions (2 ms)
[0;32m[----------] [m2 tests from Validation (2 ms total)

[0;32m[----------] [m3 tests from circuit
[0;32m[ RUN      ] [mcircuit.values
[0;32m[       OK ] [mcircuit.values (0 ms)
[0;32m[ RUN      ] [mcircuit.endianness
[0;32m[       OK ] [mcircuit.endianness (0 ms)
[0;32m[ RUN      ] [mcircuit.merkle_tree_gadget_weirdness
[0;32m[       OK ] [mcircuit.merkle_tree_gadget_weirdness (28371 ms)
[0;32m[----------] [m3 tests from circuit (28371 ms total)

[0;32m[----------] [m2 tests from txid_tests
[0;32m[ RUN      ] [mtxid_tests.check_txid_and_hash_are_same
[0;32m[       OK ] [mtxid_tests.check_txid_and_hash_are_same (0 ms)
[0;32m[ RUN      ] [mtxid_tests.check_txid_and_hash_are_same_coinbase
[0;32m[       OK ] [mtxid_tests.check_txid_and_hash_are_same_coinbase (0 ms)
[0;32m[----------] [m2 tests from txid_tests (0 ms total)

[0;32m[----------] [m2 tests from libzcash_utils
[0;32m[ RUN      ] [mlibzcash_utils.convertBytesVectorToVector
[0;32m[       OK ] [mlibzcash_utils.convertBytesVectorToVector (0 ms)
[0;32m[ RUN      ] [mlibzcash_utils.convertVectorToInt
[0;32m[       OK ] [mlibzcash_utils.convertVectorToInt (0 ms)
[0;32m[----------] [m2 tests from libzcash_utils (0 ms total)

[0;32m[----------] [m19 tests from proofs
[0;32m[ RUN      ] [mproofs.g1_pairing_at_infinity
[0;32m[       OK ] [mproofs.g1_pairing_at_infinity (2468 ms)
[0;32m[ RUN      ] [mproofs.g2_subgroup_check
[0;32m[       OK ] [mproofs.g2_subgroup_check (17 ms)
[0;32m[ RUN      ] [mproofs.sqrt_zero
[0;32m[       OK ] [mproofs.sqrt_zero (0 ms)
[0;32m[ RUN      ] [mproofs.sqrt_fq
[0;32m[       OK ] [mproofs.sqrt_fq (55 ms)
[0;32m[ RUN      ] [mproofs.sqrt_fq2
[0;32m[       OK ] [mproofs.sqrt_fq2 (541 ms)
[0;32m[ RUN      ] [mproofs.size_is_expected
[0;32m[       OK ] [mproofs.size_is_expected (0 ms)
[0;32m[ RUN      ] [mproofs.fq_serializes_properly
[0;32m[       OK ] [mproofs.fq_serializes_properly (1 ms)
[0;32m[ RUN      ] [mproofs.fq2_serializes_properly
[0;32m[       OK ] [mproofs.fq2_serializes_properly (2 ms)
[0;32m[ RUN      ] [mproofs.fq_valid
[0;32m[       OK ] [mproofs.fq_valid (0 ms)
[0;32m[ RUN      ] [mproofs.fq_invalid
[0;32m[       OK ] [mproofs.fq_invalid (0 ms)
[0;32m[ RUN      ] [mproofs.fq2_valid
[0;32m[       OK ] [mproofs.fq2_valid (0 ms)
[0;32m[ RUN      ] [mproofs.fq2_invalid
[0;32m[       OK ] [mproofs.fq2_invalid (0 ms)
[0;32m[ RUN      ] [mproofs.g1_serializes_properly
[0;32m[       OK ] [mproofs.g1_serializes_properly (311 ms)
[0;32m[ RUN      ] [mproofs.g2_serializes_properly
[0;32m[       OK ] [mproofs.g2_serializes_properly (2754 ms)
[0;32m[ RUN      ] [mproofs.zksnark_serializes_properly
Swap is not beneficial, not performing
* QAP number of variables: 252
* QAP pre degree: 250
* QAP degree: 256
* QAP number of input variables: 4
* G1 window: 8
* G2 window: 6
* G1 elements in PK: 1783
* Non-zero G1 elements in PK: 1763
* G2 elements in PK: 254
* Non-zero G2 elements in PK: 252
* PK size in bits: 625897
* G1 elements in VK: 6
* G2 elements in VK: 5
* VK size in bits: 4586
[0;32m[       OK ] [mproofs.zksnark_serializes_properly (3589 ms)
[0;32m[ RUN      ] [mproofs.g1_deserialization
[0;32m[       OK ] [mproofs.g1_deserialization (126 ms)
[0;32m[ RUN      ] [mproofs.g2_deserialization
[0;32m[       OK ] [mproofs.g2_deserialization (4061 ms)
[0;32m[ RUN      ] [mproofs.g1_test_vectors
[0;32m[       OK ] [mproofs.g1_test_vectors (3129 ms)
[0;32m[ RUN      ] [mproofs.g2_test_vectors
[0;32m[       OK ] [mproofs.g2_test_vectors (27105 ms)
[0;32m[----------] [m19 tests from proofs (44161 ms total)

[0;32m[----------] [m1 test from paymentdisclosure
[0;32m[ RUN      ] [mpaymentdisclosure.mainnet
Test payment disclosure database created in folder: /tmp/dd49-463f-aba8-80a6
PaymentDisclosure: using custom path for database: /tmp/dd49-463f-aba8-80a6
PaymentDisclosure: Opened LevelDB successfully
[0;32m[       OK ] [mpaymentdisclosure.mainnet (5177 ms)
[0;32m[----------] [m1 test from paymentdisclosure (5177 ms total)

[0;32m[----------] [m3 tests from CheckBlock
[0;32m[ RUN      ] [mCheckBlock.VersionTooLow
ERROR: CheckBlockHeader(): block version not valid
[0;32m[       OK ] [mCheckBlock.VersionTooLow (0 ms)
[0;32m[ RUN      ] [mCheckBlock.BlockRejectsBadVersion
ERROR: BasicVersionCheck(): version too low
ERROR: CheckBlock(): CheckTransaction failed
[0;32m[       OK ] [mCheckBlock.BlockRejectsBadVersion (0 ms)
[0;32m[ RUN      ] [mCheckBlock.BlockRejectsNoCbh
ERROR: primitives/transaction.cpp: CheckOutputsCheckBlockAtHeightOpCode: pubkeyhash is not activated at this block height 117576. Transaction rejected. Tx id: c7dba0304ab1c7fe08eaae60aa51a3e29d4897fd474ac696a061feef5e6e2828
ERROR: CheckBlock(): CheckTransaction failed
[0;32m[       OK ] [mCheckBlock.BlockRejectsNoCbh (795 ms)
[0;32m[----------] [m3 tests from CheckBlock (795 ms total)

[0;32m[----------] [m2 tests from ContextualCheckBlockTest
[0;32m[ RUN      ] [mContextualCheckBlockTest.BadCoinbaseHeight
ERROR: ContextualCheckBlock: block height mismatch in coinbase
ERROR: ContextualCheckBlock: block height mismatch in coinbase
[0;32m[       OK ] [mContextualCheckBlockTest.BadCoinbaseHeight (0 ms)
[0;32m[ RUN      ] [mContextualCheckBlockTest.BlockSproutRulesAcceptSproutTx
[0;32m[       OK ] [mContextualCheckBlockTest.BlockSproutRulesAcceptSproutTx (0 ms)
[0;32m[----------] [m2 tests from ContextualCheckBlockTest (0 ms total)

[0;32m[----------] [m1 test from ContextualTxsCheckBlockTest
[0;32m[ RUN      ] [mContextualTxsCheckBlockTest.BlockShieldRulesRejectOtherTx
ContextualCheckTransaction: rejecting (ver=-3) transaction at block height 199 - groth_active[0], sidechain_active[0]
ERROR: ContextualCheckTransaction(): unexpected tx version
ContextualCheckTransaction: rejecting (ver=2) transaction at block height 200 - groth_active[1], sidechain_active[0]
ERROR: ContextualCheckTransaction(): unexpected tx version
ContextualCheckTransaction: rejecting (ver=-3) transaction at block height 369899 - groth_active[0], sidechain_active[0]
ERROR: ContextualCheckTransaction(): unexpected tx version
ContextualCheckTransaction: rejecting (ver=2) transaction at block height 369900 - groth_active[1], sidechain_active[0]
ERROR: ContextualCheckTransaction(): unexpected tx version
ContextualCheckTransaction: rejecting (ver=-3) transaction at block height 455554 - groth_active[0], sidechain_active[0]
ERROR: ContextualCheckTransaction(): unexpected tx version
ContextualCheckTransaction: rejecting (ver=2) transaction at block height 455555 - groth_active[1], sidechain_active[0]
ERROR: ContextualCheckTransaction(): unexpected tx version
[0;32m[       OK ] [mContextualTxsCheckBlockTest.BlockShieldRulesRejectOtherTx (1 ms)
[0;32m[----------] [m1 test from ContextualTxsCheckBlockTest (2 ms total)

[0;32m[----------] [m3 tests from ContextualCheckBlock
[0;32m[ RUN      ] [mContextualCheckBlock.CoinbaseCommunityReward
ERROR: ContextualCheckBlock: community fund missing block 110001
[0;32m[       OK ] [mContextualCheckBlock.CoinbaseCommunityReward (37 ms)
[0;32m[ RUN      ] [mContextualCheckBlock.CoinbaseCommunityRewardAmount
ERROR: ContextualCheckBlock: community fund missing block 110001
ERROR: ContextualCheckBlock: community fund missing block 139200
ERROR: ContextualCheckBlock: community fund missing block 344700
ERROR: ContextualCheckBlock: community fund missing block 455555
[0;32m[       OK ] [mContextualCheckBlock.CoinbaseCommunityRewardAmount (1 ms)
[0;32m[ RUN      ] [mContextualCheckBlock.CoinbaseCommunityRewardAddress
ERROR: ContextualCheckBlock: community fund missing block 139199
ERROR: ContextualCheckBlock: community fund missing block 139200
[0;32m[       OK ] [mContextualCheckBlock.CoinbaseCommunityRewardAddress (0 ms)
[0;32m[----------] [m3 tests from ContextualCheckBlock (39 ms total)

[0;32m[----------] [m1 test from ContextualCheckBlockHeader
[0;32m[ RUN      ] [mContextualCheckBlockHeader.CheckBlockVersion
ERROR: ContextualCheckBlockHeader : rejected nVersion block 4 not supported at height 655555
ERROR: ContextualCheckBlockHeader : rejected nVersion block 536870912 not supported at height 655555
ERROR: ContextualCheckBlockHeader : rejected nVersion block 3 not supported at height 655554
[0;32m[       OK ] [mContextualCheckBlockHeader.CheckBlockVersion (1 ms)
[0;32m[----------] [m1 test from ContextualCheckBlockHeader (1 ms total)

[0;32m[----------] [m3 tests from relayforks_test
[0;32m[ RUN      ] [mrelayforks_test.relayforks
Building main chain...
 main chain built: length(1500)
Forking from main chain...
 Fork from block at h(11) of length(1500)
Forking from main chain again...
 Fork from block at h(501) of length(2)
Forking from latest fork...
 Fork from block at h(502) of length(1)
Forking from first fork...
 Fork from block at h(502) of length(100)
f4: 1589533945
f3: 1589533943
f2: 1589533941
[0;32m[       OK ] [mrelayforks_test.relayforks (14033 ms)
[0;32m[ RUN      ] [mrelayforks_test.checkisonmain
Building main chain...
 main chain built: length(1500)
Forking from main chain...
 Fork from block at h(11) of length(1500)
Forking from main chain again...
 Fork from block at h(501) of length(2)
Forking from latest fork...
 Fork from block at h(502) of length(1)
Forking from first fork...
 Fork from block at h(502) of length(100)
[0;32m[       OK ] [mrelayforks_test.checkisonmain (8041 ms)
[0;32m[ RUN      ] [mrelayforks_test.getfinality
Building main chain...
 main chain built: length(500000)
Forking from main chain...
 Fork from block at h(4) of length(1)
Forking from main chain...
 Fork from block at h(200001) of length(1)
Forking from main chain...
 Fork from block at h(400001) of length(1)
Forking from main chain...
 Fork from block at h(498001) of length(1)
input block hash: f7c4f4f3c1ea755e584d51beb840d1433719770df1fa4160903eedf06a1c5e82
Result: 2
[0;32m[       OK ] [mrelayforks_test.getfinality (3528 ms)
[0;32m[----------] [m3 tests from relayforks_test (25694 ms total)

[0;32m[----------] [m49 tests from SidechainTestSuite
[0;32m[ RUN      ] [mSidechainTestSuite.TransparentCcNullTxsAreSemanticallyValid
[0;32m[       OK ] [mSidechainTestSuite.TransparentCcNullTxsAreSemanticallyValid (9 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.TransparentNonCcNullTxsAreNotSemanticallyValid
ERROR: mismatch between transaction version and sidechain output presence
[0;32m[       OK ] [mSidechainTestSuite.TransparentNonCcNullTxsAreNotSemanticallyValid (26 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.SproutCcNullTxsAreCurrentlySupported
[0;32m[       OK ] [mSidechainTestSuite.SproutCcNullTxsAreCurrentlySupported (17 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.SproutNonCcNullTxsAreCurrentlySupported
ERROR: mismatch between transaction version and joinsplit presence
[0;32m[       OK ] [mSidechainTestSuite.SproutNonCcNullTxsAreCurrentlySupported (23 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.SidechainCreationsWithoutForwardTransferAreNotSemanticallyValid
ERROR: checkTxSemanticValidity: sc creation amount is outside range
[0;32m[       OK ] [mSidechainTestSuite.SidechainCreationsWithoutForwardTransferAreNotSemanticallyValid (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.SidechainCreationsWithPositiveForwardTransferAreSemanticallyValid
[0;32m[       OK ] [mSidechainTestSuite.SidechainCreationsWithPositiveForwardTransferAreSemanticallyValid (1 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.SidechainCreationsWithTooLargePositiveForwardTransferAreNotSemanticallyValid
ERROR: checkTxSemanticValidity: sc creation amount is outside range
[0;32m[       OK ] [mSidechainTestSuite.SidechainCreationsWithTooLargePositiveForwardTransferAreNotSemanticallyValid (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.SidechainCreationsWithZeroForwardTransferAreNotSemanticallyValid
ERROR: checkTxSemanticValidity: sc creation amount is outside range
[0;32m[       OK ] [mSidechainTestSuite.SidechainCreationsWithZeroForwardTransferAreNotSemanticallyValid (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.SidechainCreationsWithNegativeForwardTransferNotAreSemanticallyValid
ERROR: checkTxSemanticValidity: sc creation amount is outside range
[0;32m[       OK ] [mSidechainTestSuite.SidechainCreationsWithNegativeForwardTransferNotAreSemanticallyValid (1 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.FwdTransferCumulatedAmountDoesNotOverFlow
ERROR: checkTxSemanticValidity: sc creation withdrawalEpochLength is not valid
[0;32m[       OK ] [mSidechainTestSuite.FwdTransferCumulatedAmountDoesNotOverFlow (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.NewScCreationsHaveTheRightDependencies
[0;32m[       OK ] [mSidechainTestSuite.NewScCreationsHaveTheRightDependencies (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.DuplicatedScCreationsHaveNotTheRightDependencies
[0;32m[       OK ] [mSidechainTestSuite.DuplicatedScCreationsHaveNotTheRightDependencies (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.ForwardTransfersToExistingSCsHaveTheRightDependencies
[0;32m[       OK ] [mSidechainTestSuite.ForwardTransfersToExistingSCsHaveTheRightDependencies (4 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.ForwardTransfersToNonExistingSCsHaveNotTheRightDependencies
[0;32m[       OK ] [mSidechainTestSuite.ForwardTransfersToNonExistingSCsHaveNotTheRightDependencies (4 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.InitialCoinsTransferDoesNotModifyScBalanceBeforeCoinsMaturity
[0;32m[       OK ] [mSidechainTestSuite.InitialCoinsTransferDoesNotModifyScBalanceBeforeCoinsMaturity (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.InitialCoinsTransferModifiesScBalanceAtCoinMaturity
[0;32m[       OK ] [mSidechainTestSuite.InitialCoinsTransferModifiesScBalanceAtCoinMaturity (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.InitialCoinsTransferDoesNotModifyScBalanceAfterCoinsMaturity

[WARNING] ../src/gtest-death-test.cc:836:: Death tests use fork(), which is unsafe particularly in a threaded context. For this test, Google Test detected 3 threads.
[0;32m[       OK ] [mSidechainTestSuite.InitialCoinsTransferDoesNotModifyScBalanceAfterCoinsMaturity (247 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.RestoreImmatureBalancesAffectsScBalance
[0;32m[       OK ] [mSidechainTestSuite.RestoreImmatureBalancesAffectsScBalance (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.YouCannotRestoreMoreCoinsThanAvailableBalance
[0;32m[       OK ] [mSidechainTestSuite.YouCannotRestoreMoreCoinsThanAvailableBalance (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.RestoringBeforeBalanceMaturesHasNoEffects
[0;32m[       OK ] [mSidechainTestSuite.RestoringBeforeBalanceMaturesHasNoEffects (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.YouCannotRestoreCoinsFromInexistentSc
[0;32m[       OK ] [mSidechainTestSuite.YouCannotRestoreCoinsFromInexistentSc (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.RestoreImmatureBalancesRestoresLastCertHash
[0;32m[       OK ] [mSidechainTestSuite.RestoreImmatureBalancesRestoresLastCertHash (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.RevertingScCreationTxRemovesTheSc
[0;32m[       OK ] [mSidechainTestSuite.RevertingScCreationTxRemovesTheSc (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.RevertingFwdTransferRemovesCoinsFromImmatureBalance
[0;32m[       OK ] [mSidechainTestSuite.RevertingFwdTransferRemovesCoinsFromImmatureBalance (1 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.ScCreationTxCannotBeRevertedIfScIsNotPreviouslyCreated
[0;32m[       OK ] [mSidechainTestSuite.ScCreationTxCannotBeRevertedIfScIsNotPreviouslyCreated (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.FwdTransferTxToUnexistingScCannotBeReverted
[0;32m[       OK ] [mSidechainTestSuite.FwdTransferTxToUnexistingScCannotBeReverted (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.RevertingAFwdTransferOnTheWrongHeightHasNoEffect
[0;32m[       OK ] [mSidechainTestSuite.RevertingAFwdTransferOnTheWrongHeightHasNoEffect (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.NewSCsAreRegistered
[0;32m[       OK ] [mSidechainTestSuite.NewSCsAreRegistered (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.DuplicatedSCsAreRejected
[0;32m[       OK ] [mSidechainTestSuite.DuplicatedSCsAreRejected (1 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.NoRollbackIsPerformedOnceInvalidTransactionIsEncountered
[0;32m[       OK ] [mSidechainTestSuite.NoRollbackIsPerformedOnceInvalidTransactionIsEncountered (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.ForwardTransfersToNonExistentSCsAreRejected
[0;32m[       OK ] [mSidechainTestSuite.ForwardTransfersToNonExistentSCsAreRejected (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.ForwardTransfersToExistentSCsAreRegistered
[0;32m[       OK ] [mSidechainTestSuite.ForwardTransfersToExistentSCsAreRegistered (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.NewSidechainsHaveNullLastCertificateHash
[0;32m[       OK ] [mSidechainTestSuite.NewSidechainsHaveNullLastCertificateHash (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.CertificateUpdatesLastCertificateHash
[0;32m[       OK ] [mSidechainTestSuite.CertificateUpdatesLastCertificateHash (1 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.FRESHSidechainsGetWrittenInBackingCache
[0;32m[       OK ] [mSidechainTestSuite.FRESHSidechainsGetWrittenInBackingCache (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.FRESHSidechainsCanBeWrittenOnlyIfUnknownToBackingCache

[WARNING] ../src/gtest-death-test.cc:836:: Death tests use fork(), which is unsafe particularly in a threaded context. For this test, Google Test detected 3 threads.
[0;32m[       OK ] [mSidechainTestSuite.FRESHSidechainsCanBeWrittenOnlyIfUnknownToBackingCache (164 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.DIRTYSidechainsAreStoredInBackingCache
[0;32m[       OK ] [mSidechainTestSuite.DIRTYSidechainsAreStoredInBackingCache (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.DIRTYSidechainsUpdatesDirtyOnesInBackingCache
[0;32m[       OK ] [mSidechainTestSuite.DIRTYSidechainsUpdatesDirtyOnesInBackingCache (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.DIRTYSidechainsOverwriteErasedOnesInBackingCache
[0;32m[       OK ] [mSidechainTestSuite.DIRTYSidechainsOverwriteErasedOnesInBackingCache (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.ERASEDSidechainsSetExistingOnesInBackingCacheasErased
[0;32m[       OK ] [mSidechainTestSuite.ERASEDSidechainsSetExistingOnesInBackingCacheasErased (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.DEFAULTSidechainsCanBeWrittenInBackingCacheasOnlyIfUnchanged

[WARNING] ../src/gtest-death-test.cc:836:: Death tests use fork(), which is unsafe particularly in a threaded context. For this test, Google Test detected 3 threads.
[0;32m[       OK ] [mSidechainTestSuite.DEFAULTSidechainsCanBeWrittenInBackingCacheasOnlyIfUnchanged (162 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.FlushPersistsNewSidechains
[0;32m[       OK ] [mSidechainTestSuite.FlushPersistsNewSidechains (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.FlushPersistsForwardTransfers
[0;32m[       OK ] [mSidechainTestSuite.FlushPersistsForwardTransfers (1 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.FlushPersistsScErasureToo
[0;32m[       OK ] [mSidechainTestSuite.FlushPersistsScErasureToo (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.FlushPersistsNewScsOnTopOfErasedOnes
[0;32m[       OK ] [mSidechainTestSuite.FlushPersistsNewScsOnTopOfErasedOnes (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.queryScIdsReturnsNonErasedSidechains
[0;32m[       OK ] [mSidechainTestSuite.queryScIdsReturnsNonErasedSidechains (0 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.queryScIdsOnChainstateDbSelectOnlySidechains
Opened LevelDB successfully
[0;32m[       OK ] [mSidechainTestSuite.queryScIdsOnChainstateDbSelectOnlySidechains (1 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.CSidechainFromMempoolRetrievesUnconfirmedInformation
[0;32m[       OK ] [mSidechainTestSuite.CSidechainFromMempoolRetrievesUnconfirmedInformation (1 ms)
[0;32m[ RUN      ] [mSidechainTestSuite.CSidechainBlockUndoVersioning
[0;32m[       OK ] [mSidechainTestSuite.CSidechainBlockUndoVersioning (0 ms)
[0;32m[----------] [m49 tests from SidechainTestSuite (674 ms total)

[0;32m[----------] [m18 tests from SidechainsInMempoolTestSuite
[0;32m[ RUN      ] [mSidechainsInMempoolTestSuite.NewSidechainsAreAcceptedToMempool
Wiping LevelDB in /tmp/098a-78e1-ab1f-e0bb/regtest/chainstate
Opening LevelDB in /tmp/098a-78e1-ab1f-e0bb/regtest/chainstate
Opened LevelDB successfully
getInitRequireStandard():7437 - regtest: using val 1 (Y)
nFees=999, txMinFee=0
[0;32m[       OK ] [mSidechainsInMempoolTestSuite.NewSidechainsAreAcceptedToMempool (12 ms)
[0;32m[ RUN      ] [mSidechainsInMempoolTestSuite.DuplicatedSidechainsAreNotAcceptedToMempool
Wiping LevelDB in /tmp/babb-b3a6-fe23-da63/regtest/chainstate
Opening LevelDB in /tmp/babb-b3a6-fe23-da63/regtest/chainstate
Opened LevelDB successfully
nFees=999, txMinFee=0
[0;32m[       OK ] [mSidechainsInMempoolTestSuite.DuplicatedSidechainsAreNotAcceptedToMempool (7 ms)
[0;32m[ RUN      ] [mSidechainsInMempoolTestSuite.DuplicationsOfConfirmedSidechainsAreNotAcceptedToMempool
Wiping LevelDB in /tmp/0ae8-8e87-40dd-2be5/regtest/chainstate
Opening LevelDB in /tmp/0ae8-8e87-40dd-2be5/regtest/chainstate
Opened LevelDB successfully
ERROR: AcceptToMemoryPool: sidechain is redeclared or coins are forwarded to unknown sidechain
[0;32m[       OK ] [mSidechainsInMempoolTestSuite.DuplicationsOfConfirmedSidechainsAreNotAcceptedToMempool (7 ms)
[0;32m[ RUN      ] [mSidechainsInMempoolTestSuite.FwdTransfersToConfirmedSideChainsAreAllowed
Wiping LevelDB in /tmp/d6da-4f6d-08d4-0481/regtest/chainstate
Opening LevelDB in /tmp/d6da-4f6d-08d4-0481/regtest/chainstate
Opened LevelDB successfully
nFees=990, txMinFee=0
[0;32m[       OK ] [mSidechainsInMempoolTestSuite.FwdTransfersToConfirmedSideChainsAreAllowed (13 ms)
[0;32m[ RUN      ] [mSidechainsInMempoolTestSuite.FwdTransfersToSideChainsInMempoolAreAllowed
Wiping LevelDB in /tmp/0f31-c3b5-5a3e-3eb4/regtest/chainstate
Opening LevelDB in /tmp/0f31-c3b5-5a3e-3eb4/regtest/chainstate
Opened LevelDB successfully
nFees=999, txMinFee=0
nFees=990, txMinFee=0
[0;32m[       OK ] [mSidechainsInMempoolTestSuite.FwdTransfersToSideChainsInMempoolAreAllowed (10 ms)
[0;32m[ RUN      ] [mSidechainsInMempoolTestSuite.FwdTransfersToUnknownSideChainAreNotAllowed
Wiping LevelDB in /tmp/6e14-891e-4e2d-6bac/regtest/chainstate
Opening LevelDB in /tmp/6e14-891e-4e2d-6bac/regtest/chainstate
Opened LevelDB successfully
ERROR: AcceptToMemoryPool: sidechain is redeclared or coins are forwarded to unknown sidechain
[0;32m[       OK ] [mSidechainsInMempoolTestSuite.FwdTransfersToUnknownSideChainAreNotAllowed (6 ms)
[0;32m[ RUN      ] [mSidechainsInMempoolTestSuite.hasSidechainCreationTxTest
Wiping LevelDB in /tmp/7d0a-610b-8729-bc23/regtest/chainstate
Opening LevelDB in /tmp/7d0a-610b-8729-bc23/regtest/chainstate
Opened LevelDB successfully
[0;32m[       OK ] [mSidechainsInMempoolTestSuite.hasSidechainCreationTxTest (8 ms)
[0;32m[ RUN      ] [mSidechainsInMempoolTestSuite.ScAndFwdsInMempool_ScNonRecursiveRemoval
Wiping LevelDB in /tmp/993d-981c-29f5-68b1/regtest/chainstate
Opening LevelDB in /tmp/993d-981c-29f5-68b1/regtest/chainstate
Opened LevelDB successfully
[0;32m[       OK ] [mSidechainsInMempoolTestSuite.ScAndFwdsInMempool_ScNonRecursiveRemoval (6 ms)
[0;32m[ RUN      ] [mSidechainsInMempoolTestSuite.ScAndFwdsInMempool_ScNonRecursiveRemoval_DifferentScCreationTx
Wiping LevelDB in /tmp/5e51-fc37-f8db-9361/regtest/chainstate
Opening LevelDB in /tmp/5e51-fc37-f8db-9361/regtest/chainstate
Opened LevelDB successfully
[0;32m[       OK ] [mSidechainsInMempoolTestSuite.ScAndFwdsInMempool_ScNonRecursiveRemoval_DifferentScCreationTx (7 ms)
[0;32m[ RUN      ] [mSidechainsInMempoolTestSuite.RemoveConflictsHandlesConflictingSidechainDeclarations
Wiping LevelDB in /tmp/e5e7-27a5-3eb0-1c11/regtest/chainstate
Opening LevelDB in /tmp/e5e7-27a5-3eb0-1c11/regtest/chainstate
Opened LevelDB successfully
[0;32m[       OK ] [mSidechainsInMempoolTestSuite.RemoveConflictsHandlesConflictingSidechainDeclarations (8 ms)
[0;32m[ RUN      ] [mSidechainsInMempoolTestSuite.FwdsOnlyInMempool_FwdNonRecursiveRemoval
Wiping LevelDB in /tmp/db60-a783-ba03-aa09/regtest/chainstate
Opening LevelDB in /tmp/db60-a783-ba03-aa09/regtest/chainstate
Opened LevelDB successfully
[0;32m[       OK ] [mSidechainsInMempoolTestSuite.FwdsOnlyInMempool_FwdNonRecursiveRemoval (8 ms)
[0;32m[ RUN      ] [mSidechainsInMempoolTestSuite.ScAndFwdsInMempool_ScRecursiveRemoval
Wiping LevelDB in /tmp/e831-4300-2049-7a68/regtest/chainstate
Opening LevelDB in /tmp/e831-4300-2049-7a68/regtest/chainstate
Opened LevelDB successfully
[0;32m[       OK ] [mSidechainsInMempoolTestSuite.ScAndFwdsInMempool_ScRecursiveRemoval (8 ms)
[0;32m[ RUN      ] [mSidechainsInMempoolTestSuite.FwdsOnlyInMempool_ScRecursiveRemoval
Wiping LevelDB in /tmp/1baa-b7d3-ce9e-37a6/regtest/chainstate
Opening LevelDB in /tmp/1baa-b7d3-ce9e-37a6/regtest/chainstate
Opened LevelDB successfully
[0;32m[       OK ] [mSidechainsInMempoolTestSuite.FwdsOnlyInMempool_ScRecursiveRemoval (7 ms)
[0;32m[ RUN      ] [mSidechainsInMempoolTestSuite.ScAndFwdsInMempool_FwdRecursiveRemoval
Wiping LevelDB in /tmp/ca75-f534-b074-b8ee/regtest/chainstate
Opening LevelDB in /tmp/ca75-f534-b074-b8ee/regtest/chainstate
Opened LevelDB successfully
[0;32m[       OK ] [mSidechainsInMempoolTestSuite.ScAndFwdsInMempool_FwdRecursiveRemoval (7 ms)
[0;32m[ RUN      ] [mSidechainsInMempoolTestSuite.SimpleCertRemovalFromMempool
Wiping LevelDB in /tmp/14a4-0831-b42b-79ce/regtest/chainstate
Opening LevelDB in /tmp/14a4-0831-b42b-79ce/regtest/chainstate
Opened LevelDB successfully
[0;32m[       OK ] [mSidechainsInMempoolTestSuite.SimpleCertRemovalFromMempool (5 ms)
[0;32m[ RUN      ] [mSidechainsInMempoolTestSuite.ConflictingCertRemovalFromMempool
Wiping LevelDB in /tmp/3bd9-ae37-188a-6a89/regtest/chainstate
Opening LevelDB in /tmp/3bd9-ae37-188a-6a89/regtest/chainstate
Opened LevelDB successfully
[0;32m[       OK ] [mSidechainsInMempoolTestSuite.ConflictingCertRemovalFromMempool (6 ms)
[0;32m[ RUN      ] [mSidechainsInMempoolTestSuite.FwdsAndCertInMempool_CertRemovalDoesNotAffectFwt
Wiping LevelDB in /tmp/3c21-12ee-973a-6bf0/regtest/chainstate
Opening LevelDB in /tmp/3c21-12ee-973a-6bf0/regtest/chainstate
Opened LevelDB successfully
[0;32m[       OK ] [mSidechainsInMempoolTestSuite.FwdsAndCertInMempool_CertRemovalDoesNotAffectFwt (6 ms)
[0;32m[ RUN      ] [mSidechainsInMempoolTestSuite.FwdsAndCertInMempool_FwtRemovalDoesNotAffectCert
Wiping LevelDB in /tmp/5837-0e98-6a23-21f2/regtest/chainstate
Opening LevelDB in /tmp/5837-0e98-6a23-21f2/regtest/chainstate
Opened LevelDB successfully
[0;32m[       OK ] [mSidechainsInMempoolTestSuite.FwdsAndCertInMempool_FwtRemovalDoesNotAffectCert (8 ms)
[0;32m[----------] [m18 tests from SidechainsInMempoolTestSuite (139 ms total)

[0;32m[----------] [m26 tests from CeasedSidechainsTestSuite
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.UnknownSidechainIsNeitherAliveNorCeased
[0;32m[       OK ] [mCeasedSidechainsTestSuite.UnknownSidechainIsNeitherAliveNorCeased (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.SidechainInItsFirstEpochIsNotCeased
[0;32m[       OK ] [mCeasedSidechainsTestSuite.SidechainInItsFirstEpochIsNotCeased (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.SidechainIsNotCeasedBeforeNextEpochSafeguard
[0;32m[       OK ] [mCeasedSidechainsTestSuite.SidechainIsNotCeasedBeforeNextEpochSafeguard (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.SidechainIsCeasedAftereNextEpochSafeguard
[0;32m[       OK ] [mCeasedSidechainsTestSuite.SidechainIsCeasedAftereNextEpochSafeguard (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.FullCertMovesSidechainTerminationToNextEpochSafeguard
[0;32m[       OK ] [mCeasedSidechainsTestSuite.FullCertMovesSidechainTerminationToNextEpochSafeguard (1 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.PureBwtCertificateMovesSidechainTerminationToNextEpochSafeguard
[0;32m[       OK ] [mCeasedSidechainsTestSuite.PureBwtCertificateMovesSidechainTerminationToNextEpochSafeguard (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.NoBwtCertificateMovesSidechainTerminationToNextEpochSafeguard
[0;32m[       OK ] [mCeasedSidechainsTestSuite.NoBwtCertificateMovesSidechainTerminationToNextEpochSafeguard (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.EmptyCertificateMovesSidechainTerminationToNextEpochSafeguard
[0;32m[       OK ] [mCeasedSidechainsTestSuite.EmptyCertificateMovesSidechainTerminationToNextEpochSafeguard (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.CeasingHeightUpdateForScCreation
[0;32m[       OK ] [mCeasedSidechainsTestSuite.CeasingHeightUpdateForScCreation (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.CeasingHeightUpdateForFullCert
[0;32m[       OK ] [mCeasedSidechainsTestSuite.CeasingHeightUpdateForFullCert (1 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.CeasingHeightUpdateForPureBwtCert
[0;32m[       OK ] [mCeasedSidechainsTestSuite.CeasingHeightUpdateForPureBwtCert (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.CeasingHeightUpdateForNoBwtCert
[0;32m[       OK ] [mCeasedSidechainsTestSuite.CeasingHeightUpdateForNoBwtCert (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.CeasingHeightUpdateForEmptyCertificate
[0;32m[       OK ] [mCeasedSidechainsTestSuite.CeasingHeightUpdateForEmptyCertificate (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.FullCertCoinsHaveBwtStrippedOutWhenSidechainCeases
[0;32m[       OK ] [mCeasedSidechainsTestSuite.FullCertCoinsHaveBwtStrippedOutWhenSidechainCeases (1 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.PureBwtCoinsAreRemovedWhenSidechainCeases
[0;32m[       OK ] [mCeasedSidechainsTestSuite.PureBwtCoinsAreRemovedWhenSidechainCeases (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.NoBwtCertificatesCoinsAreNotAffectedByCeasedSidechainHandling
[0;32m[       OK ] [mCeasedSidechainsTestSuite.NoBwtCertificatesCoinsAreNotAffectedByCeasedSidechainHandling (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.EmptyCertificatesCoinsAreNotAffectedByCeasedSidechainHandling
[0;32m[       OK ] [mCeasedSidechainsTestSuite.EmptyCertificatesCoinsAreNotAffectedByCeasedSidechainHandling (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.RestoreFullCertCeasedCoins
[0;32m[       OK ] [mCeasedSidechainsTestSuite.RestoreFullCertCeasedCoins (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.RestorePureBwtCeasedCoins
[0;32m[       OK ] [mCeasedSidechainsTestSuite.RestorePureBwtCeasedCoins (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.RestoreNoBwtCeasedCoins
[0;32m[       OK ] [mCeasedSidechainsTestSuite.RestoreNoBwtCeasedCoins (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.RestoreEmptyCertCeasedCoins
[0;32m[       OK ] [mCeasedSidechainsTestSuite.RestoreEmptyCertCeasedCoins (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.UndoCeasingScs
[0;32m[       OK ] [mCeasedSidechainsTestSuite.UndoCeasingScs (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.UndoFullCertUpdatesToCeasingScs
[0;32m[       OK ] [mCeasedSidechainsTestSuite.UndoFullCertUpdatesToCeasingScs (1 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.UndoPureBwtCertUpdatesToCeasingScs
[0;32m[       OK ] [mCeasedSidechainsTestSuite.UndoPureBwtCertUpdatesToCeasingScs (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.UndoNoBwtCertUpdatesToCeasingScs
[0;32m[       OK ] [mCeasedSidechainsTestSuite.UndoNoBwtCertUpdatesToCeasingScs (0 ms)
[0;32m[ RUN      ] [mCeasedSidechainsTestSuite.UndoEmptyCertUpdatesToCeasingScs
[0;32m[       OK ] [mCeasedSidechainsTestSuite.UndoEmptyCertUpdatesToCeasingScs (0 ms)
[0;32m[----------] [m26 tests from CeasedSidechainsTestSuite (6 ms total)

[0;32m[----------] [m20 tests from wallet_tests
[0;32m[ RUN      ] [mwallet_tests.setup_datadir_location_run_as_first_test
[0;32m[       OK ] [mwallet_tests.setup_datadir_location_run_as_first_test (0 ms)
[0;32m[ RUN      ] [mwallet_tests.note_data_serialisation
[0;32m[       OK ] [mwallet_tests.note_data_serialisation (1 ms)
[0;32m[ RUN      ] [mwallet_tests.find_unspent_notes
GetFilteredNotes():4585 - mnd.size=1
GetNotesAmount():4656 - wtx[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439], mnd.size=1
GetNotesAmount():4701 - adding[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439] (ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439)
GetFilteredNotes():4585 - mnd.size=1
GetNotesAmount():4656 - wtx[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439], mnd.size=1
GetNotesAmount():4701 - adding[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439] (ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439)
GetFilteredNotes():4585 - mnd.size=1
GetNotesAmount():4656 - wtx[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439], mnd.size=1
GetNotesAmount():4701 - adding[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439] (ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439)
GetFilteredNotes():4585 - mnd.size=1
GetNotesAmount():4656 - wtx[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439], mnd.size=1
GetNotesAmount():4670 - skipping[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439]
GetFilteredNotes():4585 - mnd.size=1
GetNotesAmount():4656 - wtx[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439], mnd.size=1
GetNotesAmount():4701 - adding[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439] (ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439)
GetFilteredNotes():4585 - mnd.size=1
GetNotesAmount():4656 - wtx[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439], mnd.size=1
GetNotesAmount():4701 - adding[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439] (ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439)
GetFilteredNotes():4585 - mnd.size=1
GetNotesAmount():4656 - wtx[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439], mnd.size=1
GetNotesAmount():4670 - skipping[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439]
GetFilteredNotes():4585 - mnd.size=1
GetNotesAmount():4656 - wtx[4af2849bee26e66c3f69e80e76d838bb257bda71ae4bbb831cb72a2f5e829763], mnd.size=1
GetNotesAmount():4701 - adding[4af2849bee26e66c3f69e80e76d838bb257bda71ae4bbb831cb72a2f5e829763] (4af2849bee26e66c3f69e80e76d838bb257bda71ae4bbb831cb72a2f5e829763)
GetFilteredNotes():4585 - mnd.size=1
GetNotesAmount():4656 - wtx[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439], mnd.size=1
GetNotesAmount():4701 - adding[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439] (ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439)
GetFilteredNotes():4585 - mnd.size=1
GetNotesAmount():4656 - wtx[4af2849bee26e66c3f69e80e76d838bb257bda71ae4bbb831cb72a2f5e829763], mnd.size=1
GetNotesAmount():4701 - adding[4af2849bee26e66c3f69e80e76d838bb257bda71ae4bbb831cb72a2f5e829763] (4af2849bee26e66c3f69e80e76d838bb257bda71ae4bbb831cb72a2f5e829763)
GetFilteredNotes():4585 - mnd.size=1
GetNotesAmount():4656 - wtx[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439], mnd.size=1
GetNotesAmount():4701 - adding[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439] (ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439)
GetFilteredNotes():4585 - mnd.size=1
GetNotesAmount():4656 - wtx[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439], mnd.size=1
GetNotesAmount():4670 - skipping[ffa6886ffa85d3b1cbad2c7a03aacdb958c75352a755320b26db6e548cf0e439]
[0;32m[       OK ] [mwallet_tests.find_unspent_notes (4 ms)
[0;32m[ RUN      ] [mwallet_tests.set_note_addrs_in_cwallettx
[0;32m[       OK ] [mwallet_tests.set_note_addrs_in_cwallettx (0 ms)
[0;32m[ RUN      ] [mwallet_tests.set_invalid_note_addrs_in_cwallettx
[0;32m[       OK ] [mwallet_tests.set_invalid_note_addrs_in_cwallettx (0 ms)
[0;32m[ RUN      ] [mwallet_tests.FindMyNotes
[0;32m[       OK ] [mwallet_tests.FindMyNotes (2 ms)
[0;32m[ RUN      ] [mwallet_tests.FindMyNotesInEncryptedWallet
[0;32m[       OK ] [mwallet_tests.FindMyNotesInEncryptedWallet (1 ms)
[0;32m[ RUN      ] [mwallet_tests.get_conflicted_notes
[0;32m[       OK ] [mwallet_tests.get_conflicted_notes (2 ms)
[0;32m[ RUN      ] [mwallet_tests.nullifier_is_spent
[0;32m[       OK ] [mwallet_tests.nullifier_is_spent (1 ms)
[0;32m[ RUN      ] [mwallet_tests.navigate_from_nullifier_to_note
[0;32m[       OK ] [mwallet_tests.navigate_from_nullifier_to_note (1 ms)
[0;32m[ RUN      ] [mwallet_tests.spent_note_is_from_me
[0;32m[       OK ] [mwallet_tests.spent_note_is_from_me (2 ms)
[0;32m[ RUN      ] [mwallet_tests.cached_witnesses_empty_chain
[0;32m[       OK ] [mwallet_tests.cached_witnesses_empty_chain (1 ms)
[0;32m[ RUN      ] [mwallet_tests.cached_witnesses_chain_tip
[0;32m[       OK ] [mwallet_tests.cached_witnesses_chain_tip (1 ms)
[0;32m[ RUN      ] [mwallet_tests.CachedWitnessesDecrementFirst
[0;32m[       OK ] [mwallet_tests.CachedWitnessesDecrementFirst (2 ms)
[0;32m[ RUN      ] [mwallet_tests.CachedWitnessesCleanIndex
[0;32m[       OK ] [mwallet_tests.CachedWitnessesCleanIndex (350 ms)
[0;32m[ RUN      ] [mwallet_tests.ClearNoteWitnessCache
[0;32m[       OK ] [mwallet_tests.ClearNoteWitnessCache (1 ms)
[0;32m[ RUN      ] [mwallet_tests.WriteWitnessCache
SetBestChain(): Couldn't start atomic write
SetBestChain(): Failed to write CWalletTx, aborting atomic write
SetBestChain(): Unexpected error during atomic write:
Boom
SetBestChain(): Failed to write nWitnessCacheSize, aborting atomic write
SetBestChain(): Unexpected error during atomic write:
Boom
SetBestChain(): Failed to write best block, aborting atomic write
SetBestChain(): Unexpected error during atomic write:
Boom
SetBestChain(): Couldn't commit atomic write
[0;32m[       OK ] [mwallet_tests.WriteWitnessCache (2 ms)
[0;32m[ RUN      ] [mwallet_tests.UpdateNullifierNoteMap
[0;32m[       OK ] [mwallet_tests.UpdateNullifierNoteMap (1 ms)
[0;32m[ RUN      ] [mwallet_tests.UpdatedNoteData
[0;32m[       OK ] [mwallet_tests.UpdatedNoteData (1 ms)
[0;32m[ RUN      ] [mwallet_tests.MarkAffectedTransactionsDirty
[0;32m[       OK ] [mwallet_tests.MarkAffectedTransactionsDirty (1 ms)
[0;32m[----------] [m20 tests from wallet_tests (374 ms total)

[0;32m[----------] [m2 tests from WalletTests
[0;32m[ RUN      ] [mWalletTests.CheckNoteCommitmentAgainstNotePlaintext
[0;32m[       OK ] [mWalletTests.CheckNoteCommitmentAgainstNotePlaintext (1 ms)
[0;32m[ RUN      ] [mWalletTests.GetNoteNullifier
[0;32m[       OK ] [mWalletTests.GetNoteNullifier (1 ms)
[0;32m[----------] [m2 tests from WalletTests (2 ms total)

[0;32m[----------] [mGlobal test environment tear-down
[0;32m[==========] [m268 tests from 37 test cases ran. (467696 ms total)
[0;32m[  PASSED  ] [m268 tests.

[0;33m  YOU HAVE 1 DISABLED TEST

[m
--------------------
Finished stage gtest

Running stage sec-hard
======================

make: Entering directory '/mnt/horizen_dev_disk/horizen/code_review_temp/zen/src'
Checking binary security of [zend zen-cli zen-tx]...
make: Leaving directory '/mnt/horizen_dev_disk/horizen/code_review_temp/zen/src'
PASS: src/zend has no RPATH or RUNPATH.
PASS: src/zen-cli has no RPATH or RUNPATH.
PASS: src/zen-gtest has no RPATH or RUNPATH.
PASS: src/zen-tx has no RPATH or RUNPATH.
PASS: src/test/test_bitcoin has no RPATH or RUNPATH.
PASS: src/zcash/GenerateParams has no RPATH or RUNPATH.
PASS: src/zend has FORTIFY_SOURCE.
PASS: src/zen-cli has FORTIFY_SOURCE.
PASS: src/zen-gtest has FORTIFY_SOURCE.
PASS: src/zen-tx has FORTIFY_SOURCE.
PASS: src/test/test_bitcoin has FORTIFY_SOURCE.
PASS: src/zcash/GenerateParams has FORTIFY_SOURCE.

-----------------------
Finished stage sec-hard

Running stage no-dot-so
=======================

PASS.

------------------------
Finished stage no-dot-so

Running stage util-test
=======================


------------------------
Finished stage util-test

Running stage secp256k1
=======================

make: Entering directory '/mnt/horizen_dev_disk/horizen/code_review_temp/zen/src/secp256k1'
(CDPATH="${ZSH_VERSION+.}:" && cd . && /bin/bash /mnt/horizen_dev_disk/horizen/code_review_temp/zen/src/secp256k1/build-aux/missing autoheader)
rm -f src/stamp-h1
touch src/libsecp256k1-config.h.in
cd . && /bin/bash ./config.status src/libsecp256k1-config.h
config.status: creating src/libsecp256k1-config.h
config.status: src/libsecp256k1-config.h is unchanged
  CC       src/tests-tests.o
  CCLD     tests
  CC       src/exhaustive_tests-tests_exhaustive.o
  CCLD     exhaustive_tests
make  check-TESTS
make[1]: Entering directory '/mnt/horizen_dev_disk/horizen/code_review_temp/zen/src/secp256k1'
make[2]: Entering directory '/mnt/horizen_dev_disk/horizen/code_review_temp/zen/src/secp256k1'
[0;32mPASS[m: tests
[0;32mPASS[m: exhaustive_tests
[0;32m============================================================================[m
[0;32mTestsuite summary for libsecp256k1 0.1[m
[0;32m============================================================================[m
[1m# TOTAL: 2[m
[0;32m# PASS:  2[m
# SKIP:  0
# XFAIL: 0
# FAIL:  0
# XPASS: 0
# ERROR: 0
[0;32m============================================================================[m
make[2]: Leaving directory '/mnt/horizen_dev_disk/horizen/code_review_temp/zen/src/secp256k1'
make[1]: Leaving directory '/mnt/horizen_dev_disk/horizen/code_review_temp/zen/src/secp256k1'
make: Leaving directory '/mnt/horizen_dev_disk/horizen/code_review_temp/zen/src/secp256k1'

------------------------
Finished stage secp256k1

Running stage libsnark
======================

make: Entering directory '/mnt/horizen_dev_disk/horizen/code_review_temp/zen/src'
make[1]: Entering directory '/mnt/horizen_dev_disk/horizen/code_review_temp/zen/src/snark'
libsnark/gtests
[0;32m[==========] [mRunning 8 tests from 4 test cases.
[0;32m[----------] [mGlobal test environment set-up.
[0;32m[----------] [m4 tests from algebra
[0;32m[ RUN      ] [malgebra.bilinearity
Reset time counters for profiling
Running bilinearity tests:
P:
(3831655364310587622341153498765014972825993406257922095021156552224812725510 , 8830561273565841582965397115679667513908649722165817389135491495588888484770)
(9083098826084903309183645361851559457482800466604120980413273545214834669812 : 18520468557115048726907753714158259047050218163386733237881877244075959782945 : 18299826497715789943260989738613302179803985168145376074270817982719992284541)
Q:
(2351118042886099051393737688397412992187700236552864214720374082522903606065*z + 19020620082031439802501945785513687867701007245781511459587155984871471242258 , 589440328097803429690055426515444666919302961372933165388242046875123514913*z + 21314477165769625229233359324117591391975872180728403397178132732168753650568)
(17868326292690506312961679919296642490976369024714698513821851904247486302004*z + 6499554178278396694457026534989626089907877653505702377848845255989329700916 : 9211318254248542609299736615060067060321000686247249899593538660112791236341*z + 16750829952785238806544957331323056726857667836452907771185190653150381713549 : 14545363311637862658383140717512630880342667719643132521645832957962938958920*z + 15688861755066483631197577804333002157252169552458347411549256541917815591100)


Pairing bilinearity tests (three must match):
c0/c1:
c0/c1/c2:
c0/c1:
11888833828495322466437866933742951315893131706191036218218452876093058020360
2410466911630458447732141362817336066194186351797513801454748785942059541646
c0/c1:
14714450869033874000040718416527658259947334313890589322820116498525965206318
14664985504370897357121400405763193480775218804405188557683760704325757692547
c0/c1:
10010993557655868380436259484595828114243404833615367236043136628658543090543
4800568914079490357923839580118736095058284131328907602215237172103276847880
c0/c1/c2:
c0/c1:
21694732124095278762858145757002305009693574526154604127852216648345190012432
6632805721167658459832423921444139692039337224100393339173242051696789954418
c0/c1:
5660842114684593901259190306777028516197465128450660959173893393698085280141
10146919768639212238706797363436413309769724117806350772866376864252060570313
c0/c1:
1978446014518275883956954020594944485461048715375907399805270999133508819602
577486948490390593108365845432832413839965950750927862883926291081053608104
c0/c1:
c0/c1/c2:
c0/c1:
11888833828495322466437866933742951315893131706191036218218452876093058020360
2410466911630458447732141362817336066194186351797513801454748785942059541646
c0/c1:
14714450869033874000040718416527658259947334313890589322820116498525965206318
14664985504370897357121400405763193480775218804405188557683760704325757692547
c0/c1:
10010993557655868380436259484595828114243404833615367236043136628658543090543
4800568914079490357923839580118736095058284131328907602215237172103276847880
c0/c1/c2:
c0/c1:
21694732124095278762858145757002305009693574526154604127852216648345190012432
6632805721167658459832423921444139692039337224100393339173242051696789954418
c0/c1:
5660842114684593901259190306777028516197465128450660959173893393698085280141
10146919768639212238706797363436413309769724117806350772866376864252060570313
c0/c1:
1978446014518275883956954020594944485461048715375907399805270999133508819602
577486948490390593108365845432832413839965950750927862883926291081053608104
c0/c1:
c0/c1/c2:
c0/c1:
11888833828495322466437866933742951315893131706191036218218452876093058020360
2410466911630458447732141362817336066194186351797513801454748785942059541646
c0/c1:
14714450869033874000040718416527658259947334313890589322820116498525965206318
14664985504370897357121400405763193480775218804405188557683760704325757692547
c0/c1:
10010993557655868380436259484595828114243404833615367236043136628658543090543
4800568914079490357923839580118736095058284131328907602215237172103276847880
c0/c1/c2:
c0/c1:
21694732124095278762858145757002305009693574526154604127852216648345190012432
6632805721167658459832423921444139692039337224100393339173242051696789954418
c0/c1:
5660842114684593901259190306777028516197465128450660959173893393698085280141
10146919768639212238706797363436413309769724117806350772866376864252060570313
c0/c1:
1978446014518275883956954020594944485461048715375907399805270999133508819602
577486948490390593108365845432832413839965950750927862883926291081053608104


[0;32m[       OK ] [malgebra.bilinearity (47 ms)
[0;32m[ RUN      ] [malgebra.groups
[0;32m[       OK ] [malgebra.groups (1551 ms)
[0;32m[ RUN      ] [malgebra.bigint
[0;32m[       OK ] [malgebra.bigint (0 ms)
[0;32m[ RUN      ] [malgebra.fields
[0;32m[       OK ] [malgebra.fields (84 ms)
[0;32m[----------] [m4 tests from algebra (1683 ms total)

[0;32m[----------] [m2 tests from gadgetlib1
[0;32m[ RUN      ] [mgadgetlib1.sha256
Reset time counters for profiling
Number of constraints for sha256_two_to_one_hash_gadget: 27280
[0;32m[       OK ] [mgadgetlib1.sha256 (82 ms)
[0;32m[ RUN      ] [mgadgetlib1.merkle_tree
Reset time counters for profiling
[0;32m[       OK ] [mgadgetlib1.merkle_tree (4811 ms)
[0;32m[----------] [m2 tests from gadgetlib1 (4893 ms total)

[0;32m[----------] [m1 test from relations
[0;32m[ RUN      ] [mrelations.qap
Reset time counters for profiling
* QAP degree: 2097152
* Number of inputs: 10
* Number of R1CS constraints: 2097141
* Input type: binary
* QAP degree: 2097152
* Number of inputs: 10
* Number of R1CS constraints: 2097141
* Input type: field
[0;32m[       OK ] [mrelations.qap (93130 ms)
[0;32m[----------] [m1 test from relations (93130 ms total)

[0;32m[----------] [m1 test from zk_proof_systems
[0;32m[ RUN      ] [mzk_proof_systems.r1cs_ppzksnark
Reset time counters for profiling

================================================================================
(enter) Test R1CS ppzkSNARK
================================================================================


================================================================================
R1CS ppzkSNARK Generator
================================================================================

Swap is not beneficial, not performing
* QAP number of variables: 1020
* QAP pre degree: 1000
* QAP degree: 1024
* QAP number of input variables: 20
* G1 window: 9
* G2 window: 7
* G1 elements in PK: 7159
* Non-zero G1 elements in PK: 5549
* G2 elements in PK: 1022
* Non-zero G2 elements in PK: 494
* PK size in bits: 1794249
* G1 elements in VK: 22
* G2 elements in VK: 5
* VK size in bits: 9690

* Memory profiling not supported in NO_PROCPS mode

================================================================================
Preprocess verification key
================================================================================


================================================================================
R1CS ppzkSNARK Prover
================================================================================


* Memory profiling not supported in NO_PROCPS mode

================================================================================
R1CS ppzkSNARK Verifier
================================================================================


* Memory profiling not supported in NO_PROCPS mode
* The verification result is: PASS

================================================================================
R1CS ppzkSNARK Online Verifier
================================================================================


================================================================================
R1CS ppzkSNARK Affine Verifier
================================================================================

Affine verifier is not supported; not testing anything.

================================================================================
(leave) Test R1CS ppzkSNARK
================================================================================

[0;32m[       OK ] [mzk_proof_systems.r1cs_ppzksnark (351 ms)
[0;32m[----------] [m1 test from zk_proof_systems (351 ms total)

[0;32m[----------] [mGlobal test environment tear-down
[0;32m[==========] [m8 tests from 4 test cases ran. (100057 ms total)
[0;32m[  PASSED  ] [m8 tests.
make[1]: Leaving directory '/mnt/horizen_dev_disk/horizen/code_review_temp/zen/src/snark'
make: Leaving directory '/mnt/horizen_dev_disk/horizen/code_review_temp/zen/src'

-----------------------
Finished stage libsnark

Running stage univalue
======================

make: Entering directory '/mnt/horizen_dev_disk/horizen/code_review_temp/zen/src/univalue'
  CXX      test/test_unitester-unitester.o
  CXXLD    test/unitester
  CXX      test/test_no_nul-no_nul.o
  CXXLD    test/no_nul
  CXX      test/test_test_json-test_json.o
  CXXLD    test/test_json
make  check-TESTS
make[1]: Entering directory '/mnt/horizen_dev_disk/horizen/code_review_temp/zen/src/univalue'
make[2]: Entering directory '/mnt/horizen_dev_disk/horizen/code_review_temp/zen/src/univalue'
[0;32mPASS[m: test/unitester
[0;32mPASS[m: test/no_nul
[0;32m============================================================================[m
[0;32mTestsuite summary for univalue 1.0.3[m
[0;32m============================================================================[m
[1m# TOTAL: 2[m
[0;32m# PASS:  2[m
# SKIP:  0
# XFAIL: 0
# FAIL:  0
# XPASS: 0
# ERROR: 0
[0;32m============================================================================[m
make[2]: Leaving directory '/mnt/horizen_dev_disk/horizen/code_review_temp/zen/src/univalue'
make[1]: Leaving directory '/mnt/horizen_dev_disk/horizen/code_review_temp/zen/src/univalue'
make: Leaving directory '/mnt/horizen_dev_disk/horizen/code_review_temp/zen/src/univalue'

-----------------------
Finished stage univalue

Running stage rpc
=================

=== Running testscript paymentdisclosure.py ===
Initializing test directory /tmp/testZ9IVou
Mining blocks...
waiting for async operation opid-a9fd2a30-9fa4-4ae5-b198-4e5339e8d230
waiting for async operation opid-89aa2e5e-36dc-4e30-a404-f185828111bb
Stopping nodes
Cleaning up
Tests successful
--- Success: paymentdisclosure.py ---

=== Running testscript prioritisetransaction.py ===
Initializing test directory /tmp/testOODFsr
Mining 11kb blocks...
Stopping nodes
Cleaning up
Tests successful
--- Success: prioritisetransaction.py ---

=== Running testscript wallet_treestate.py ===
Initializing test directory /tmp/testEoR0ht
Mining blocks...
waiting for async operation opid-5e15e661-46f2-43fe-b64a-b8d8b4bff47d
waiting for async operation opid-b584b641-084e-40b8-974d-2d0633dfd163
waiting for async operation opid-b3eb8ae1-b5fd-4a05-a86e-e3f321ad765a
waiting for async operation opid-9c2dfc8d-381c-4fdd-96cf-da0597e26bfb
waiting for async operation opid-c884dc2c-98a8-4cae-b798-95a332de603a
Stopping nodes
Cleaning up
Tests successful
--- Success: wallet_treestate.py ---

=== Running testscript wallet_protectcoinbase.py ===
Initializing test directory /tmp/testBMbj2i
Mining blocks...
waiting for async operation opid-4df45b19-a18a-45d2-84de-94890ef6da6a
waiting for async operation opid-95c910b4-9592-47c0-b8d2-d3a3bc81c7e0
waiting for async operation opid-4b3defa6-62de-499d-9899-82529df6f787
waiting for async operation opid-af4a6174-ad20-4761-8b4c-d9839985e84a
...returned status: failed
...returned error: Insufficient transparent funds, have 11.4375, need 0.00000062 more to avoid creating invalid change output 0.00000001 (dust threshold is 0.00000063)
waiting for async operation opid-d38b14e8-7cb4-4854-9537-821303665373
...returned status: failed
...returned error: Insufficient transparent funds, have 11.4375, need 10000.0001
waiting for async operation opid-46881f9e-9bbc-4fcf-85df-93961bec87a5
...returned status: failed
...returned error: Insufficient protected funds, have 11.4373, need 10000.0001
...invoked getnewaddress() 1385 times in 5.85076117516 seconds
waiting for async operation opid-7bc98315-227c-4d46-a2be-99f2ffa21bfa
waiting for async operation opid-71d47fc7-71e9-4160-a573-de1eaab7d23a
Stopping nodes
Cleaning up
Tests successful
--- Success: wallet_protectcoinbase.py ---

=== Running testscript wallet_shieldcoinbase.py ===
Initializing test directory /tmp/testLoaZO1
Mining blocks...
waiting for async operation opid-b8e49c0d-a72c-478b-8f0b-89166fcbdfd2

...returned status: success
waiting for async operation opid-a9bd50c0-d55f-4fab-bef2-0a62a68effa7
...returned status: success
waiting for async operation opid-dd2ed457-81ee-43f0-80e7-e2f121dd3982
...returned status: success
waiting for async operation opid-eec1179a-b66a-4abd-996e-abefb7be6898
...returned status: success
waiting for async operation opid-ca0b9df3-721b-4f6b-a2db-b97162065a38
...returned status: success
waiting for async operation opid-26f12c53-8840-4aab-b478-08f6b23c901a
...returned status: success
waiting for async operation opid-333e9690-7d32-49b2-ad7a-db4823275d1b
...returned status: success
Stopping nodes
Cleaning up
Tests successful
--- Success: wallet_shieldcoinbase.py ---

=== Running testscript wallet.py ===
Initializing test directory /tmp/testj47g0Y
Mining blocks...
Stopping nodes
Cleaning up
Tests successful
--- Success: wallet.py ---

=== Running testscript wallet_nullifiers.py ===
Initializing test directory /tmp/testjoKbZH
Stopping nodes
Cleaning up
Tests successful
--- Success: wallet_nullifiers.py ---

=== Running testscript wallet_1941.py ===
Initializing test directory /tmp/testUxie9H
Mining blocks...
waiting for async operation opid-35b7d26c-0a20-412c-be8e-8945236a812f
Stopping nodes
Cleaning up
Tests successful
--- Success: wallet_1941.py ---

=== Running testscript wallet_grothtx.py ===
Initializing test directory /tmp/test6peRqJ
waiting for async operation opid-382bba50-8257-4c70-89b1-1cb6574b40de
waiting for async operation opid-c1f057ca-2f64-4526-8a17-272379e809d6
waiting for async operation opid-420cc600-8e43-45e3-8cac-b144b95076a4
waiting for async operation opid-16353c37-8682-47e4-b257-4c5b85ee3542
Stopping nodes
Cleaning up
Tests successful
--- Success: wallet_grothtx.py ---

=== Running testscript listtransactions.py ===
Initializing test directory /tmp/test0Jnrsa
Stopping nodes
Cleaning up
Tests successful
--- Success: listtransactions.py ---

=== Running testscript mempool_resurrect_test.py ===
Initializing test directory /tmp/testlpXmXg
Stopping nodes
Cleaning up
Tests successful
--- Success: mempool_resurrect_test.py ---

=== Running testscript txn_doublespend.py ===
Initializing test directory /tmp/testzGvhIE
Stopping nodes
Cleaning up
Tests successful
--- Success: txn_doublespend.py ---

=== Running testscript txn_doublespend.py --mineblock ===
Initializing test directory /tmp/test6ukTwf
Stopping nodes
Cleaning up
Tests successful
--- Success: txn_doublespend.py --mineblock ---

=== Running testscript getchaintips.py ===
Initializing test directory /tmp/test2zE1HR
Stopping nodes
Cleaning up
Tests successful
--- Success: getchaintips.py ---

=== Running testscript rawtransactions.py ===
////////////////////
Initializing test directory /tmp/testg4Oa3h
Testing the SC creation with createrawtransaction function
Node 1 generate 111 blocks to reach height 221...
Node 1 sends 10 coins to node 0 to have a UTXO...
Try create a SC with no inputs...
Create a SC of id: 0000000000000000000000000000000000000000000000000000000000000022
Verify all nodes see the new SC...
{u'withdrawalEpochLength': 123, u'customData': u'badcaffe', u'immature amounts': [], u'created at block height': 223, u'creating tx hash': u'0ff59d16eff427b81dad32dbf2d9ccfdaac76c7ab62a51597258f7c9d2152482', u'last certificate epoch': -1, u'scid': u'0000000000000000000000000000000000000000000000000000000000000022', u'balance': Decimal('10.00000000'), u'created in block': u'0eccc672682a8583cfe708e8363b0f17b5cf7a59ea9737342d305dcf57690909'}
{u'withdrawalEpochLength': 123, u'customData': u'badcaffe', u'immature amounts': [], u'created at block height': 223, u'creating tx hash': u'0ff59d16eff427b81dad32dbf2d9ccfdaac76c7ab62a51597258f7c9d2152482', u'last certificate epoch': -1, u'scid': u'0000000000000000000000000000000000000000000000000000000000000022', u'balance': Decimal('10.00000000'), u'created in block': u'0eccc672682a8583cfe708e8363b0f17b5cf7a59ea9737342d305dcf57690909'}
{u'withdrawalEpochLength': 123, u'customData': u'badcaffe', u'immature amounts': [], u'created at block height': 223, u'creating tx hash': u'0ff59d16eff427b81dad32dbf2d9ccfdaac76c7ab62a51597258f7c9d2152482', u'last certificate epoch': -1, u'scid': u'0000000000000000000000000000000000000000000000000000000000000022', u'balance': Decimal('10.00000000'), u'created in block': u'0eccc672682a8583cfe708e8363b0f17b5cf7a59ea9737342d305dcf57690909'}
Decode the new SC with decoderawtransaction function...
{u'vout': [], u'vsc_ccout': [{u'withdrawal epoch length': 123, u'customData': u'badcaffe', u'value': Decimal('3.00000000'), u'n': 0, u'scid': u'0000000000000000000000000000000000000000000000000000000000000022', u'address': u'0000000000000000000000000000000000000000000000000000000000000abc'}], u'vjoinsplit': [], u'vin': [{u'sequence': 4294967295, u'scriptSig': {u'hex': u'47304402201c1d0f355a3491e4ee583f9d68f5e873fab9a788393aa9910d0bf0b77073be98022043e28d4a96f8fba5ca24fb42d66893a44abe7e2c3eed10f45ba8c002b754654f012102a0059d20f6d712ff92aaa7f7218ab53e384ac52e97dcb9c7c055896bd22b3b7e', u'asm': u'304402201c1d0f355a3491e4ee583f9d68f5e873fab9a788393aa9910d0bf0b77073be98022043e28d4a96f8fba5ca24fb42d66893a44abe7e2c3eed10f45ba8c002b754654f01 02a0059d20f6d712ff92aaa7f7218ab53e384ac52e97dcb9c7c055896bd22b3b7e'}, u'vout': 0, u'txid': u'e8026e2993a7205b99774f41e086888877a4953300d53360abf89e0f5e1b6efc'}], u'txid': u'0ff59d16eff427b81dad32dbf2d9ccfdaac76c7ab62a51597258f7c9d2152482', u'version': -4, u'locktime': 0, u'vft_ccout': [{u'address': u'0000000000000000000000000000000000000000000000000000000000000abc', u'scid': u'0000000000000000000000000000000000000000000000000000000000000022', u'value': Decimal('7.00000000'), u'n': 1}]}
Try create a SC with the same scid...
Duplicate scid
Try create new FT of 11 coins using fund cmd
Verify all nodes see the new FT...
{u'withdrawalEpochLength': 123, u'customData': u'badcaffe', u'immature amounts': [], u'created at block height': 223, u'creating tx hash': u'0ff59d16eff427b81dad32dbf2d9ccfdaac76c7ab62a51597258f7c9d2152482', u'last certificate epoch': -1, u'scid': u'0000000000000000000000000000000000000000000000000000000000000022', u'balance': Decimal('14.09544000'), u'created in block': u'0eccc672682a8583cfe708e8363b0f17b5cf7a59ea9737342d305dcf57690909'}
{u'withdrawalEpochLength': 123, u'customData': u'badcaffe', u'immature amounts': [], u'created at block height': 223, u'creating tx hash': u'0ff59d16eff427b81dad32dbf2d9ccfdaac76c7ab62a51597258f7c9d2152482', u'last certificate epoch': -1, u'scid': u'0000000000000000000000000000000000000000000000000000000000000022', u'balance': Decimal('14.09544000'), u'created in block': u'0eccc672682a8583cfe708e8363b0f17b5cf7a59ea9737342d305dcf57690909'}
{u'withdrawalEpochLength': 123, u'customData': u'badcaffe', u'immature amounts': [], u'created at block height': 223, u'creating tx hash': u'0ff59d16eff427b81dad32dbf2d9ccfdaac76c7ab62a51597258f7c9d2152482', u'last certificate epoch': -1, u'scid': u'0000000000000000000000000000000000000000000000000000000000000022', u'balance': Decimal('14.09544000'), u'created in block': u'0eccc672682a8583cfe708e8363b0f17b5cf7a59ea9737342d305dcf57690909'}
Stopping nodes
Cleaning up
Tests successful
--- Success: rawtransactions.py ---

=== Running testscript rest.py ===
Initializing test directory /tmp/testDrqhv6
Mining blocks...
Stopping nodes
Cleaning up
Tests successful
--- Success: rest.py ---

=== Running testscript mempool_spendcoinbase.py ===
Initializing test directory /tmp/test0NIvDG
Stopping nodes
Cleaning up
Tests successful
--- Success: mempool_spendcoinbase.py ---

=== Running testscript mempool_coinbase_spends.py ===
Initializing test directory /tmp/test51OlLJ
Stopping nodes
Cleaning up
Tests successful
--- Success: mempool_coinbase_spends.py ---

=== Running testscript mempool_tx_input_limit.py ===
Initializing test directory /tmp/test7U5oeh
waiting for async operation opid-602b3127-2c00-41d7-b28d-92c03454702f
waiting for async operation opid-ee856b65-1456-4d24-8092-f107a6e562fe
Stopping nodes
Cleaning up
Tests successful
--- Success: mempool_tx_input_limit.py ---

=== Running testscript httpbasics.py ===
Initializing test directory /tmp/testXkNk3u
Stopping nodes
Cleaning up
Tests successful
--- Success: httpbasics.py ---

=== Running testscript zapwallettxes.py ===
Initializing test directory /tmp/testXM1JSB
Mining blocks...

Stopping nodes
Cleaning up
Tests successful
--- Success: zapwallettxes.py ---

=== Running testscript proxy_test.py ===
Initializing test directory /tmp/testiFZxMI
Proxy:  Socks5Command(1,3,15.61.23.23,1234,None,None)
Proxy:  Socks5Command(1,3,15.61.23.23,1234,None,None)
Proxy:  Socks5Command(1,3,1233:3432:2434:2343:3234:2345:6546:4534,5443,None,None)
Proxy:  Socks5Command(1,3,1233:3432:2434:2343:3234:2345:6546:4534,5443,None,None)
Proxy:  Socks5Command(1,3,bitcoinostk4e4re.onion,8333,None,None)
Proxy:  Socks5Command(1,3,bitcoinostk4e4re.onion,8333,None,None)
Proxy:  Socks5Command(1,3,node.noumenon,8333,None,None)
Proxy:  Socks5Command(1,3,15.61.23.23,1234,None,None)
Proxy:  Socks5Command(1,3,15.61.23.23,1234,None,None)
Proxy:  Socks5Command(1,3,1233:3432:2434:2343:3234:2345:6546:4534,5443,None,None)
Proxy:  Socks5Command(1,3,1233:3432:2434:2343:3234:2345:6546:4534,5443,None,None)
Proxy:  Socks5Command(1,3,bitcoinostk4e4re.onion,8333,None,None)
Proxy:  Socks5Command(1,3,bitcoinostk4e4re.onion,8333,None,None)
Proxy:  Socks5Command(1,3,node.noumenon,8333,None,None)
Proxy:  Socks5Command(1,3,15.61.23.23,1234,91632771,1889679809)
Proxy:  Socks5Command(1,3,15.61.23.23,1234,3842137544,3256031132)
Proxy:  Socks5Command(1,3,1233:3432:2434:2343:3234:2345:6546:4534,5443,1761911779,489223532)
Proxy:  Socks5Command(1,3,1233:3432:2434:2343:3234:2345:6546:4534,5443,2692793790,2737472863)
Proxy:  Socks5Command(1,3,bitcoinostk4e4re.onion,8333,2796262275,1309899767)
Proxy:  Socks5Command(1,3,bitcoinostk4e4re.onion,8333,840571781,707551099)
Proxy:  Socks5Command(1,3,node.noumenon,8333,781871353,4058534909)
Proxy:  Socks5Command(1,3,15.61.23.23,1234,None,None)
Proxy:  Socks5Command(1,3,15.61.23.23,1234,None,None)
Proxy:  Socks5Command(1,3,1233:3432:2434:2343:3234:2345:6546:4534,5443,None,None)
Proxy:  Socks5Command(1,3,1233:3432:2434:2343:3234:2345:6546:4534,5443,None,None)
Proxy:  Socks5Command(1,3,node.noumenon,8333,None,None)
Stopping nodes
Cleaning up
Tests successful
--- Success: proxy_test.py ---

=== Running testscript merkle_blocks.py ===
Initializing test directory /tmp/test8DhzTx
Mining blocks...
Stopping nodes
Cleaning up
Tests successful
--- Success: merkle_blocks.py ---

=== Running testscript fundrawtransaction.py ===
Initializing test directory /tmp/testMi2hgm
Mining blocks...
Stopping nodes
Cleaning up
Tests successful
--- Success: fundrawtransaction.py ---

=== Running testscript signrawtransactions.py ===
Initializing test directory /tmp/testibRap1
Stopping nodes
Cleaning up
Tests successful
--- Success: signrawtransactions.py ---

=== Running testscript walletbackup.py ===
INFO:Initializing test directory /tmp/testykE3Xm
INFO:Generating initial blockchain
INFO:Creating transactions
INFO:Backing up
INFO:More transactions
INFO:Restoring using wallet.dat
INFO:Re-starting nodes
INFO:Restoring using dumped wallet
Stopping nodes
Cleaning up
Tests successful
--- Success: walletbackup.py ---

=== Running testscript key_import_export.py ===
Initializing test directory /tmp/testQG2Xju
INFO:Sending pre-export txns...
INFO:Exporting privkey from bob...
INFO:Sending post-export txns...
INFO:Importing privkey into charlie...
INFO:Sending post-import txns...
Stopping nodes
Cleaning up
Tests successful
--- Success: key_import_export.py ---

=== Running testscript nodehandling.py ===
Initializing test directory /tmp/testiqfxyt
Connection to self stress test. Constantly trying to connect to self every 0.5 sec. The whole test takes approx 5 mins
Stopping nodes
Cleaning up
Tests successful
--- Success: nodehandling.py ---

=== Running testscript reindex.py ===
Initializing test directory /tmp/test8TtxdT
Success
Stopping nodes
Cleaning up
Tests successful
--- Success: reindex.py ---

=== Running testscript decodescript.py ===
Initializing test directory /tmp/testagtXtL
Stopping nodes
Cleaning up
Tests successful
--- Success: decodescript.py ---

=== Running testscript disablewallet.py ===
Initializing test directory /tmp/testISCEyF
Stopping nodes
Cleaning up
Tests successful
--- Success: disablewallet.py ---

=== Running testscript zcjoinsplit.py ===
Initializing test directory /tmp/testLKmjtG
Done!
Stopping nodes
Cleaning up
Tests successful
--- Success: zcjoinsplit.py ---

=== Running testscript zcjoinsplitdoublespend.py ===
Initializing test directory /tmp/test6sKWyE
Waiting for AB_txid...

Done!

Stopping nodes
Cleaning up
Tests successful
--- Success: zcjoinsplitdoublespend.py ---

=== Running testscript zkey_import_export.py ===
Initializing test directory /tmp/testj3mpP1
waiting for async operation opid-e732cd3e-bf9a-4733-bdec-1666deb8e813
('Results', {u'status': u'success', u'execution_secs': Decimal('64.727649894'), u'creation_time': 1589537122, u'id': u'opid-e732cd3e-bf9a-4733-bdec-1666deb8e813', u'params': {u'fee': Decimal('0.00010000'), u'fromaddress': u'*', u'toaddress': u'ztJUgnJ9UScYpXTCYSSAGipux7XCcwbtXUJSzvtLFSXLcRq7smBy52BJV7vDqdPd3yynwfWfhdSs6AFQJvKptBg6didDGBD'}, u'result': {u'txid': u'2a5fe125a96f4fc6abe281fdf3443921000811f5841189e28c7df2ca598466e7'}, u'method': u'z_shieldcoinbase'})
...returned status: success
('Sorted txs', [])
('amts', [])
INFO:Sending pre-export txns...
waiting for async operation opid-e38db190-6902-48d4-96fe-6f57c40f178f
('Results', {u'status': u'success', u'execution_secs': Decimal('63.875715663'), u'creation_time': 1589537189, u'id': u'opid-e38db190-6902-48d4-96fe-6f57c40f178f', u'params': {u'amounts': [{u'amount': Decimal('2.3'), u'address': u'ztp6XzGTPR86fuAsKKvaVstUGhzJmVsY2ZRMqgGpjyZFwe4d7SNNV2WnJLtFFhjkLL6KqLJtGkfEsWFxf8cj9oEWvs9VG7D'}], u'minconf': 1, u'fromaddress': u'ztJUgnJ9UScYpXTCYSSAGipux7XCcwbtXUJSzvtLFSXLcRq7smBy52BJV7vDqdPd3yynwfWfhdSs6AFQJvKptBg6didDGBD', u'fee': Decimal('0.0001')}, u'result': {u'txid': u'0929df46532e3d3ec443a6e57b3bbfc74a064069dccce693c4251695d71c73b4'}, u'method': u'z_sendmany'})
...returned status: success
waiting for async operation opid-34e1b315-8ead-4267-a34b-49b7d78b2ff8
('Results', {u'status': u'success', u'execution_secs': Decimal('63.722998225'), u'creation_time': 1589537255, u'id': u'opid-34e1b315-8ead-4267-a34b-49b7d78b2ff8', u'params': {u'amounts': [{u'amount': Decimal('3.7'), u'address': u'ztp6XzGTPR86fuAsKKvaVstUGhzJmVsY2ZRMqgGpjyZFwe4d7SNNV2WnJLtFFhjkLL6KqLJtGkfEsWFxf8cj9oEWvs9VG7D'}], u'minconf': 1, u'fromaddress': u'ztJUgnJ9UScYpXTCYSSAGipux7XCcwbtXUJSzvtLFSXLcRq7smBy52BJV7vDqdPd3yynwfWfhdSs6AFQJvKptBg6didDGBD', u'fee': Decimal('0.0001')}, u'result': {u'txid': u'e04af528549fe84c7411c55af359b22cb864c537c7de7127c07e737545e3e223'}, u'method': u'z_sendmany'})
...returned status: success
INFO:Exporting privkey from bob...
INFO:Sending post-export txns...
waiting for async operation opid-f83ab2bc-3b0b-459c-a28b-c83fe6fbe243
('Results', {u'status': u'success', u'execution_secs': Decimal('64.080889238'), u'creation_time': 1589537321, u'id': u'opid-f83ab2bc-3b0b-459c-a28b-c83fe6fbe243', u'params': {u'amounts': [{u'amount': Decimal('0.1'), u'address': u'ztp6XzGTPR86fuAsKKvaVstUGhzJmVsY2ZRMqgGpjyZFwe4d7SNNV2WnJLtFFhjkLL6KqLJtGkfEsWFxf8cj9oEWvs9VG7D'}], u'minconf': 1, u'fromaddress': u'ztJUgnJ9UScYpXTCYSSAGipux7XCcwbtXUJSzvtLFSXLcRq7smBy52BJV7vDqdPd3yynwfWfhdSs6AFQJvKptBg6didDGBD', u'fee': Decimal('0.0001')}, u'result': {u'txid': u'3becf616bb42495272ff7224a8fe55f8210088f71bbed76767e1879d2ee6fd3f'}, u'method': u'z_sendmany'})
...returned status: success
waiting for async operation opid-62b2a5f4-6998-49fa-be82-841aba32006f
('Results', {u'status': u'success', u'execution_secs': Decimal('64.29744395199999'), u'creation_time': 1589537388, u'id': u'opid-62b2a5f4-6998-49fa-be82-841aba32006f', u'params': {u'amounts': [{u'amount': Decimal('0.5'), u'address': u'ztp6XzGTPR86fuAsKKvaVstUGhzJmVsY2ZRMqgGpjyZFwe4d7SNNV2WnJLtFFhjkLL6KqLJtGkfEsWFxf8cj9oEWvs9VG7D'}], u'minconf': 1, u'fromaddress': u'ztJUgnJ9UScYpXTCYSSAGipux7XCcwbtXUJSzvtLFSXLcRq7smBy52BJV7vDqdPd3yynwfWfhdSs6AFQJvKptBg6didDGBD', u'fee': Decimal('0.0001')}, u'result': {u'txid': u'baff246bd82ce70d4b30d7515757b2e12498f1c03062d375b98dee25ed788bad'}, u'method': u'z_sendmany'})
...returned status: success
('Bob amounts:', [Decimal('2.3'), Decimal('3.7'), Decimal('0.1'), Decimal('0.5')])
('Sorted txs', [{u'amount': Decimal('3.70000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'e04af528549fe84c7411c55af359b22cb864c537c7de7127c07e737545e3e223'}, {u'amount': Decimal('2.30000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'0929df46532e3d3ec443a6e57b3bbfc74a064069dccce693c4251695d71c73b4'}, {u'amount': Decimal('0.50000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'baff246bd82ce70d4b30d7515757b2e12498f1c03062d375b98dee25ed788bad'}, {u'amount': Decimal('0.10000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'3becf616bb42495272ff7224a8fe55f8210088f71bbed76767e1879d2ee6fd3f'}])
('amts', [Decimal('3.7'), Decimal('2.3'), Decimal('0.5'), Decimal('0.1')])
INFO:Importing privkey into charlie...
('Sorted txs', [{u'amount': Decimal('3.70000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'e04af528549fe84c7411c55af359b22cb864c537c7de7127c07e737545e3e223'}, {u'amount': Decimal('2.30000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'0929df46532e3d3ec443a6e57b3bbfc74a064069dccce693c4251695d71c73b4'}, {u'amount': Decimal('0.50000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'baff246bd82ce70d4b30d7515757b2e12498f1c03062d375b98dee25ed788bad'}, {u'amount': Decimal('0.10000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'3becf616bb42495272ff7224a8fe55f8210088f71bbed76767e1879d2ee6fd3f'}])
('amts', [Decimal('3.7'), Decimal('2.3'), Decimal('0.5'), Decimal('0.1')])
('Sorted txs', [{u'amount': Decimal('3.70000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'e04af528549fe84c7411c55af359b22cb864c537c7de7127c07e737545e3e223'}, {u'amount': Decimal('2.30000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'0929df46532e3d3ec443a6e57b3bbfc74a064069dccce693c4251695d71c73b4'}, {u'amount': Decimal('0.50000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'baff246bd82ce70d4b30d7515757b2e12498f1c03062d375b98dee25ed788bad'}, {u'amount': Decimal('0.10000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'3becf616bb42495272ff7224a8fe55f8210088f71bbed76767e1879d2ee6fd3f'}])
('amts', [Decimal('3.7'), Decimal('2.3'), Decimal('0.5'), Decimal('0.1')])
INFO:Sending post-import txns...
waiting for async operation opid-2223cac0-317c-4d54-a4e8-5fca31b0b9a7
('Results', {u'status': u'success', u'execution_secs': Decimal('63.875211372'), u'creation_time': 1589537455, u'id': u'opid-2223cac0-317c-4d54-a4e8-5fca31b0b9a7', u'params': {u'amounts': [{u'amount': Decimal('1.0'), u'address': u'ztp6XzGTPR86fuAsKKvaVstUGhzJmVsY2ZRMqgGpjyZFwe4d7SNNV2WnJLtFFhjkLL6KqLJtGkfEsWFxf8cj9oEWvs9VG7D'}], u'minconf': 1, u'fromaddress': u'ztJUgnJ9UScYpXTCYSSAGipux7XCcwbtXUJSzvtLFSXLcRq7smBy52BJV7vDqdPd3yynwfWfhdSs6AFQJvKptBg6didDGBD', u'fee': Decimal('0.0001')}, u'result': {u'txid': u'bdd3e12ae1da197bcdea593899efa5d00ab7c6156751fc2ac0dbbcdf744daa72'}, u'method': u'z_sendmany'})
...returned status: success
waiting for async operation opid-3a554f6e-e322-4ff2-aa3a-eb945d404b3f
('Results', {u'status': u'success', u'execution_secs': Decimal('63.801944399'), u'creation_time': 1589537520, u'id': u'opid-3a554f6e-e322-4ff2-aa3a-eb945d404b3f', u'params': {u'amounts': [{u'amount': Decimal('0.19'), u'address': u'ztp6XzGTPR86fuAsKKvaVstUGhzJmVsY2ZRMqgGpjyZFwe4d7SNNV2WnJLtFFhjkLL6KqLJtGkfEsWFxf8cj9oEWvs9VG7D'}], u'minconf': 1, u'fromaddress': u'ztJUgnJ9UScYpXTCYSSAGipux7XCcwbtXUJSzvtLFSXLcRq7smBy52BJV7vDqdPd3yynwfWfhdSs6AFQJvKptBg6didDGBD', u'fee': Decimal('0.0001')}, u'result': {u'txid': u'e7e7816796c94c921448bae0a262d780b056085abd58b01f3bbe7bbfa603f3e4'}, u'method': u'z_sendmany'})
...returned status: success
('Sorted txs', [{u'amount': Decimal('3.70000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'e04af528549fe84c7411c55af359b22cb864c537c7de7127c07e737545e3e223'}, {u'amount': Decimal('2.30000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'0929df46532e3d3ec443a6e57b3bbfc74a064069dccce693c4251695d71c73b4'}, {u'amount': Decimal('1.00000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'bdd3e12ae1da197bcdea593899efa5d00ab7c6156751fc2ac0dbbcdf744daa72'}, {u'amount': Decimal('0.50000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'baff246bd82ce70d4b30d7515757b2e12498f1c03062d375b98dee25ed788bad'}, {u'amount': Decimal('0.19000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'e7e7816796c94c921448bae0a262d780b056085abd58b01f3bbe7bbfa603f3e4'}, {u'amount': Decimal('0.10000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'3becf616bb42495272ff7224a8fe55f8210088f71bbed76767e1879d2ee6fd3f'}])
('amts', [Decimal('3.7'), Decimal('2.3'), Decimal('1.0'), Decimal('0.5'), Decimal('0.19'), Decimal('0.1')])
('Sorted txs', [{u'amount': Decimal('3.70000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'e04af528549fe84c7411c55af359b22cb864c537c7de7127c07e737545e3e223'}, {u'amount': Decimal('2.30000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'0929df46532e3d3ec443a6e57b3bbfc74a064069dccce693c4251695d71c73b4'}, {u'amount': Decimal('1.00000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'bdd3e12ae1da197bcdea593899efa5d00ab7c6156751fc2ac0dbbcdf744daa72'}, {u'amount': Decimal('0.50000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'baff246bd82ce70d4b30d7515757b2e12498f1c03062d375b98dee25ed788bad'}, {u'amount': Decimal('0.19000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'e7e7816796c94c921448bae0a262d780b056085abd58b01f3bbe7bbfa603f3e4'}, {u'amount': Decimal('0.10000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'3becf616bb42495272ff7224a8fe55f8210088f71bbed76767e1879d2ee6fd3f'}])
('amts', [Decimal('3.7'), Decimal('2.3'), Decimal('1.0'), Decimal('0.5'), Decimal('0.19'), Decimal('0.1')])
('Sorted txs', [{u'amount': Decimal('3.70000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'e04af528549fe84c7411c55af359b22cb864c537c7de7127c07e737545e3e223'}, {u'amount': Decimal('2.30000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'0929df46532e3d3ec443a6e57b3bbfc74a064069dccce693c4251695d71c73b4'}, {u'amount': Decimal('1.00000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'bdd3e12ae1da197bcdea593899efa5d00ab7c6156751fc2ac0dbbcdf744daa72'}, {u'amount': Decimal('0.50000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'baff246bd82ce70d4b30d7515757b2e12498f1c03062d375b98dee25ed788bad'}, {u'amount': Decimal('0.19000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'e7e7816796c94c921448bae0a262d780b056085abd58b01f3bbe7bbfa603f3e4'}, {u'amount': Decimal('0.10000000'), u'memo': u'f600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', u'txid': u'3becf616bb42495272ff7224a8fe55f8210088f71bbed76767e1879d2ee6fd3f'}])
('amts', [Decimal('3.7'), Decimal('2.3'), Decimal('1.0'), Decimal('0.5'), Decimal('0.19'), Decimal('0.1')])
('Sending amount from bob to alice: ', Decimal('3.7'))
waiting for async operation opid-bba8e8f6-9f92-4f7d-a303-aea77c008c90
('Results', {u'status': u'success', u'execution_secs': Decimal('63.606801635'), u'creation_time': 1589537586, u'id': u'opid-bba8e8f6-9f92-4f7d-a303-aea77c008c90', u'params': {u'amounts': [{u'amount': Decimal('3.7'), u'address': u'ztJUgnJ9UScYpXTCYSSAGipux7XCcwbtXUJSzvtLFSXLcRq7smBy52BJV7vDqdPd3yynwfWfhdSs6AFQJvKptBg6didDGBD'}], u'minconf': 1, u'fromaddress': u'ztp6XzGTPR86fuAsKKvaVstUGhzJmVsY2ZRMqgGpjyZFwe4d7SNNV2WnJLtFFhjkLL6KqLJtGkfEsWFxf8cj9oEWvs9VG7D', u'fee': Decimal('0.0001')}, u'result': {u'txid': u'6a6f4ef2cee3a1754d25c4b931f9075849d43ffb4a4b0d3d62a6ce28bf61294f'}, u'method': u'z_sendmany'})
...returned status: success
('Sending amount from bob to alice: ', Decimal('2.3'))
waiting for async operation opid-1dbb85c8-da1e-4ad2-bf44-cb803ff7247b
('Results', {u'status': u'success', u'execution_secs': Decimal('63.106370815'), u'creation_time': 1589537653, u'id': u'opid-1dbb85c8-da1e-4ad2-bf44-cb803ff7247b', u'params': {u'amounts': [{u'amount': Decimal('2.3'), u'address': u'ztJUgnJ9UScYpXTCYSSAGipux7XCcwbtXUJSzvtLFSXLcRq7smBy52BJV7vDqdPd3yynwfWfhdSs6AFQJvKptBg6didDGBD'}], u'minconf': 1, u'fromaddress': u'ztp6XzGTPR86fuAsKKvaVstUGhzJmVsY2ZRMqgGpjyZFwe4d7SNNV2WnJLtFFhjkLL6KqLJtGkfEsWFxf8cj9oEWvs9VG7D', u'fee': Decimal('0.0001')}, u'result': {u'txid': u'cccec10df8f57cdbf8dba474d74795a47dd707bc4e3ece8c6c0e75731ed7a03d'}, u'method': u'z_sendmany'})
...returned status: success
Stopping nodes
Cleaning up
Tests successful
--- Success: zkey_import_export.py ---

=== Running testscript getblocktemplate.py ===
Initializing test directory /tmp/test7dITcb
Stopping nodes
Cleaning up
Tests successful
--- Success: getblocktemplate.py ---

=== Running testscript bip65-cltv-p2p.py ===
Initializing test directory /tmp/testV0ZDSC
Test 1: PASS []
Test 2: PASS []
Stopping nodes
Cleaning up
Tests successful
--- Success: bip65-cltv-p2p.py ---

=== Running testscript bipdersig-p2p.py ===
Initializing test directory /tmp/test2vBkjm
Test 1: PASS []
Test 2: PASS []
Stopping nodes
Cleaning up
Tests successful
--- Success: bipdersig-p2p.py ---

=== Running testscript nulldata.py ===
Initializing test directory /tmp/testJEqYSV
Stopping nodes
Cleaning up
Tests successful
--- Success: nulldata.py ---

=== Running testscript blockdelay.py ===
Initializing test directory /tmp/test2nLtL7


Genesis block is: 0da5ee723b7923feb580518541c6f098206330dbc711a6678922c11f2ccf1abb

Checking finality of block (0) [0da5ee723b7923feb580518541c6f098206330dbc711a6678922c11f2ccf1abb]
Finality does not apply to genesis block


Generating initial blockchain 104 blocks
104)  0964c583d5a95458f9972efd13f3f479a02df5902b050c09d0cfbd16124b453c

Blocks generated


Split network
The network is split

Node0 sends 3.0 coins to Node1



Generating 2 parallel chains with different length

Generating 12 honest blocks
105) 0e5c2c3715ece7e70057a64ead12dc899bd74b1fc3868c861994ccc12d8e2fa0
106) 07a3c9c064fc768121b2314f3238073348feb8926256adb0ce178a16dd625a47
107) 0cbc34f941a30cf87551975063780b51ec16058528ec04a527da27709de55c35
108) 0da96f085622f15364adf25746d833068d127b0af4438d378c31d5ac116f9ca6
109) 04ee0faf0e84bc63363232ec318a91df04037c2a906b1343751e57497c0940ec
110) 0d2bf6de186f598bbea82cf4cabba410d0f86ca13995a6c7d5dfc367365975a7
111) 05476e8de2fb4a047b13071d8d6e5d07c16ae6a410bd93b04733c3377452c6d4
112) 0785c3cd0b03c5ba953c1b9bd45df7cb6847e48e6e5f635e03a55463dec7c6c7
113) 0eabf426fbf30b0f25af2aeba1c2913ef927fac971b027a919c3ab557e1b89de
114) 04bb6c0bd52dd9a12bd3f53a572579a0404cc01acae8d8968a6b5c1cf8dfed54
115) 05c262fabedb8d40f5291ee2ed8ee4526a3caace0bdec6f4d1fdc595fcdad438
116) 05228a232667f365832f50847c3517e805f70449ec5a8996d0fa2309405be7b1
Honest block generated

Node1 balance: 3.00000000

Generating 13 malicious blocks
Malicious blocks generated
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'05228a232667f365832f50847c3517e805f70449ec5a8996d0fa2309405be7b1', u'height': 116}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'05228a232667f365832f50847c3517e805f70449ec5a8996d0fa2309405be7b1', u'height': 116}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'02ca44ac1874ba80f86272e7eba72ff0e901e46f1a84fcacf598a1e165efe6ce', u'height': 117}
---
Node3  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'02ca44ac1874ba80f86272e7eba72ff0e901e46f1a84fcacf598a1e165efe6ce', u'height': 117}
---


Join network

Network joined
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'05228a232667f365832f50847c3517e805f70449ec5a8996d0fa2309405be7b1', u'height': 116}
  {u'status': u'valid-headers', u'branchlen': 13, u'hash': u'02ca44ac1874ba80f86272e7eba72ff0e901e46f1a84fcacf598a1e165efe6ce', u'height': 117}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'05228a232667f365832f50847c3517e805f70449ec5a8996d0fa2309405be7b1', u'height': 116}
  {u'status': u'valid-headers', u'branchlen': 13, u'hash': u'02ca44ac1874ba80f86272e7eba72ff0e901e46f1a84fcacf598a1e165efe6ce', u'height': 117}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'02ca44ac1874ba80f86272e7eba72ff0e901e46f1a84fcacf598a1e165efe6ce', u'height': 117}
---
Node3  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'02ca44ac1874ba80f86272e7eba72ff0e901e46f1a84fcacf598a1e165efe6ce', u'height': 117}
  {u'status': u'headers-only', u'branchlen': 12, u'hash': u'05228a232667f365832f50847c3517e805f70449ec5a8996d0fa2309405be7b1', u'height': 116}
---

Testing if the current chain is still the honest chain
Confirmed: malicious chain is under penalty

Checking finality of first honest block [0e5c2c3715ece7e70057a64ead12dc899bd74b1fc3868c861994ccc12d8e2fa0]
  Node0 sees:
      finality: 65

  Node1 sees:
      finality: 65

  Node2 sees:
      No such block header

  Node3 sees:
      Can't tell finality of a block not on main chain


Generating 64 malicious blocks
Malicious blocks generated
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'05228a232667f365832f50847c3517e805f70449ec5a8996d0fa2309405be7b1', u'height': 116}
  {u'status': u'valid-headers', u'branchlen': 77, u'hash': u'0252d23d958fce870573c003892c37b1fa063ef6d8d0097d86c44caafe140556', u'height': 181}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'05228a232667f365832f50847c3517e805f70449ec5a8996d0fa2309405be7b1', u'height': 116}
  {u'status': u'valid-headers', u'branchlen': 77, u'hash': u'0252d23d958fce870573c003892c37b1fa063ef6d8d0097d86c44caafe140556', u'height': 181}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0252d23d958fce870573c003892c37b1fa063ef6d8d0097d86c44caafe140556', u'height': 181}
---
Node3  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0252d23d958fce870573c003892c37b1fa063ef6d8d0097d86c44caafe140556', u'height': 181}
  {u'status': u'headers-only', u'branchlen': 12, u'hash': u'05228a232667f365832f50847c3517e805f70449ec5a8996d0fa2309405be7b1', u'height': 116}
---

Testing if the current chain is still the honest chain
Confirmed: malicious chain is under penalty

Node1 balance is still the same: 3.00000000

Generating 65 more honest blocks
Honest blocks generated
[181, 172, 181, 181]
[181, 181, 181, 181]
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0bf158073f56aeefbe546201ae885fc467494442be90091dbc56454298031c05', u'height': 181}
  {u'status': u'valid-headers', u'branchlen': 77, u'hash': u'0252d23d958fce870573c003892c37b1fa063ef6d8d0097d86c44caafe140556', u'height': 181}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0bf158073f56aeefbe546201ae885fc467494442be90091dbc56454298031c05', u'height': 181}
  {u'status': u'valid-headers', u'branchlen': 77, u'hash': u'0252d23d958fce870573c003892c37b1fa063ef6d8d0097d86c44caafe140556', u'height': 181}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0252d23d958fce870573c003892c37b1fa063ef6d8d0097d86c44caafe140556', u'height': 181}
---
Node3  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0252d23d958fce870573c003892c37b1fa063ef6d8d0097d86c44caafe140556', u'height': 181}
  {u'status': u'valid-headers', u'branchlen': 77, u'hash': u'0bf158073f56aeefbe546201ae885fc467494442be90091dbc56454298031c05', u'height': 181}
---

Generating 1 more malicious block
Malicious block generated:
0e28139ea0aaeeb7b42fc4fef42d93f5faff3673fa0f6881f2539db7bd82ff64


Waiting that all network nodes are synced with same chain length
[181, 181, 181, 182]
[182, 182, 182, 182]
Network nodes are synced
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0e28139ea0aaeeb7b42fc4fef42d93f5faff3673fa0f6881f2539db7bd82ff64', u'height': 182}
  {u'status': u'valid-fork', u'branchlen': 77, u'hash': u'0bf158073f56aeefbe546201ae885fc467494442be90091dbc56454298031c05', u'height': 181}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0e28139ea0aaeeb7b42fc4fef42d93f5faff3673fa0f6881f2539db7bd82ff64', u'height': 182}
  {u'status': u'valid-fork', u'branchlen': 77, u'hash': u'0bf158073f56aeefbe546201ae885fc467494442be90091dbc56454298031c05', u'height': 181}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0e28139ea0aaeeb7b42fc4fef42d93f5faff3673fa0f6881f2539db7bd82ff64', u'height': 182}
---
Node3  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0e28139ea0aaeeb7b42fc4fef42d93f5faff3673fa0f6881f2539db7bd82ff64', u'height': 182}
  {u'status': u'valid-headers', u'branchlen': 77, u'hash': u'0bf158073f56aeefbe546201ae885fc467494442be90091dbc56454298031c05', u'height': 181}
---

Testing if all the nodes/chains have the same best tip
Confirmed: all the nodes have the same best tip

Testing if the current chain switched to the malicious chain
Confirmed: malicious chain is the best chain

Node1 balance has been erased!: 0E-8
Connecting a new node
[182, 182, 182, 182, 83]
[182, 182, 182, 182, 182]
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0e28139ea0aaeeb7b42fc4fef42d93f5faff3673fa0f6881f2539db7bd82ff64', u'height': 182}
  {u'status': u'valid-fork', u'branchlen': 77, u'hash': u'0bf158073f56aeefbe546201ae885fc467494442be90091dbc56454298031c05', u'height': 181}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0e28139ea0aaeeb7b42fc4fef42d93f5faff3673fa0f6881f2539db7bd82ff64', u'height': 182}
  {u'status': u'valid-fork', u'branchlen': 77, u'hash': u'0bf158073f56aeefbe546201ae885fc467494442be90091dbc56454298031c05', u'height': 181}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0e28139ea0aaeeb7b42fc4fef42d93f5faff3673fa0f6881f2539db7bd82ff64', u'height': 182}
---
Node3  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0e28139ea0aaeeb7b42fc4fef42d93f5faff3673fa0f6881f2539db7bd82ff64', u'height': 182}
  {u'status': u'valid-headers', u'branchlen': 77, u'hash': u'0bf158073f56aeefbe546201ae885fc467494442be90091dbc56454298031c05', u'height': 181}
---
Node4  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0e28139ea0aaeeb7b42fc4fef42d93f5faff3673fa0f6881f2539db7bd82ff64', u'height': 182}
---

Node0 generating 1 new blocks
New blocks generated
[183, 183, 183, 183, 183]
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0a0deb7eeae7b6f40240b2e03a5166abd8edda887c49d0e93da6781317df06f2', u'height': 183}
  {u'status': u'valid-fork', u'branchlen': 77, u'hash': u'0bf158073f56aeefbe546201ae885fc467494442be90091dbc56454298031c05', u'height': 181}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0a0deb7eeae7b6f40240b2e03a5166abd8edda887c49d0e93da6781317df06f2', u'height': 183}
  {u'status': u'valid-fork', u'branchlen': 77, u'hash': u'0bf158073f56aeefbe546201ae885fc467494442be90091dbc56454298031c05', u'height': 181}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0a0deb7eeae7b6f40240b2e03a5166abd8edda887c49d0e93da6781317df06f2', u'height': 183}
---
Node3  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0a0deb7eeae7b6f40240b2e03a5166abd8edda887c49d0e93da6781317df06f2', u'height': 183}
  {u'status': u'valid-headers', u'branchlen': 77, u'hash': u'0bf158073f56aeefbe546201ae885fc467494442be90091dbc56454298031c05', u'height': 181}
---
Node4  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0a0deb7eeae7b6f40240b2e03a5166abd8edda887c49d0e93da6781317df06f2', u'height': 183}
---
Node1 balance has been restored:  3.00000000
Stopping nodes
Cleaning up
Tests successful
--- Success: blockdelay.py ---

=== Running testscript blockdelay_2.py ===
Initializing test directory /tmp/testFy4vTl


Genesis block is: 0da5ee723b7923feb580518541c6f098206330dbc711a6678922c11f2ccf1abb

Checking finality of block (0) [0da5ee723b7923feb580518541c6f098206330dbc711a6678922c11f2ccf1abb]
Finality does not apply to genesis block


Network topology:

0 <--> 1 ... 0 <--> 2 ... 1 <--> 2

Node 0 (address: http://rt:rt@127.0.0.1:12537 and RPC port: 11537) has 2 peers
	ID: 1 --> Address: 127.0.0.1:11538

Node 1 (address: http://rt:rt@127.0.0.1:12538 and RPC port: 11538) has 4 peers
	ID: 2 --> Address: 127.0.0.1:11537
	ID: 3 --> Address: 127.0.0.1:11539

Node 2 (address: http://rt:rt@127.0.0.1:12539 and RPC port: 11539) has 2 peers
	ID: 2 --> Address: 127.0.0.1:11538




Generating initial blockchain 3 blocks
06665b153495d474179ebfcdd93ab7c05c971500e5c3650c9d05ab478252f82a
0c1df1c30c2b9030b31cec8d0195e3575f3c5c97ca53113cb841f5132b40226b
0d51e3af7dc542fe99317e6f289b591026b4ed3fe5c4f9521e3f59e4dd977f87
Blocks generated

Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0d51e3af7dc542fe99317e6f289b591026b4ed3fe5c4f9521e3f59e4dd977f87', u'height': 3}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0d51e3af7dc542fe99317e6f289b591026b4ed3fe5c4f9521e3f59e4dd977f87', u'height': 3}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0d51e3af7dc542fe99317e6f289b591026b4ed3fe5c4f9521e3f59e4dd977f87', u'height': 3}
---

Get best block hash for all nodes:
Best block hash for node 0: 0d51e3af7dc542fe99317e6f289b591026b4ed3fe5c4f9521e3f59e4dd977f87
Best block hash for node 1: 0d51e3af7dc542fe99317e6f289b591026b4ed3fe5c4f9521e3f59e4dd977f87
Best block hash for node 2: 0d51e3af7dc542fe99317e6f289b591026b4ed3fe5c4f9521e3f59e4dd977f87
Assert best block hash of node 0 == best block hash of node 1
Assert best block hash of node 1 == best block hash of node 2
Assert best block hash of node 1 == best block hash of node 2
Assert best block hash of node 0 == 0d51e3af7dc542fe99317e6f289b591026b4ed3fe5c4f9521e3f59e4dd977f87

Checking finality of first honest block [0d51e3af7dc542fe99317e6f289b591026b4ed3fe5c4f9521e3f59e4dd977f87]
  Node0 sees:
      finality: 2

  Node1 sees:
      finality: 2

  Node2 sees:
      finality: 2


First split. Best block hash is %s: 0d51e3af7dc542fe99317e6f289b591026b4ed3fe5c4f9521e3f59e4dd977f87


Split network
The network is splitted

0 ... 1 <--> 2

Node 0 (address: http://rt:rt@127.0.0.1:12537 and RPC port: 11537) has 2 peers
	ID: 1 --> Address: 127.0.0.1:11538

Node 1 (address: http://rt:rt@127.0.0.1:12538 and RPC port: 11538) has 4 peers
	ID: 2 --> Address: 127.0.0.1:11537
	ID: 3 --> Address: 127.0.0.1:11539

Node 2 (address: http://rt:rt@127.0.0.1:12539 and RPC port: 11539) has 2 peers
	ID: 2 --> Address: 127.0.0.1:11538



Generating 6 blocks on node 0
05531dfc35226a878885f352a6c1b8ed3cfd2f63cc2fa81b649939f064cb87bc
03792d323064df46f61d832098f681c0dec20a3ade51d925cd4dbf620424a626
07cfc8a793f31135cdd1e75d562042e78696e02e60304b540eaf3fdf2f266427
0d5d63b6f686eafc4d0ae2778322f706c0e903c7ead65866f0654fc8478f89bc
07d231fe8310bba613131bd065ed6cfc4fee370795aac8e5795fbcc3806e9424
003fd2eb363669f081ccbb835e88f423357b8d0808710ceb8bb15f6d8a2e7c92

Synch...
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'003fd2eb363669f081ccbb835e88f423357b8d0808710ceb8bb15f6d8a2e7c92', u'height': 9}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0d51e3af7dc542fe99317e6f289b591026b4ed3fe5c4f9521e3f59e4dd977f87', u'height': 3}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0d51e3af7dc542fe99317e6f289b591026b4ed3fe5c4f9521e3f59e4dd977f87', u'height': 3}
---

Get best block hash for all nodes:
Best block hash for node 0: 003fd2eb363669f081ccbb835e88f423357b8d0808710ceb8bb15f6d8a2e7c92
Best block hash for node 1: 0d51e3af7dc542fe99317e6f289b591026b4ed3fe5c4f9521e3f59e4dd977f87
Best block hash for node 2: 0d51e3af7dc542fe99317e6f289b591026b4ed3fe5c4f9521e3f59e4dd977f87

Generating 15 blocks on node 1
0ab609740ba3a9cadd4ff201fb3e6ad9328d8212f439fbfc4b46b53c87033615
0bf941e61c0f6720b583b740af42c8770f19465b65b54e7bda9b18a3f8690389
05de323a09ee314664edd1081530d2d7a2ead0d47168942e42a03739ebfbd85a
04f7df3c43213d9846239db8a51abdec3eddc4eb91ad0ca400b8903635bc4c3d
0a62ebf61745b1c6812589e7e7ae0c941b787befb237afb4ffaa82bd50e57d72
0bc29e711e5c23d7ff68d006066d6504d916a55dfe9f97a3cba5512466b4a679
0302cd1b1a17f3f6ad73785cd4eecdacce193537a92a2051413eed6533c42c16
0a7dbee5ad6331f53239159a97e8ecc96d1ea88fb7229ec46e3c44e61fb6aa8e
0e2e60e0215646172ff7eba04ba81e57c12f319608b3ea037ebcb4fd476c03f6
081af395c0cea8c015c93cb8f0a45cb0de1aa68c2072ebdfd831c9618fe584c5
0bfff495f0ae3fadc8f3db198486b3d30f2f8b9947cc1a74eda59f6875303a9a
0bee4e7f05db2dce48e80b891f0e65090d718f72c0674045778d8554148d0d3d
0bd8df3397d3ab164708a60719311d1e1275b587dbb84184b2ee0fd386407149
0864f4e73532e8a91fd9352681cfb33661389ebf1fb865fb7ce8e2592d30a461
0ef9739907f602635063df8e46c400c53c143e892b167b4a6a765e7648512f39

Synch...
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'003fd2eb363669f081ccbb835e88f423357b8d0808710ceb8bb15f6d8a2e7c92', u'height': 9}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0ef9739907f602635063df8e46c400c53c143e892b167b4a6a765e7648512f39', u'height': 18}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0ef9739907f602635063df8e46c400c53c143e892b167b4a6a765e7648512f39', u'height': 18}
---

Get best block hash for all nodes:
Best block hash for node 0: 003fd2eb363669f081ccbb835e88f423357b8d0808710ceb8bb15f6d8a2e7c92
Best block hash for node 1: 0ef9739907f602635063df8e46c400c53c143e892b167b4a6a765e7648512f39
Best block hash for node 2: 0ef9739907f602635063df8e46c400c53c143e892b167b4a6a765e7648512f39
Assert best block hash of node 0 == 003fd2eb363669f081ccbb835e88f423357b8d0808710ceb8bb15f6d8a2e7c92
Assert best block hash of node 0 == 0ef9739907f602635063df8e46c400c53c143e892b167b4a6a765e7648512f39
Assert best block hash of node 2 == 0ef9739907f602635063df8e46c400c53c143e892b167b4a6a765e7648512f39
Assert best block hash of node 1 == best block hash of node 2
Assert best block hash of node 1 != best block hash of node 0

Generating 10 blocks on node 1

Synch...

Generating 3 blocks on node 2

Synch...
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'003fd2eb363669f081ccbb835e88f423357b8d0808710ceb8bb15f6d8a2e7c92', u'height': 9}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'02b8930283780b083249215e03cdf2eadf92584f78daf3203e79599ec479ca0a', u'height': 31}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'02b8930283780b083249215e03cdf2eadf92584f78daf3203e79599ec479ca0a', u'height': 31}
---

Get best block hash for all nodes:
Best block hash for node 0: 003fd2eb363669f081ccbb835e88f423357b8d0808710ceb8bb15f6d8a2e7c92
Best block hash for node 1: 02b8930283780b083249215e03cdf2eadf92584f78daf3203e79599ec479ca0a
Best block hash for node 2: 02b8930283780b083249215e03cdf2eadf92584f78daf3203e79599ec479ca0a
Assert best block hash of node 1 == 003fd2eb363669f081ccbb835e88f423357b8d0808710ceb8bb15f6d8a2e7c92
Assert best block hash of node 1 == 02b8930283780b083249215e03cdf2eadf92584f78daf3203e79599ec479ca0a
Assert best block hash of node 1 == 02b8930283780b083249215e03cdf2eadf92584f78daf3203e79599ec479ca0a
Assert best block hash of node 1 == best block hash of node 2
Assert best block hash of node 1 != best block hash of node 0

Second split. Best block hash is %s: 02b8930283780b083249215e03cdf2eadf92584f78daf3203e79599ec479ca0a


Split network again
The network is split again

0 ... 1 ... 2

Node 0 (address: http://rt:rt@127.0.0.1:12537 and RPC port: 11537) has 0 peers

Node 1 (address: http://rt:rt@127.0.0.1:12538 and RPC port: 11538) has 2 peers
	ID: 3 --> Address: 127.0.0.1:11539

Node 2 (address: http://rt:rt@127.0.0.1:12539 and RPC port: 11539) has 2 peers
	ID: 2 --> Address: 127.0.0.1:11538



Generating 8 blocks on node 0

Synch...
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'02b8930283780b083249215e03cdf2eadf92584f78daf3203e79599ec479ca0a', u'height': 31}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'02b8930283780b083249215e03cdf2eadf92584f78daf3203e79599ec479ca0a', u'height': 31}
---

Get best block hash for all nodes:
Best block hash for node 0: 07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488
Best block hash for node 1: 02b8930283780b083249215e03cdf2eadf92584f78daf3203e79599ec479ca0a
Best block hash for node 2: 02b8930283780b083249215e03cdf2eadf92584f78daf3203e79599ec479ca0a

Generating 8 blocks on node 1

Synch...
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'049fd6c435f36f45bb6b37ef355f67115bea4cfbd0f3243be01196140045ba9f', u'height': 39}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'02b8930283780b083249215e03cdf2eadf92584f78daf3203e79599ec479ca0a', u'height': 31}
---

Get best block hash for all nodes:
Best block hash for node 0: 07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488
Best block hash for node 1: 049fd6c435f36f45bb6b37ef355f67115bea4cfbd0f3243be01196140045ba9f
Best block hash for node 2: 02b8930283780b083249215e03cdf2eadf92584f78daf3203e79599ec479ca0a

Generating 6 blocks on node 2

Synch...
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'049fd6c435f36f45bb6b37ef355f67115bea4cfbd0f3243be01196140045ba9f', u'height': 39}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2', u'height': 37}
---

Get best block hash for all nodes:
Best block hash for node 0: 07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488
Best block hash for node 1: 049fd6c435f36f45bb6b37ef355f67115bea4cfbd0f3243be01196140045ba9f
Best block hash for node 2: 0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2
Assert best block hash of node 0 == 07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488
Assert best block hash of node 1 == 049fd6c435f36f45bb6b37ef355f67115bea4cfbd0f3243be01196140045ba9f
Assert best block hash of node 2 == 0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2
Assert best block hash of node 1 != best block hash of node 2
Assert best block hash of node 1 != best block hash of node 0
Assert best block hash of node 0 != best block hash of node 2

Joining network...

Network joined

Node 0 (address: http://rt:rt@127.0.0.1:12537 and RPC port: 11537) has 2 peers
	ID: 3 --> Address: 127.0.0.1:11538

Node 1 (address: http://rt:rt@127.0.0.1:12538 and RPC port: 11538) has 2 peers
	ID: 6 --> Address: 127.0.0.1:11537

Node 2 (address: http://rt:rt@127.0.0.1:12539 and RPC port: 11539) has 0 peers


Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
  {u'status': u'valid-headers', u'branchlen': 36, u'hash': u'049fd6c435f36f45bb6b37ef355f67115bea4cfbd0f3243be01196140045ba9f', u'height': 39}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'049fd6c435f36f45bb6b37ef355f67115bea4cfbd0f3243be01196140045ba9f', u'height': 39}
  {u'status': u'headers-only', u'branchlen': 14, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2', u'height': 37}
---

Get best block hash for all nodes:
Best block hash for node 0: 07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488
Best block hash for node 1: 049fd6c435f36f45bb6b37ef355f67115bea4cfbd0f3243be01196140045ba9f
Best block hash for node 2: 0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2
Assert best block hash of node 0 == 07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488
Assert best block hash of node 1 == 049fd6c435f36f45bb6b37ef355f67115bea4cfbd0f3243be01196140045ba9f
Assert best block hash of node 2 == 0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2
Assert best block hash of node 1 != best block hash of node 2
Assert best block hash of node 1 != best block hash of node 0
Assert best block hash of node 0 != best block hash of node 2

Checking finality of first honest block [05531dfc35226a878885f352a6c1b8ed3cfd2f63cc2fa81b649939f064cb87bc]
  Node0 sees:
      finality: 69

  Node1 sees:
      Can't tell finality of a block not on main chain

  Node2 sees:
      No such block header


Finality for node 0 must be 69

Generating 68 blocks on node 1
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
  {u'status': u'valid-headers', u'branchlen': 104, u'hash': u'03b9075ec30eb800fd3028a61f77da13f88c97edde765544ec84c2de0c582a0d', u'height': 107}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'03b9075ec30eb800fd3028a61f77da13f88c97edde765544ec84c2de0c582a0d', u'height': 107}
  {u'status': u'headers-only', u'branchlen': 14, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2', u'height': 37}
---
Assert best block hash of node 1 != best block hash of node 2
Assert best block hash of node 1 != best block hash of node 0
Assert best block hash of node 0 != best block hash of node 2

Generating 1 blocks on node 1
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'07a4c8995940f1a40dc0ef104bb87b742af7b76b74d19849023cfbe69ae8a562', u'height': 108}
  {u'status': u'valid-fork', u'branchlen': 14, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'07a4c8995940f1a40dc0ef104bb87b742af7b76b74d19849023cfbe69ae8a562', u'height': 108}
  {u'status': u'headers-only', u'branchlen': 14, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2', u'height': 37}
---
Assert best block hash of node 1 != best block hash of node 2
Assert best block hash of node 1 == best block hash of node 0
Assert best block hash of node 0 != best block hash of node 2

Get best block hash for all nodes:
Best block hash for node 0: 07a4c8995940f1a40dc0ef104bb87b742af7b76b74d19849023cfbe69ae8a562
Best block hash for node 1: 07a4c8995940f1a40dc0ef104bb87b742af7b76b74d19849023cfbe69ae8a562
Best block hash for node 2: 0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2

Joining network again...

Network joined

Node 0 (address: http://rt:rt@127.0.0.1:12537 and RPC port: 11537) has 2 peers
	ID: 3 --> Address: 127.0.0.1:11538

Node 1 (address: http://rt:rt@127.0.0.1:12538 and RPC port: 11538) has 4 peers
	ID: 6 --> Address: 127.0.0.1:11537
	ID: 7 --> Address: 127.0.0.1:11539

Node 2 (address: http://rt:rt@127.0.0.1:12539 and RPC port: 11539) has 2 peers
	ID: 4 --> Address: 127.0.0.1:11538


Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'07a4c8995940f1a40dc0ef104bb87b742af7b76b74d19849023cfbe69ae8a562', u'height': 108}
  {u'status': u'valid-fork', u'branchlen': 14, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'07a4c8995940f1a40dc0ef104bb87b742af7b76b74d19849023cfbe69ae8a562', u'height': 108}
  {u'status': u'headers-only', u'branchlen': 6, u'hash': u'0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2', u'height': 37}
  {u'status': u'headers-only', u'branchlen': 14, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'07a4c8995940f1a40dc0ef104bb87b742af7b76b74d19849023cfbe69ae8a562', u'height': 108}
  {u'status': u'valid-fork', u'branchlen': 6, u'hash': u'0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2', u'height': 37}
---

Get best block hash for all nodes:
Best block hash for node 0: 07a4c8995940f1a40dc0ef104bb87b742af7b76b74d19849023cfbe69ae8a562
Best block hash for node 1: 07a4c8995940f1a40dc0ef104bb87b742af7b76b74d19849023cfbe69ae8a562
Best block hash for node 2: 07a4c8995940f1a40dc0ef104bb87b742af7b76b74d19849023cfbe69ae8a562
Assert best block hash of node 1 == best block hash of node 2
Assert best block hash of node 1 == best block hash of node 0
Assert best block hash of node 0 == best block hash of node 2

Third split. Best block hash is %s: 07a4c8995940f1a40dc0ef104bb87b742af7b76b74d19849023cfbe69ae8a562


Split network again
The network is split again

0 <--> 1 ... 2

Node 0 (address: http://rt:rt@127.0.0.1:12537 and RPC port: 11537) has 2 peers
	ID: 3 --> Address: 127.0.0.1:11538

Node 1 (address: http://rt:rt@127.0.0.1:12538 and RPC port: 11538) has 2 peers
	ID: 6 --> Address: 127.0.0.1:11537

Node 2 (address: http://rt:rt@127.0.0.1:12539 and RPC port: 11539) has 0 peers



Generating 10 blocks on node 1

Synch...
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'06a409f863c5186fc97d8cc5c0fbfc67eefb68ded14d97e6b66e15a8d8b3ef46', u'height': 118}
  {u'status': u'valid-fork', u'branchlen': 14, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'06a409f863c5186fc97d8cc5c0fbfc67eefb68ded14d97e6b66e15a8d8b3ef46', u'height': 118}
  {u'status': u'headers-only', u'branchlen': 6, u'hash': u'0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2', u'height': 37}
  {u'status': u'headers-only', u'branchlen': 14, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'07a4c8995940f1a40dc0ef104bb87b742af7b76b74d19849023cfbe69ae8a562', u'height': 108}
  {u'status': u'valid-fork', u'branchlen': 6, u'hash': u'0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2', u'height': 37}
---

Get best block hash for all nodes:
Best block hash for node 0: 06a409f863c5186fc97d8cc5c0fbfc67eefb68ded14d97e6b66e15a8d8b3ef46
Best block hash for node 1: 06a409f863c5186fc97d8cc5c0fbfc67eefb68ded14d97e6b66e15a8d8b3ef46
Best block hash for node 2: 07a4c8995940f1a40dc0ef104bb87b742af7b76b74d19849023cfbe69ae8a562

Generating 8 blocks on node 2

Synch...
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'06a409f863c5186fc97d8cc5c0fbfc67eefb68ded14d97e6b66e15a8d8b3ef46', u'height': 118}
  {u'status': u'valid-fork', u'branchlen': 14, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'06a409f863c5186fc97d8cc5c0fbfc67eefb68ded14d97e6b66e15a8d8b3ef46', u'height': 118}
  {u'status': u'headers-only', u'branchlen': 6, u'hash': u'0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2', u'height': 37}
  {u'status': u'headers-only', u'branchlen': 14, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0e83c35670664debd20359d2fd36ab7422df8cd85c7da08fd39f3754d05f7006', u'height': 116}
  {u'status': u'valid-fork', u'branchlen': 6, u'hash': u'0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2', u'height': 37}
---

Get best block hash for all nodes:
Best block hash for node 0: 06a409f863c5186fc97d8cc5c0fbfc67eefb68ded14d97e6b66e15a8d8b3ef46
Best block hash for node 1: 06a409f863c5186fc97d8cc5c0fbfc67eefb68ded14d97e6b66e15a8d8b3ef46
Best block hash for node 2: 0e83c35670664debd20359d2fd36ab7422df8cd85c7da08fd39f3754d05f7006
Assert best block hash of node 0 == 06a409f863c5186fc97d8cc5c0fbfc67eefb68ded14d97e6b66e15a8d8b3ef46
Assert best block hash of node 1 == 06a409f863c5186fc97d8cc5c0fbfc67eefb68ded14d97e6b66e15a8d8b3ef46
Assert best block hash of node 2 == 0e83c35670664debd20359d2fd36ab7422df8cd85c7da08fd39f3754d05f7006
Assert best block hash of node 1 != best block hash of node 2
Assert best block hash of node 1 == best block hash of node 0
Assert best block hash of node 0 != best block hash of node 2

Joining network...

Network joined

Node 0 (address: http://rt:rt@127.0.0.1:12537 and RPC port: 11537) has 2 peers
	ID: 3 --> Address: 127.0.0.1:11538

Node 1 (address: http://rt:rt@127.0.0.1:12538 and RPC port: 11538) has 4 peers
	ID: 6 --> Address: 127.0.0.1:11537
	ID: 9 --> Address: 127.0.0.1:11539

Node 2 (address: http://rt:rt@127.0.0.1:12539 and RPC port: 11539) has 2 peers
	ID: 6 --> Address: 127.0.0.1:11538


Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'06a409f863c5186fc97d8cc5c0fbfc67eefb68ded14d97e6b66e15a8d8b3ef46', u'height': 118}
  {u'status': u'valid-fork', u'branchlen': 14, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'06a409f863c5186fc97d8cc5c0fbfc67eefb68ded14d97e6b66e15a8d8b3ef46', u'height': 118}
  {u'status': u'headers-only', u'branchlen': 8, u'hash': u'0e83c35670664debd20359d2fd36ab7422df8cd85c7da08fd39f3754d05f7006', u'height': 116}
  {u'status': u'headers-only', u'branchlen': 6, u'hash': u'0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2', u'height': 37}
  {u'status': u'headers-only', u'branchlen': 14, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0e83c35670664debd20359d2fd36ab7422df8cd85c7da08fd39f3754d05f7006', u'height': 116}
  {u'status': u'valid-fork', u'branchlen': 6, u'hash': u'0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2', u'height': 37}
  {u'status': u'valid-headers', u'branchlen': 10, u'hash': u'06a409f863c5186fc97d8cc5c0fbfc67eefb68ded14d97e6b66e15a8d8b3ef46', u'height': 118}
---

Get best block hash for all nodes:
Best block hash for node 0: 06a409f863c5186fc97d8cc5c0fbfc67eefb68ded14d97e6b66e15a8d8b3ef46
Best block hash for node 1: 06a409f863c5186fc97d8cc5c0fbfc67eefb68ded14d97e6b66e15a8d8b3ef46
Best block hash for node 2: 0e83c35670664debd20359d2fd36ab7422df8cd85c7da08fd39f3754d05f7006
Assert best block hash of node 0 == 06a409f863c5186fc97d8cc5c0fbfc67eefb68ded14d97e6b66e15a8d8b3ef46
Assert best block hash of node 1 == 06a409f863c5186fc97d8cc5c0fbfc67eefb68ded14d97e6b66e15a8d8b3ef46
Assert best block hash of node 2 == 0e83c35670664debd20359d2fd36ab7422df8cd85c7da08fd39f3754d05f7006
Assert best block hash of node 1 != best block hash of node 2
Assert best block hash of node 1 == best block hash of node 0
Assert best block hash of node 0 != best block hash of node 2

Checking finality of first honest block [0bb278a8a31c45865fb28b72940243fc971e0ca8680433157be190489aa522c4]
  Node0 sees:
      No such block header

  Node1 sees:
      Can't tell finality of a block not on main chain

  Node2 sees:
      finality: 26


Finality for node 2 must be 26

Generating 25 blocks on node 1
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'03a4b821e4a60458972b838941cb9aa3667471e564337a7dcff33ff92a006ebf', u'height': 143}
  {u'status': u'valid-fork', u'branchlen': 14, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'03a4b821e4a60458972b838941cb9aa3667471e564337a7dcff33ff92a006ebf', u'height': 143}
  {u'status': u'headers-only', u'branchlen': 8, u'hash': u'0e83c35670664debd20359d2fd36ab7422df8cd85c7da08fd39f3754d05f7006', u'height': 116}
  {u'status': u'headers-only', u'branchlen': 6, u'hash': u'0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2', u'height': 37}
  {u'status': u'headers-only', u'branchlen': 14, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'0e83c35670664debd20359d2fd36ab7422df8cd85c7da08fd39f3754d05f7006', u'height': 116}
  {u'status': u'valid-fork', u'branchlen': 6, u'hash': u'0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2', u'height': 37}
  {u'status': u'valid-headers', u'branchlen': 35, u'hash': u'03a4b821e4a60458972b838941cb9aa3667471e564337a7dcff33ff92a006ebf', u'height': 143}
---
Assert best block hash of node 1 != best block hash of node 2
Assert best block hash of node 1 == best block hash of node 0
Assert best block hash of node 0 != best block hash of node 2

Generating 1 blocks on node 1
Node0  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'084e3d282f0f77d6b1056ee22c4a359c2e9d4698c1946cacb66bfdc33bf183fa', u'height': 144}
  {u'status': u'valid-fork', u'branchlen': 14, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node1  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'084e3d282f0f77d6b1056ee22c4a359c2e9d4698c1946cacb66bfdc33bf183fa', u'height': 144}
  {u'status': u'headers-only', u'branchlen': 8, u'hash': u'0e83c35670664debd20359d2fd36ab7422df8cd85c7da08fd39f3754d05f7006', u'height': 116}
  {u'status': u'headers-only', u'branchlen': 6, u'hash': u'0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2', u'height': 37}
  {u'status': u'headers-only', u'branchlen': 14, u'hash': u'07aeab325e9442f5120f3af1e335fa0fe35b0fc2cf52c65047c8a0560f57b488', u'height': 17}
---
Node2  ---
{u'status': u'active', u'branchlen': 0, u'hash': u'084e3d282f0f77d6b1056ee22c4a359c2e9d4698c1946cacb66bfdc33bf183fa', u'height': 144}
  {u'status': u'valid-fork', u'branchlen': 8, u'hash': u'0e83c35670664debd20359d2fd36ab7422df8cd85c7da08fd39f3754d05f7006', u'height': 116}
  {u'status': u'valid-fork', u'branchlen': 6, u'hash': u'0cd4f0315923dcb821a5bf4325ac7e898be34b1b6d77d240266366c2cfd2ffc2', u'height': 37}
---
Assert best block hash of node 1 == best block hash of node 2
Assert best block hash of node 1 == best block hash of node 0
Assert best block hash of node 0 == best block hash of node 2
Stopping nodes
Cleaning up
Tests successful
--- Success: blockdelay_2.py ---

=== Running testscript sc_create.py ===
Initializing test directory /tmp/testB3sQOF
Node 1 generates 220 block

Node 2 try creates a SC with insufficient funds
Account has insufficient funds

Node 2 try creates a SC with immature funds
Account has insufficient funds

Node 1 try creates a SC with non hex id
Invalid scid format: not an hex

Node 1 try creates a SC with null address

Node 1 try creates a SC with null amount
Invalid amount

Node 1 try creates a SC with 0 amount
Invalid parameter, amount must be positive

Node 1 try creates a SC with a bad custom data
Invalid customData format: not an hex

Node 1 try creates a SC with a odd number of char in custom data string
Invalid customData length 3, must be even (byte string)

Node 1 try creates a SC with too long a custom data byte string
Invalid customData length 1025, must be 1024 bytes at most

Node 1 try creates a SC with 0 epocLength
Invalid withdrawalEpochLength, less that minimum value allowed


Node 1 creates SC

...Node0 generating 1 block
Verify all nodes see the new SC...
Verify custom data are set as expected...
{u'withdrawalEpochLength': 123, u'customData': u'ccababababdd', u'immature amounts': [{u'maturityHeight': 224, u'amount': Decimal('1.00000000')}], u'created at block height': 222, u'creating tx hash': u'0133841835acb84711fc1ed6b782975e02b5b51c6b55c0e9ba5bfddbbaac11f7', u'last certificate epoch': -1, u'scid': u'0000000000000000000000000000000000000000000000000000000000000022', u'balance': Decimal('0E-8'), u'created in block': u'00776519540a3b738ee6de4158fbf724ab00d190b9c1775b4298cf89e78715d2'}
{u'withdrawalEpochLength': 123, u'customData': u'ccababababdd', u'immature amounts': [{u'maturityHeight': 224, u'amount': Decimal('1.00000000')}], u'created at block height': 222, u'creating tx hash': u'0133841835acb84711fc1ed6b782975e02b5b51c6b55c0e9ba5bfddbbaac11f7', u'last certificate epoch': -1, u'scid': u'0000000000000000000000000000000000000000000000000000000000000022', u'balance': Decimal('0E-8'), u'created in block': u'00776519540a3b738ee6de4158fbf724ab00d190b9c1775b4298cf89e78715d2'}
{u'withdrawalEpochLength': 123, u'customData': u'ccababababdd', u'immature amounts': [{u'maturityHeight': 224, u'amount': Decimal('1.00000000')}], u'created at block height': 222, u'creating tx hash': u'0133841835acb84711fc1ed6b782975e02b5b51c6b55c0e9ba5bfddbbaac11f7', u'last certificate epoch': -1, u'scid': u'0000000000000000000000000000000000000000000000000000000000000022', u'balance': Decimal('0E-8'), u'created in block': u'00776519540a3b738ee6de4158fbf724ab00d190b9c1775b4298cf89e78715d2'}

Node 2 try create SC with same id
scid already created: 0000000000000000000000000000000000000000000000000000000000000022

Check maturiy of the coins
  Node 2 - balance: 0.000000
    created in block: 00776519540a3b738ee6de4158fbf724ab00d190b9c1775b4298cf89e78715d2 (222)
    created in tx:    0133841835acb84711fc1ed6b782975e02b5b51c6b55c0e9ba5bfddbbaac11f7
('    immature amounts:  ', [{u'maturityHeight': 224, u'amount': Decimal('1.00000000')}])
Check that 1.000000 coins will be mature at h=224

Node 1 sends 2.0 coins to SC

Node 1 sends 3 amounts to SC (tot: 7.0)

...Node0 generating 1 block
  Node 2 - balance: 0.000000
    created in block: 00776519540a3b738ee6de4158fbf724ab00d190b9c1775b4298cf89e78715d2 (222)
    created in tx:    0133841835acb84711fc1ed6b782975e02b5b51c6b55c0e9ba5bfddbbaac11f7
('    immature amounts:  ', [{u'maturityHeight': 224, u'amount': Decimal('1.00000000')}, {u'maturityHeight': 225, u'amount': Decimal('9.00000000')}])
Check that 1.000000 coins will be mature at h=224
Check that 9.000000 coins will be mature at h=225

...Node0 generating 1 block
  Node 2 - balance: 1.000000
    created in block: 00776519540a3b738ee6de4158fbf724ab00d190b9c1775b4298cf89e78715d2 (222)
    created in tx:    0133841835acb84711fc1ed6b782975e02b5b51c6b55c0e9ba5bfddbbaac11f7
('    immature amounts:  ', [{u'maturityHeight': 225, u'amount': Decimal('9.00000000')}])
Check that 9.000000 coins will be mature at h=225

...Node0 generating 1 block
  Node 2 - balance: 10.000000
    created in block: 00776519540a3b738ee6de4158fbf724ab00d190b9c1775b4298cf89e78715d2 (222)
    created in tx:    0133841835acb84711fc1ed6b782975e02b5b51c6b55c0e9ba5bfddbbaac11f7
('    immature amounts:  ', [])
Check that there are no immature coins
Stopping nodes
Cleaning up
Tests successful
--- Success: sc_create.py ---

=== Running testscript sc_create_2.py ===
Initializing test directory /tmp/testcBWQnn
Node 1 generates 2 block
Node 0 generates 220 block

Node 1 create SC with wrong key in input
Invalid parameter, unknown key: wrong_key

Node 1 create SC with duplicate key in input
Duplicate key in input: amount

Node 1 create SC with duplicate key in input
Missing mandatory parameter in input: "amount"

Node 1 create SC with an invalid amount in input
Amount out of range

Node 1 create SC with an invalid epoch length in input
Invalid withdrawalEpochLength: must be greater that 1

Node 1 create SC with a fromaddress expressed in a wrong format
Invalid parameter, unknown fromaddress format: 1BvBMSEYstWetqTFn5Au4m4GFg7xJaNVN2

Node 1 create SC with a changeaddress that does not belong to the node
Invalid parameter, changeaddress is not mine: zthWZsNRTykixeceqgifx18hMMLNrNCzCzj

Node 1 create SC with an amount that prevents a change above the dust threshold
bad amount: 22.874975
Insufficient transparent funds, have 22.875, need 0.00000062 more to avoid creating invalid change output 0.00000001 (dust threshold is 0.00000063)

Node 1 create SC with valid input and a fromaddress key/value
using fromaddress: ztpQnLSueCuBc2Z4JZ63SxT2RZRQStJTYVQ 
...check that inputs come from the expected address
 in amount: 22.875
 change: 2.87497500
...check that we are sending change to the expected address
 sc amount 20.0
 fee: 0.000025

Node 0 generates 1 block
scid: 95f5de0829fd3c5e45b63f67beab8c4cb8c1c359ef6e2787aaaf5442d6f4779f
-------------------------------------------------------------------------------------
  Node 0 - balance: 0.000000
    created in block: 022ff16b291836015bdecc8f4acc508a581fd283a84c814708fefe6b06b43e76 (223)
    created in tx:    0388bebae3a6e47370adeaac0d4e5719426fba0f59ca82c2d1330de4320a7db9
('    immature amounts:  ', [{u'maturityHeight': 225, u'amount': Decimal('20.00000000')}])
  Node 1 - balance: 0.000000
    created in block: 022ff16b291836015bdecc8f4acc508a581fd283a84c814708fefe6b06b43e76 (223)
    created in tx:    0388bebae3a6e47370adeaac0d4e5719426fba0f59ca82c2d1330de4320a7db9
('    immature amounts:  ', [{u'maturityHeight': 225, u'amount': Decimal('20.00000000')}])

Node 0 sends 5.0 to Node 1

Node 0 generates 1 block

Node 1 create SC with an minconf value in input which gives an error
Insufficient transparent funds  for taddr[ztpQnLSueCuBc2Z4JZ63SxT2RZRQStJTYVQ], have 2.874975, need 6.0001 (minconf=2)

Node 1 create SC with an minconf value in input which is OK, with scid auto generation and valid custom data
...check that we are sending change to the proper address, which is fromaddr, since we have not set a change address

Node 0 generates 1 block
...verify that scid and custom data are set as expected...

Node 1 sends funds in 10 transfers to sc
{u'hex': u'fcffffff01041b04fbcc5e0e62cbed3bfb9cbc5b276da00637d9503c30a5174942ac28479d000000006b483045022100ddefc64222e098141e86e3ac19e3051c544c436f9a579073dee63fac3ef4612f0220477c8f6a512708928806b177a27076248a87e69b0b76e58462a0e8a0e3eef0600121038c464d69b23ced7b0ab34c6c3f5ee8e4cbb9fc0db1495c1ff725cffcf31dd720ffffffff014069e507000000003c76a91452cffad755c76e0194512533c0822117369a333f88ac20bb1acf2c1fc1228967a611c7db30632098f0c641855180b5fe23793b72eea50d00b4000a40420f0000000000efcdab0000000000000000000000000000000000000000000000000000000000b184c5a9f16a2108139c003aa3ace3a4427528b690a5bc40c532ec20fd707d1880841e0000000000efcdab0000000000000000000000000000000000000000000000000000000000b184c5a9f16a2108139c003aa3ace3a4427528b690a5bc40c532ec20fd707d18c0c62d0000000000efcdab0000000000000000000000000000000000000000000000000000000000b184c5a9f16a2108139c003aa3ace3a4427528b690a5bc40c532ec20fd707d1800093d0000000000efcdab0000000000000000000000000000000000000000000000000000000000b184c5a9f16a2108139c003aa3ace3a4427528b690a5bc40c532ec20fd707d18404b4c0000000000efcdab0000000000000000000000000000000000000000000000000000000000b184c5a9f16a2108139c003aa3ace3a4427528b690a5bc40c532ec20fd707d18808d5b0000000000efcdab0000000000000000000000000000000000000000000000000000000000b184c5a9f16a2108139c003aa3ace3a4427528b690a5bc40c532ec20fd707d18c0cf6a0000000000efcdab0000000000000000000000000000000000000000000000000000000000b184c5a9f16a2108139c003aa3ace3a4427528b690a5bc40c532ec20fd707d1800127a0000000000efcdab0000000000000000000000000000000000000000000000000000000000b184c5a9f16a2108139c003aa3ace3a4427528b690a5bc40c532ec20fd707d184054890000000000efcdab0000000000000000000000000000000000000000000000000000000000b184c5a9f16a2108139c003aa3ace3a4427528b690a5bc40c532ec20fd707d188096980000000000efcdab0000000000000000000000000000000000000000000000000000000000b184c5a9f16a2108139c003aa3ace3a4427528b690a5bc40c532ec20fd707d1800000000',
 u'locktime': 0,
 u'txid': u'98a212e8c721c98e8902e0d8cf86fee8c3e92f85b3f7c854a3c2cf2abb621228',
 u'version': -4,
 u'vft_ccout': [{u'address': u'0000000000000000000000000000000000000000000000000000000000abcdef',
                 u'n': 0,
                 u'scid': u'187d70fd20ec32c540bca590b6287542a4e3aca33a009c1308216af1a9c584b1',
                 u'value': Decimal('0.01000000')},
                {u'address': u'0000000000000000000000000000000000000000000000000000000000abcdef',
                 u'n': 1,
                 u'scid': u'187d70fd20ec32c540bca590b6287542a4e3aca33a009c1308216af1a9c584b1',
                 u'value': Decimal('0.02000000')},
                {u'address': u'0000000000000000000000000000000000000000000000000000000000abcdef',
                 u'n': 2,
                 u'scid': u'187d70fd20ec32c540bca590b6287542a4e3aca33a009c1308216af1a9c584b1',
                 u'value': Decimal('0.03000000')},
                {u'address': u'0000000000000000000000000000000000000000000000000000000000abcdef',
                 u'n': 3,
                 u'scid': u'187d70fd20ec32c540bca590b6287542a4e3aca33a009c1308216af1a9c584b1',
                 u'value': Decimal('0.04000000')},
                {u'address': u'0000000000000000000000000000000000000000000000000000000000abcdef',
                 u'n': 4,
                 u'scid': u'187d70fd20ec32c540bca590b6287542a4e3aca33a009c1308216af1a9c584b1',
                 u'value': Decimal('0.05000000')},
                {u'address': u'0000000000000000000000000000000000000000000000000000000000abcdef',
                 u'n': 5,
                 u'scid': u'187d70fd20ec32c540bca590b6287542a4e3aca33a009c1308216af1a9c584b1',
                 u'value': Decimal('0.06000000')},
                {u'address': u'0000000000000000000000000000000000000000000000000000000000abcdef',
                 u'n': 6,
                 u'scid': u'187d70fd20ec32c540bca590b6287542a4e3aca33a009c1308216af1a9c584b1',
                 u'value': Decimal('0.07000000')},
                {u'address': u'0000000000000000000000000000000000000000000000000000000000abcdef',
                 u'n': 7,
                 u'scid': u'187d70fd20ec32c540bca590b6287542a4e3aca33a009c1308216af1a9c584b1',
                 u'value': Decimal('0.08000000')},
                {u'address': u'0000000000000000000000000000000000000000000000000000000000abcdef',
                 u'n': 8,
                 u'scid': u'187d70fd20ec32c540bca590b6287542a4e3aca33a009c1308216af1a9c584b1',
                 u'value': Decimal('0.09000000')},
                {u'address': u'0000000000000000000000000000000000000000000000000000000000abcdef',
                 u'n': 9,
                 u'scid': u'187d70fd20ec32c540bca590b6287542a4e3aca33a009c1308216af1a9c584b1',
                 u'value': Decimal('0.10000000')}],
 u'vin': [{u'scriptSig': {u'asm': u'3045022100ddefc64222e098141e86e3ac19e3051c544c436f9a579073dee63fac3ef4612f0220477c8f6a512708928806b177a27076248a87e69b0b76e58462a0e8a0e3eef06001 038c464d69b23ced7b0ab34c6c3f5ee8e4cbb9fc0db1495c1ff725cffcf31dd720',
                          u'hex': u'483045022100ddefc64222e098141e86e3ac19e3051c544c436f9a579073dee63fac3ef4612f0220477c8f6a512708928806b177a27076248a87e69b0b76e58462a0e8a0e3eef0600121038c464d69b23ced7b0ab34c6c3f5ee8e4cbb9fc0db1495c1ff725cffcf31dd720'},
           u'sequence': 4294967295,
           u'txid': u'9d4728ac424917a5303c50d93706a06d275bbc9cfb3bedcb620e5eccfb041b04',
           u'vout': 0}],
 u'vjoinsplit': [],
 u'vout': [{u'n': 0,
            u'scriptPubKey': {u'addresses': [u'ztahqKUeszjJB3HDi94tgevW2rhFFeRbYZp'],
                              u'asm': u'OP_DUP OP_HASH160 52cffad755c76e0194512533c0822117369a333f OP_EQUALVERIFY OP_CHECKSIG bb1acf2c1fc1228967a611c7db30632098f0c641855180b5fe23793b72eea50d 0 OP_CHECKBLOCKATHEIGHT',
                              u'hex': u'76a91452cffad755c76e0194512533c0822117369a333f88ac20bb1acf2c1fc1228967a611c7db30632098f0c641855180b5fe23793b72eea50d00b4',
                              u'reqSigs': 1,
                              u'type': u'pubkeyhashreplay'},
            u'value': Decimal('1.32475200'),
            u'valueZat': 132475200}],
 u'vsc_ccout': []}

Node 0 generates 2 block
{u'balance': Decimal('6.00000000'),
 u'created at block height': 225,
 u'created in block': u'08c1beb6881f662dbb1e72c1eaffd9da1c1615b9e0d62fd3a3ffe9e2c7cbf68b',
 u'creating tx hash': u'9d4728ac424917a5303c50d93706a06d275bbc9cfb3bedcb620e5eccfb041b04',
 u'customData': u'badcaffe',
 u'immature amounts': [{u'amount': Decimal('0.55000000'),
                        u'maturityHeight': 228}],
 u'last certificate epoch': -1,
 u'scid': u'187d70fd20ec32c540bca590b6287542a4e3aca33a009c1308216af1a9c584b1',
 u'withdrawalEpochLength': 100}
Stopping nodes
Cleaning up
Tests successful
--- Success: sc_create_2.py ---

=== Running testscript sc_split.py ===
Initializing test directory /tmp/testH20qZB
Stopping nodes
Cleaning up
Tests successful
--- Success: sc_split.py ---

=== Running testscript sc_invalidate.py ===
Initializing test directory /tmp/testdBR4bs
Node 1 generates 1 block
Node 2 generates 1 block
Node 0 generates 220 block

...Node 1 sends 10 coins to node 2 to have a UTXO

Node 2 create rawtransaction that creates a SC using last UTXO...

Node 2 create rawtransaction with same UTXO...

Split network
The network is split: 0-1 .. 2

Node 0 send the SC creation transaction and generate 1 block to create it

Node 1 sends 1.0 coins to SC

...Node0 generating 1 block

Checking SC info on Node 2 that should not have any SC...
Node 0: {u'withdrawalEpochLength': 123, u'customData': u'', u'immature amounts': [{u'maturityHeight': 227, u'amount': Decimal('10.00000000')}, {u'maturityHeight': 228, u'amount': Decimal('1.00000000')}], u'created at block height': 225, u'creating tx hash': u'3d199becf0c26a9ecde537756485f6bbe2d7d24862b4f2880ff0589b824ac594', u'last certificate epoch': -1, u'scid': u'0000000000000000000000000000000000000000000000000000000000000022', u'balance': Decimal('0E-8'), u'created in block': u'012b0c8b7afb84e7878183c851d3f72e87c6a6b3c3ce1a0e627124bc094fced3'}
Node 1: {u'withdrawalEpochLength': 123, u'customData': u'', u'immature amounts': [{u'maturityHeight': 227, u'amount': Decimal('10.00000000')}, {u'maturityHeight': 228, u'amount': Decimal('1.00000000')}], u'created at block height': 225, u'creating tx hash': u'3d199becf0c26a9ecde537756485f6bbe2d7d24862b4f2880ff0589b824ac594', u'last certificate epoch': -1, u'scid': u'0000000000000000000000000000000000000000000000000000000000000022', u'balance': Decimal('0E-8'), u'created in block': u'012b0c8b7afb84e7878183c851d3f72e87c6a6b3c3ce1a0e627124bc094fced3'}
scid not yet created: 0000000000000000000000000000000000000000000000000000000000000022

Node 2 generate 4 blocks including the rawtx2 and now it has the longest fork...

Joining network

Network joined

Checking network chain tips, Node 2's fork became active...
{u'status': u'active', u'branchlen': 0, u'hash': u'0470e0a5daf192dcfd5a891b94cf1e79e1cf899a676375860d30fd3debd382aa', u'height': 228}
(' ', {u'status': u'valid-fork', u'branchlen': 2, u'hash': u'095ff1c25eecd8adde661a19a3b37fdb5bf5bd0d615b7e301ceb61ac3c5a155d', u'height': 226})
{u'status': u'active', u'branchlen': 0, u'hash': u'0470e0a5daf192dcfd5a891b94cf1e79e1cf899a676375860d30fd3debd382aa', u'height': 228}
(' ', {u'status': u'valid-fork', u'branchlen': 2, u'hash': u'095ff1c25eecd8adde661a19a3b37fdb5bf5bd0d615b7e301ceb61ac3c5a155d', u'height': 226})
{u'status': u'active', u'branchlen': 0, u'hash': u'0470e0a5daf192dcfd5a891b94cf1e79e1cf899a676375860d30fd3debd382aa', u'height': 228}
(' ', {u'status': u'headers-only', u'branchlen': 2, u'hash': u'095ff1c25eecd8adde661a19a3b37fdb5bf5bd0d615b7e301ceb61ac3c5a155d', u'height': 226})

Checking SC info on network, noone see the SC...
scid not yet created: 0000000000000000000000000000000000000000000000000000000000000022
scid not yet created: 0000000000000000000000000000000000000000000000000000000000000022
scid not yet created: 0000000000000000000000000000000000000000000000000000000000000022

The FT transaction should not be in mempool...
Stopping nodes
Cleaning up
Tests successful
--- Success: sc_invalidate.py ---

=== Running testscript sc_cert_base.py ===
Initializing test directory /tmp/test0cOkqo
Node 1 generates 1 block
Node 0 generates 220 block
Node1 balance before SC creation: 11.43750000
Node 1 created the SC spending 0.5 coins via tx 6e92d1caf65736f07b6041eb1b6f473923c37d8a42d5e1ee70696b1cbb384e21.
Node0 confirms Sc creation generating 1 block
Fee paid for SC creation: -0.00000308
Node1 balance after SC creation: 10.93749692
Node0 balance before fwd tx: 1333.81250000
Node0 transfers 50 coins to SC with tx 7ea8342cfd0f1e801ae0c0373b5c2d10a5f2cc4ffc4139bba442aa27d4a2dcbf...
Node0 confirms fwd transfer generating 1 block
Fee paid for fwd tx: -0.00000891
Node0 balance after fwd: 1292.56249109
Node0 generating 3 more blocks to achieve end of withdrawal epoch
Current height 226, Sc creation height 222, epoch length 5 --> current epoch number 0
epoch_number =  0 , epoch_block_hash =  0b026254deb6803cd1d54a910b95ec8003f00f09283b2854d2201e377ae5253d
Node 0 tries to perform a bwd transfer with insufficient Sc balance...
sidechain has insufficient funds
Node 0 tries to perform a bwd transfer with an invalid epoch number ...
invalid epoch data
Node 0 tries to perform a bwd transfer with an invalid end epoch hash block ...
invalid epoch data
Node 0 performs a bwd transfer of dd3336818bc6e002271c86b3fbad0e1365a44d52 coins to Node1 pkh
Certificate is b5e3bd8fd2888d6611a483bace5afbd17946e7cb067733af773d90e56a6859e2
Checking mempools alignement
Check cert is in mempools
Node1 balance before bwt is received: 10.93749692
Node 0 try to generate a second bwd transfer for the same epoch number before first bwd is confirmed
invalid cert epoch
Node0 confims bwd transfer generating 1 block
Check cert is not in mempool anymore
Check block coinbase contains the certificate fee
Node 0 tries to performs a bwd transfer for the same epoch number as before...
invalid cert epoch
Checking that amount transferred by certificate reaches Node1 wallet
Node1 balance after bwt is confirmed: 10.93749692
Checking that Node1 cannot immediately spend coins received from bwd transfer
Node 1 tries to send 25 coins to node2...
Insufficient funds
Show that coins from bwt can be spent once next epoch certificate is received and confirmed
Node0 generating enough blocks to move to new withdrawal epoch
Current height 231, Sc creation height 222, epoch length 5 --> current epoch number 1
Node1 balance before epoch 1 certificate is received: 10.93749692
Generate new certificate for epoch 1. No bwt are included
Certificate is 4ef0d4356e87b603ae2a6d798e44fca89ef94a4d1bbcd28ff469d5a1ae9f75c1
Confirm the certificate for epoch 1 and move beyond safeguard,
Node1 balance after epoch 1 certificate is received and safeguard passed: 60.93749692
Checking that certificate received from previous epoch is spendable,
Checking Node1 balance is duly updated,
Checking that Node1 can spend coins received from bwd transfer in previous epoch
Node 1 sends 25 coins to node2...
Node0 confims spending of bwd transfer founds generating 1 block
Verify balances following Node1 spending bwd transfer to Node2.
Stopping nodes
Cleaning up
Tests successful
--- Success: sc_cert_base.py ---

=== Running testscript sc_cert_fee.py ===
Initializing test directory /tmp/testxv3ypQ
Node 1 generates 1 block
Node 0 generates 220 block
Node 1 created the SC spending 0.5 coins via tx 4977da7c2e2bc1781ca778f02b6e456700e644332d144dfef486c3a438291aa0.
Node0 confirms Sc creation generating 1 block
Fee paid for SC creation: -0.00000308
Node0 generating 4 more blocks to achieve end of withdrawal epoch
Sc 1111111111111111111111111111111111111111111111111111111111111111 state: {u'withdrawalEpochLength': 5, u'customData': u'abcdef', u'immature amounts': [], u'created at block height': 222, u'creating tx hash': u'4977da7c2e2bc1781ca778f02b6e456700e644332d144dfef486c3a438291aa0', u'last certificate epoch': -1, u'scid': u'1111111111111111111111111111111111111111111111111111111111111111', u'balance': Decimal('0.50000000'), u'created in block': u'0b5db826d049686fef938d8f532ba75aed70909295798b90cd36ca167be6e37c'}
Current height 226, Sc creation height 222, epoch length 5 --> current epoch number 0
Node 1 performs a bwd transfer of 0.4 coins to Node2 pkh
Certificate is 32959d2385b5fae65c5d65efdbf2b7125fef841d3107b89824f3344470bad930
Checking mempools alignement
Check cert is in mempools
Node0 confims bwd transfer generating 1 block
Check cert is not in mempool anymore
Check block coinbase contains the certificate fee
Checking that amount transferred by certificate reaches Node2 wallet and it is immature
Node 0 generates 4 block
Current height 231, Sc creation height 222, epoch length 5 --> current epoch number 1
Node 3 performs a bwd transfer of 0.00018450 coins to Node2 pkh
Certificate is 11758be70073b5687fe8c795a9d03788d36fb0eb84bc1bddc8b06021f8728fde
Node 0 generates 1 block
Node 1 generates 1 block
Stopping nodes
Cleaning up
Tests successful
--- Success: sc_cert_fee.py ---

=== Running testscript sc_cert_epoch.py ===
Initializing test directory /tmp/test0XjzOF
Node 1 generates 1 block to prepare coins to spend
Node 0 generates 220 block to reach sidechain height
Node1 balance before SC creation: 11.43750000
Node 1 created the SC spending 0.5 coins via tx 1eaefced3c21b3a3b6a5dec9346f6b696083200e6e38456634026c3d22b67c81.
Node0 confirms Sc creation generating 1 block
Node 0 performs a fwd transfer of 30 coins to Sc
Node0 generates 3 blocks, confirming fwd transfer
Node 0 performs a fwd transfer of 20 coins to Sc
Node0 generates 1 block moving to epoch 1 but not maturing last fw transfer
Node0 generating 1 block, to show cert for epoch 0 can be received within safeguard blocks
Node 1 balance before certificate 10.93749685
Node 2 balance before certificate 0E-8
Node 3 balance before certificate 0E-8
Node 0 try to perform a bwd transfer of 45 coins to Node2 pkh
sidechain has insufficient funds
Node 0 performs a bwd transfer of 25 coins to Node2 pkh
Node0 confims bwd transfer generating 1 block
Checking Nodes wallet's balances are duly updated
Checking Sc balance is duly decreased
Checking that Node2 cannot immediately spend coins received from bwd transfer
Node 2 tries to send 12.5 coins to Node3
Insufficient funds
Node0 generates 3 blocks, coming to the end of epoch 1
Node 0 send a certificate with no bwd transfers
Node0 confims bwd transfer and moves at safeguard
Checking Nodes wallet's balances are duly updated
Node0 confims spending of bwd transfer founds generating 1 block
Checking Nodes wallet's balances are duly updated
Node0 invalidates latest block which confirmed epoch 0 bwd expenditure
Checking tx speding bwd returns to mempool
Node0 invalidates enough blocks unconfirm epoch 1 certificate
Checking bwd returns to mempool while tx spending epoch 0 certificate gets removed
Checking Sc balance is duly update due to bwd removal
Node0 invalidates latest block which signaled end of epoch 1
Checking both bwd is still mempool
Node0 generating 4 block to show bwd has disappeared from history
Node0 generating 6 block to have longest chain and cause reorg on other nodes
Checking that upon reorg, bwd is erased from other nodes too
Checking Node0 ScInfos
Checking Node0 wallet's balances is duly updated
Checking Node1 ScInfos
Checking Node1 wallet's balances is duly updated
Checking Node2 ScInfos
Checking Node2 wallet's balances is duly updated
Checking Node3 ScInfos
Checking Node3 wallet's balances is duly updated
Checking certificates persistance stopping and restarting nodes
Checking Node0 after restart
Checking Node1 after restart
Checking Node2 after restart
Checking Node3 after restart
Stopping nodes
Cleaning up
Tests successful
--- Success: sc_cert_epoch.py ---

=== Running testscript sc_cert_invalidate.py ===
Initializing test directory /tmp/testPCWar3
Node 1 generates 1 block
Node 0 generates 220 block
Node 1 creates the SC spending 0.5 coins ...
creating_tx = 5648496ce28900226e1097ef2334dc95186630ebe1fbc06641683b4e244c86e0
Node0 generating 1 block
  ==> height 222
Node 0 performs a fwd transfer of 1000.0 coins to SC...
fwd_tx=d6ded9104b0d7407fb94c726fb3f0769ca084478786029f69d4b97dce4138c61
Node0 generating 1 block
  ==> height 223
Node0 generating 3 more blocks for achieving sc coins maturity
  ==> height 224
  ==> height 225
  ==> height 226
##### End epoch block = 04f859b401ab40540eab83b6571aedb1406275902c60aff3ac97c4314064b66c
Node 0 performs a bwd transfer of 8.0 coins to Node1 epn=0, eph[04f859b401ab40540eab83b6571aedb1406275902c60aff3ac97c4314064b66c]...
cert = dad7e29d3fbcf896b9c789e09f7135b3f34f2b490dc5241eaac3404f28851883
Node0 generating 1 block
  ==> height 227
Node 0 performs a fwd transfer of 1.0 coins to SC...
fwd_tx = f6aaa5bfb05b3d967ef58901322e00931980e54f8a054cca9952a37151054467
Node0 generating 1 block
  ==> height 228
Node 0 performs a fwd transfer of 2.0 coins to SC...
fwd_tx = 62a7797c3bbb6d76b8a23b0f34d65a98853f785d806efa9325019d4c6dae0b07
Node0 generating 1 block
  ==> height 229
Node 0 performs a fwd transfer of 3.0 coins to SC...
fwd_tx = 93dc0ded2c4b25b0591bf50a916947cc0449ad08f8b2f3114d82248ab31ee8a9
Node0 generating 1 block
  ==> height 230
Node0 generating 3 more blocks for achieving sc coins maturity
  ==> height 231
##### End epoch block = 092bc7da1d0dbfb62c08337902219dd6a2af558ff313fe5fca376b0fe31692ab
  ==> height 232
Node 0 performs a bwd transfer of 8.5 coins to Node1 epn=1, eph[092bc7da1d0dbfb62c08337902219dd6a2af558ff313fe5fca376b0fe31692ab]...
cert = 19f9440e492b8f63328b4fc22297ad078e267a8491352b01d244feda6afdf4bb
mempool = [u'19f9440e492b8f63328b4fc22297ad078e267a8491352b01d244feda6afdf4bb']
None
Node0 generating 1 block
  ==> height 233
mempool = []
None
Node 0 invalidates last block of height = 233
cert[19f9440e492b8f63328b4fc22297ad078e267a8491352b01d244feda6afdf4bb] is in mempool
Node 0 invalidates last block of height = 232
cert[19f9440e492b8f63328b4fc22297ad078e267a8491352b01d244feda6afdf4bb] is in mempool
Node 0 invalidates last block of height = 231
Node 0 invalidates last block of height = 230
Node 0 invalidates last block of height = 229
Node 0 invalidates last block of height = 228
Node 0 invalidates last block of height = 227
Node 0 invalidates last block of height = 226
Node 0 invalidates last block of height = 225
Node 0 invalidates last block of height = 224
Node 0 invalidates last block of height = 223
Node 0 invalidates last block of height = 222
scid not yet created: 1111111111111111111111111111111111111111111111111111111111111111
creating tx[5648496ce28900226e1097ef2334dc95186630ebe1fbc06641683b4e244c86e0] is in mempool
Node 0 invalidates last block of height = 221
check that mempool has only sc transactions (no certs)
amount= -2.00000000
fee=    -0.00000301
___
amount= -1.00000000
fee=    -0.00000301
___
amount= -3.00000000
fee=    -0.00000301
___
amount= -0.50000000
fee=    -0.00000306
___
total sc amount in mempool:  -6.50001209
Node0 generating 91 more blocks for reverting the other chains

SC info:
{u'balance': Decimal('6.50000000'),
 u'created at block height': 221,
 u'created in block': u'0342561b68e72360b7e3734bb8981517d4fce1081fe2a08d1d6c7c4f5641519c',
 u'creating tx hash': u'5648496ce28900226e1097ef2334dc95186630ebe1fbc06641683b4e244c86e0',
 u'customData': u'',
 u'immature amounts': [],
 u'last certificate epoch': -1,
 u'scid': u'1111111111111111111111111111111111111111111111111111111111111111',
 u'withdrawalEpochLength': 5}
None

SC info:
{u'balance': Decimal('6.50000000'),
 u'created at block height': 221,
 u'created in block': u'0342561b68e72360b7e3734bb8981517d4fce1081fe2a08d1d6c7c4f5641519c',
 u'creating tx hash': u'5648496ce28900226e1097ef2334dc95186630ebe1fbc06641683b4e244c86e0',
 u'customData': u'',
 u'immature amounts': [],
 u'last certificate epoch': -1,
 u'scid': u'1111111111111111111111111111111111111111111111111111111111111111',
 u'withdrawalEpochLength': 5}
None

SC info:
{u'balance': Decimal('6.50000000'),
 u'created at block height': 221,
 u'created in block': u'0342561b68e72360b7e3734bb8981517d4fce1081fe2a08d1d6c7c4f5641519c',
 u'creating tx hash': u'5648496ce28900226e1097ef2334dc95186630ebe1fbc06641683b4e244c86e0',
 u'customData': u'',
 u'immature amounts': [],
 u'last certificate epoch': -1,
 u'scid': u'1111111111111111111111111111111111111111111111111111111111111111',
 u'withdrawalEpochLength': 5}
None
Node0 balance:  1102.49965508
Node1 balance:  0E-8
Node2 balance:  0E-8
==================================================


{u'status': u'active', u'branchlen': 0, u'hash': u'084c2681f424dc6389e5e85151fd55771c12564da76bd54ec68c0dbbdcd3bc52', u'height': 311}
(' ', {u'status': u'invalid', u'branchlen': 13, u'hash': u'05ee8aa58ebc75dd962b744d26afae948a3361bb3550a6577654161ad9009f50', u'height': 233})
---
{u'status': u'active', u'branchlen': 0, u'hash': u'084c2681f424dc6389e5e85151fd55771c12564da76bd54ec68c0dbbdcd3bc52', u'height': 311}
(' ', {u'status': u'valid-fork', u'branchlen': 13, u'hash': u'05ee8aa58ebc75dd962b744d26afae948a3361bb3550a6577654161ad9009f50', u'height': 233})
---
{u'status': u'active', u'branchlen': 0, u'hash': u'084c2681f424dc6389e5e85151fd55771c12564da76bd54ec68c0dbbdcd3bc52', u'height': 311}
(' ', {u'status': u'valid-fork', u'branchlen': 13, u'hash': u'05ee8aa58ebc75dd962b744d26afae948a3361bb3550a6577654161ad9009f50', u'height': 233})
---
Stopping nodes
Cleaning up
Tests successful
--- Success: sc_cert_invalidate.py ---

=== Running testscript sc_fwd_maturity.py ===
Initializing test directory /tmp/testm2wD4Z
Node 1 generates 220 block
Current height:  220

Node 1 creates SC 1 with 1.0 coins

...Node0 generating 1 block
Current height:  221
  Node 2 - scid: 0000000000000000000000000000000000000000000000000000000000000011
    balance: 0.000000
    created in block: 0c1f428f825d8ef327879ef9bdea0e7eadea38684f0b3f5dfd269d973b42cb72 (221)
    created in tx:    360c57f3d7b88989991edd3c225c7d8cb39de5962f748531d933b55b0582baeb
    immature amounts:   [{u'maturityHeight': 223, u'amount': Decimal('1.00000000')}]

Check that 1.000000 coins will be mature at h=223
...OK


Node 1 sends 2.0 coins to SC

Node 1 sends 3 amounts to SC 1 (tot: 7.0)

Node 1 creates SC 2,3,4, all with 1.0 coins

...Node0 generating 1 block
Current height:  222
  Node 2 - scid: 0000000000000000000000000000000000000000000000000000000000000011
    balance: 0.000000
    created in block: 0c1f428f825d8ef327879ef9bdea0e7eadea38684f0b3f5dfd269d973b42cb72 (221)
    created in tx:    360c57f3d7b88989991edd3c225c7d8cb39de5962f748531d933b55b0582baeb
    immature amounts:   [{u'maturityHeight': 223, u'amount': Decimal('1.00000000')}, {u'maturityHeight': 224, u'amount': Decimal('9.00000000')}]

  Node 2 - scid: 0000000000000000000000000000000000000000000000000000000000000022
    balance: 0.000000
    created in block: 085d9320c44f3c27469f5a23103b8a206164baaec143f79f2fe25da090dc43c2 (222)
    created in tx:    6bd5d551f0545af856cb2a82d6a6e63dbe4712823ed78c511b7686759bf2b458
    immature amounts:   [{u'maturityHeight': 224, u'amount': Decimal('1.00000000')}]

Check that 1.000000 coins will be mature at h=223
Check that 9.000000 coins will be mature at h=224
...OK


Node 1 sends 2 amounts to SC 2 (tot: 5.0)

...Node0 generating 1 block
-------------------------------------------------------------------------------------
  Node 0 - scid: 0000000000000000000000000000000000000000000000000000000000000011
    balance: 1.000000
    created in block: 0c1f428f825d8ef327879ef9bdea0e7eadea38684f0b3f5dfd269d973b42cb72 (221)
    created in tx:    360c57f3d7b88989991edd3c225c7d8cb39de5962f748531d933b55b0582baeb
    immature amounts:   [{u'maturityHeight': 224, u'amount': Decimal('9.00000000')}]

  Node 0 - scid: 0000000000000000000000000000000000000000000000000000000000000022
    balance: 0.000000
    created in block: 085d9320c44f3c27469f5a23103b8a206164baaec143f79f2fe25da090dc43c2 (222)
    created in tx:    6bd5d551f0545af856cb2a82d6a6e63dbe4712823ed78c511b7686759bf2b458
    immature amounts:   [{u'maturityHeight': 224, u'amount': Decimal('1.00000000')}, {u'maturityHeight': 225, u'amount': Decimal('5.00000000')}]

  Node 0 - scid: 0000000000000000000000000000000000000000000000000000000000000033
    balance: 0.000000
    created in block: 085d9320c44f3c27469f5a23103b8a206164baaec143f79f2fe25da090dc43c2 (222)
    created in tx:    094a8d06aace8dc464a5b3d367bfaf99be6b5f66ae8f451e56d70f4ca253f304
    immature amounts:   [{u'maturityHeight': 224, u'amount': Decimal('1.00000000')}]

  Node 0 - scid: 0000000000000000000000000000000000000000000000000000000000000044
    balance: 0.000000
    created in block: 085d9320c44f3c27469f5a23103b8a206164baaec143f79f2fe25da090dc43c2 (222)
    created in tx:    2393f7414c8db9fec3724ae95372c94d9dd9f2adcfa632fc69cf257813dca664
    immature amounts:   [{u'maturityHeight': 224, u'amount': Decimal('1.00000000')}]

  Node 1 - scid: 0000000000000000000000000000000000000000000000000000000000000011
    balance: 1.000000
    created in block: 0c1f428f825d8ef327879ef9bdea0e7eadea38684f0b3f5dfd269d973b42cb72 (221)
    created in tx:    360c57f3d7b88989991edd3c225c7d8cb39de5962f748531d933b55b0582baeb
    immature amounts:   [{u'maturityHeight': 224, u'amount': Decimal('9.00000000')}]

  Node 1 - scid: 0000000000000000000000000000000000000000000000000000000000000022
    balance: 0.000000
    created in block: 085d9320c44f3c27469f5a23103b8a206164baaec143f79f2fe25da090dc43c2 (222)
    created in tx:    6bd5d551f0545af856cb2a82d6a6e63dbe4712823ed78c511b7686759bf2b458
    immature amounts:   [{u'maturityHeight': 224, u'amount': Decimal('1.00000000')}, {u'maturityHeight': 225, u'amount': Decimal('5.00000000')}]

  Node 1 - scid: 0000000000000000000000000000000000000000000000000000000000000033
    balance: 0.000000
    created in block: 085d9320c44f3c27469f5a23103b8a206164baaec143f79f2fe25da090dc43c2 (222)
    created in tx:    094a8d06aace8dc464a5b3d367bfaf99be6b5f66ae8f451e56d70f4ca253f304
    immature amounts:   [{u'maturityHeight': 224, u'amount': Decimal('1.00000000')}]

  Node 1 - scid: 0000000000000000000000000000000000000000000000000000000000000044
    balance: 0.000000
    created in block: 085d9320c44f3c27469f5a23103b8a206164baaec143f79f2fe25da090dc43c2 (222)
    created in tx:    2393f7414c8db9fec3724ae95372c94d9dd9f2adcfa632fc69cf257813dca664
    immature amounts:   [{u'maturityHeight': 224, u'amount': Decimal('1.00000000')}]

  Node 2 - scid: 0000000000000000000000000000000000000000000000000000000000000011
    balance: 1.000000
    created in block: 0c1f428f825d8ef327879ef9bdea0e7eadea38684f0b3f5dfd269d973b42cb72 (221)
    created in tx:    360c57f3d7b88989991edd3c225c7d8cb39de5962f748531d933b55b0582baeb
    immature amounts:   [{u'maturityHeight': 224, u'amount': Decimal('9.00000000')}]

  Node 2 - scid: 0000000000000000000000000000000000000000000000000000000000000022
    balance: 0.000000
    created in block: 085d9320c44f3c27469f5a23103b8a206164baaec143f79f2fe25da090dc43c2 (222)
    created in tx:    6bd5d551f0545af856cb2a82d6a6e63dbe4712823ed78c511b7686759bf2b458
    immature amounts:   [{u'maturityHeight': 224, u'amount': Decimal('1.00000000')}, {u'maturityHeight': 225, u'amount': Decimal('5.00000000')}]

  Node 2 - scid: 0000000000000000000000000000000000000000000000000000000000000033
    balance: 0.000000
    created in block: 085d9320c44f3c27469f5a23103b8a206164baaec143f79f2fe25da090dc43c2 (222)
    created in tx:    094a8d06aace8dc464a5b3d367bfaf99be6b5f66ae8f451e56d70f4ca253f304
    immature amounts:   [{u'maturityHeight': 224, u'amount': Decimal('1.00000000')}]

  Node 2 - scid: 0000000000000000000000000000000000000000000000000000000000000044
    balance: 0.000000
    created in block: 085d9320c44f3c27469f5a23103b8a206164baaec143f79f2fe25da090dc43c2 (222)
    created in tx:    2393f7414c8db9fec3724ae95372c94d9dd9f2adcfa632fc69cf257813dca664
    immature amounts:   [{u'maturityHeight': 224, u'amount': Decimal('1.00000000')}]


Current height:  223
  Node 2 - scid: 0000000000000000000000000000000000000000000000000000000000000011
    balance: 1.000000
    created in block: 0c1f428f825d8ef327879ef9bdea0e7eadea38684f0b3f5dfd269d973b42cb72 (221)
    created in tx:    360c57f3d7b88989991edd3c225c7d8cb39de5962f748531d933b55b0582baeb
    immature amounts:   [{u'maturityHeight': 224, u'amount': Decimal('9.00000000')}]

Check that 9.000000 coins will be mature at h=224
...OK


...Node0 generating 1 block
Current height:  224
  Node 2 - scid: 0000000000000000000000000000000000000000000000000000000000000011
    balance: 10.000000
    created in block: 0c1f428f825d8ef327879ef9bdea0e7eadea38684f0b3f5dfd269d973b42cb72 (221)
    created in tx:    360c57f3d7b88989991edd3c225c7d8cb39de5962f748531d933b55b0582baeb
    immature amounts:   []

Check that there are no immature coins
...OK


Node 2 invalidates best block
Current height:  223
  Node 2 - scid: 0000000000000000000000000000000000000000000000000000000000000011
    balance: 1.000000
    created in block: 0c1f428f825d8ef327879ef9bdea0e7eadea38684f0b3f5dfd269d973b42cb72 (221)
    created in tx:    360c57f3d7b88989991edd3c225c7d8cb39de5962f748531d933b55b0582baeb
    immature amounts:   [{u'maturityHeight': 224, u'amount': Decimal('9.00000000')}]

Check that 9.000000 coins will be mature at h=224
...OK


Node 2 invalidates best block
Current height:  222
  Node 2 - scid: 0000000000000000000000000000000000000000000000000000000000000011
    balance: 0.000000
    created in block: 0c1f428f825d8ef327879ef9bdea0e7eadea38684f0b3f5dfd269d973b42cb72 (221)
    created in tx:    360c57f3d7b88989991edd3c225c7d8cb39de5962f748531d933b55b0582baeb
    immature amounts:   [{u'maturityHeight': 223, u'amount': Decimal('1.00000000')}, {u'maturityHeight': 224, u'amount': Decimal('9.00000000')}]

Check that 1.000000 coins will be mature at h=223
Check that 9.000000 coins will be mature at h=224
...OK


Node 2 invalidates best block
Current height:  221
-------------------------------------------------------------------------------------
  Node 0 - scid: 0000000000000000000000000000000000000000000000000000000000000011
    balance: 10.000000
    created in block: 0c1f428f825d8ef327879ef9bdea0e7eadea38684f0b3f5dfd269d973b42cb72 (221)
    created in tx:    360c57f3d7b88989991edd3c225c7d8cb39de5962f748531d933b55b0582baeb
    immature amounts:   []

  Node 0 - scid: 0000000000000000000000000000000000000000000000000000000000000022
    balance: 1.000000
    created in block: 085d9320c44f3c27469f5a23103b8a206164baaec143f79f2fe25da090dc43c2 (222)
    created in tx:    6bd5d551f0545af856cb2a82d6a6e63dbe4712823ed78c511b7686759bf2b458
    immature amounts:   [{u'maturityHeight': 225, u'amount': Decimal('5.00000000')}]

  Node 0 - scid: 0000000000000000000000000000000000000000000000000000000000000033
    balance: 1.000000
    created in block: 085d9320c44f3c27469f5a23103b8a206164baaec143f79f2fe25da090dc43c2 (222)
    created in tx:    094a8d06aace8dc464a5b3d367bfaf99be6b5f66ae8f451e56d70f4ca253f304
    immature amounts:   []

  Node 0 - scid: 0000000000000000000000000000000000000000000000000000000000000044
    balance: 1.000000
    created in block: 085d9320c44f3c27469f5a23103b8a206164baaec143f79f2fe25da090dc43c2 (222)
    created in tx:    2393f7414c8db9fec3724ae95372c94d9dd9f2adcfa632fc69cf257813dca664
    immature amounts:   []

  Node 1 - scid: 0000000000000000000000000000000000000000000000000000000000000011
    balance: 10.000000
    created in block: 0c1f428f825d8ef327879ef9bdea0e7eadea38684f0b3f5dfd269d973b42cb72 (221)
    created in tx:    360c57f3d7b88989991edd3c225c7d8cb39de5962f748531d933b55b0582baeb
    immature amounts:   []

  Node 1 - scid: 0000000000000000000000000000000000000000000000000000000000000022
    balance: 1.000000
    created in block: 085d9320c44f3c27469f5a23103b8a206164baaec143f79f2fe25da090dc43c2 (222)
    created in tx:    6bd5d551f0545af856cb2a82d6a6e63dbe4712823ed78c511b7686759bf2b458
    immature amounts:   [{u'maturityHeight': 225, u'amount': Decimal('5.00000000')}]

  Node 1 - scid: 0000000000000000000000000000000000000000000000000000000000000033
    balance: 1.000000
    created in block: 085d9320c44f3c27469f5a23103b8a206164baaec143f79f2fe25da090dc43c2 (222)
    created in tx:    094a8d06aace8dc464a5b3d367bfaf99be6b5f66ae8f451e56d70f4ca253f304
    immature amounts:   []

  Node 1 - scid: 0000000000000000000000000000000000000000000000000000000000000044
    balance: 1.000000
    created in block: 085d9320c44f3c27469f5a23103b8a206164baaec143f79f2fe25da090dc43c2 (222)
    created in tx:    2393f7414c8db9fec3724ae95372c94d9dd9f2adcfa632fc69cf257813dca664
    immature amounts:   []

  Node 2 - scid: 0000000000000000000000000000000000000000000000000000000000000011
    balance: 0.000000
    created in block: 0c1f428f825d8ef327879ef9bdea0e7eadea38684f0b3f5dfd269d973b42cb72 (221)
    created in tx:    360c57f3d7b88989991edd3c225c7d8cb39de5962f748531d933b55b0582baeb
    immature amounts:   [{u'maturityHeight': 223, u'amount': Decimal('1.00000000')}]


  Node 2 - scid: 0000000000000000000000000000000000000000000000000000000000000011
    balance: 0.000000
    created in block: 0c1f428f825d8ef327879ef9bdea0e7eadea38684f0b3f5dfd269d973b42cb72 (221)
    created in tx:    360c57f3d7b88989991edd3c225c7d8cb39de5962f748531d933b55b0582baeb
    immature amounts:   [{u'maturityHeight': 223, u'amount': Decimal('1.00000000')}]

Check that 1.000000 coins will be mature at h=223
...OK


Node 2 invalidates best block
Current height:  220
Checking that sc info on Node2 is not available...
scid not yet created: 0000000000000000000000000000000000000000000000000000000000000011
...OK

Stopping nodes
Cleaning up
Tests successful
--- Success: sc_fwd_maturity.py ---

=== Running testscript sc_rawcertificate.py ===
Initializing test directory /tmp/testHxSN2z
Node 1 generates 1 block
Node 0 generates 1 block
Node 3 generates 219 block
Node 1 creates the SC spending 5.0 coins ...
Node3 generating 5 block
Node3 generating 2 block, overcoming safeguard
Node0 sending raw certificate for epoch 0, expecting failure...

======>  16: bad-sc-cert-not-applicable
Node0 invalidates last block, thus shortening the chain by one and returning in the safe margin
Node0 sending raw certificate for epoch 0, expecting success
Node0 generating 4 block, also reverting other chains
check that cert decodes correctly
check that SC balance has been decreased by the cert amount
Node3 sending raw certificate with no backward transfer for epoch 1
Node2 generating 1 block
check that cert contents are as expected
check that cert decodes correctly
check that the miner has got the cert fee
check that the Node 0, the creator of the cert, which have been actully sent by Node3, has been charged with the fee
Node0 generating 4 block reaching next epoch
Node1 sending raw certificate for epoch 2
check that cert contents are as expected
Node0 generating 5 block reaching next epoch
Node0 creates and signs a raw certificate for epoch 3, expecting failure because the priv key is not his...
Node0 creates and signs a raw certificate for epoch 3, expecting success because the priv key is the right one...
Node2 sending raw certificate for epoch 3
Stopping nodes
Cleaning up
Tests successful
--- Success: sc_rawcertificate.py ---

=== Running testscript getunconfirmedtxdata.py ===
Initializing test directory /tmp/testta5O22
Node 1 generates 101 block
Node 1 generates 3 block
Node0 balance before: 0.24680000
Node 1 sent 0.1234 coins to Node0 address ztfGhfAyJBhsBfwGy9VD3SAYkLWbETMCmz4 via tx 7fe4766e6861f2204ada58e0312ab760660f6d01653fa8b30a67ac39383c6707.
Node 1 sent 0.2468 coins to Node0 address ztfGhfAyJBhsBfwGy9VD3SAYkLWbETMCmz4 via tx 89a84125fa2953c003fe2281d301764eb1707da7d73e2403082743ecd2ba6300.
Node 1 sent 0.3702 coins to Node0 address ztfGhfAyJBhsBfwGy9VD3SAYkLWbETMCmz4 via tx ece112b09e280ed3a4991c09e39699b24c993fd7ab3c770b55ec5c633b383e32.
Node 1 sent 0.4936 coins to Node0 address ztfGhfAyJBhsBfwGy9VD3SAYkLWbETMCmz4 via tx 2a1e3bdcc1eae58570a33c07cfd146506969a39bc9873bdc2e62573fbffeeb78.
Node 1 sent 0.6170 coins to Node0 address ztfGhfAyJBhsBfwGy9VD3SAYkLWbETMCmz4 via tx 2468fecf295e6a68d078ea2a8610b0e44500788103615bc1b78ee9ec4eb64805.
Node 1 sent 0.5678 coins to Node0 address ztgRkkN6bQc9HN55EsS3vSUsaXZuZ4YQsKv via tx 325a9530b03fc09f264b96f33b25718264f3a1e8ee47d194307f8b1b641c8900.
Node 1 sent 1.1356 coins to Node0 address ztgRkkN6bQc9HN55EsS3vSUsaXZuZ4YQsKv via tx bf8804e589c9a559730e4e6af1ee01194c8de878c5e1f875c53a3bde19ce7c9b.
Node 1 sent 1.7034 coins to Node0 address ztgRkkN6bQc9HN55EsS3vSUsaXZuZ4YQsKv via tx 2c56ed4fe39fe749e7d70565d0c995914c0042d91be6a0ebad7d7900ddd4442a.
Node 1 sent 2.2712 coins to Node0 address ztgRkkN6bQc9HN55EsS3vSUsaXZuZ4YQsKv via tx de2825fcd5015d2e6c34c3069d55baf20930cf149cdb34b0211aaa7a3711cfcd.
Node 1 sent 2.8390 coins to Node0 address ztgRkkN6bQc9HN55EsS3vSUsaXZuZ4YQsKv via tx 2dbe54c18083917a0bd1f9963b8cd27c1efef7a962a5b514698750d9d0227b5a.
Node 1 sent 3.4068 coins to Node0 address ztgRkkN6bQc9HN55EsS3vSUsaXZuZ4YQsKv via tx 6edb35c6a619da5ce472f5f16a889b0763432d679e875f7d03195862ee071a31.
Node 1 sent 3.9746 coins to Node0 address ztgRkkN6bQc9HN55EsS3vSUsaXZuZ4YQsKv via tx 0fa4f043855c68e3ece8bff116e0e19b2f93c28de1055aecb8bbb61715b00953.
Node0 unconfirmed balance: 17.74940000
Node0 unconfirmed data for address ztfGhfAyJBhsBfwGy9VD3SAYkLWbETMCmz4 : {u'unconfirmedInput': Decimal('0E-8'), u'unconfirmedOutput': Decimal('1.85100000'), u'unconfirmedTxApperances': 5}
Node0 unconfirmed data for address ztgRkkN6bQc9HN55EsS3vSUsaXZuZ4YQsKv : {u'unconfirmedInput': Decimal('0E-8'), u'unconfirmedOutput': Decimal('15.89840000'), u'unconfirmedTxApperances': 7}
Node 1 generates 1 block
Node0 balance now: 17.99620000
stopping and restarting nodes with -spendzeroconfchange=0
Node 0 sent 8.99810000 coins to itself at address ztgwsiisrXpjQuxQUWnLaQuS5mMxXyW4med via tx 23d7883e23743e562834d1f897ade181daa79c59641c14f98b080a50063967f9.
Node0 unconfirmed data for address ztgwsiisrXpjQuxQUWnLaQuS5mMxXyW4med : {u'unconfirmedInput': Decimal('0E-8'), u'unconfirmedOutput': Decimal('8.99810000'), u'unconfirmedTxApperances': 1}
Node0 unconfirmed data for address ztrRT5c3dxAErmppf94uhErmcU52bvjxYhi : {u'unconfirmedInput': Decimal('0E-8'), u'unconfirmedOutput': Decimal('0.01249262'), u'unconfirmedTxApperances': 1}
Node0 unconfirmed balance: 9.01059262
Node 1 generates 1 block
stopping and restarting nodes with -spendzeroconfchange=1 (default)
Node 0 sent 5.998730873333333333333333333 coins to itself at address ztb5VrXLnQLFqiZsvTQUNEBhCfhU2USLp1q via tx c072663dcc3ddf81e4b252d4128aedcb763122176d3a06488254ad493467ca3e.
Node0 unconfirmed data for address zthCkqaqFe3RQkYL2Z3MqinxgD7mPN7QcHm : {u'unconfirmedInput': Decimal('0E-8'), u'unconfirmedOutput': Decimal('2.99936617'), u'unconfirmedTxApperances': 1}
Node0 unconfirmed data for address ztb5VrXLnQLFqiZsvTQUNEBhCfhU2USLp1q : {u'unconfirmedInput': Decimal('0E-8'), u'unconfirmedOutput': Decimal('5.99873087'), u'unconfirmedTxApperances': 1}
Node0 unconfirmed data for address zthCkqaqFe3RQkYL2Z3MqinxgD7mPN7QcHm : {u'unconfirmedInput': Decimal('0E-8'), u'unconfirmedOutput': Decimal('0E-8'), u'unconfirmedTxApperances': 0}
Node0 unconfirmed data for address ztb5VrXLnQLFqiZsvTQUNEBhCfhU2USLp1q : {u'unconfirmedInput': Decimal('0E-8'), u'unconfirmedOutput': Decimal('0E-8'), u'unconfirmedTxApperances': 0}
Node0 unconfirmed data for address zthCkqaqFe3RQkYL2Z3MqinxgD7mPN7QcHm : {u'unconfirmedInput': Decimal('0E-8'), u'unconfirmedOutput': Decimal('0E-8'), u'unconfirmedTxApperances': 0}
Node0 unconfirmed data for address ztb5VrXLnQLFqiZsvTQUNEBhCfhU2USLp1q : {u'unconfirmedInput': Decimal('0E-8'), u'unconfirmedOutput': Decimal('0E-8'), u'unconfirmedTxApperances': 0}
Node0 unconfirmed balance: 0E-8
Node 1 generates 1 block
Stopping nodes
Cleaning up
Tests successful
--- Success: getunconfirmedtxdata.py ---

=== Running testscript sc_cr_and_fw_in_mempool.py ===
Initializing test directory /tmp/testytLgAD
Node 1 generates 1 block
Node 0 generates 220 block
Node 0 sent 1000 coins to itself via b33209e4ff25706dd759c6b78f4bd47c081badbad68b7b073acc5de7d529be19
Node 0 created a sidechain via 1fa62103bce6b110682a03c079b9f86bea882851272de3c0a70118220d18121e
Node 0 sends to sidechain 
Node 0 send many amounts (tot=0.15) to sidechain via ecba719c1ea51b225bd73e1fc50a8ddf64178105de58f7f10cf4658cf7bd9634
Node 0 send many amounts (tot=0.30) to sidechain via 97d4a762c5d7be8e87548a5513ccfa27320457b5fc77b732f3c272ebc1290719
Node 0 send many amounts (tot=0.45) to sidechain via 59e8b8804789b3ff95f749fe30b98a662c41be999b6e3d43b1da12897a776461
Node 0 send many amounts (tot=0.60) to sidechain via 395fb96240c41f3ca01e2f2b66c2a608cba4abd7dc4aeda10ec55f87dba1490a
Node 0 send many amounts (tot=0.75) to sidechain via 43afafab36b9d3a4fe80aa867fe96b0af89c14c15e0a689a7adfea6ca9b821e0
Check creation tx is in mempools
creation tx prio 0
creation tx depends on b33209e4ff25706dd759c6b78f4bd47c081badbad68b7b073acc5de7d529be19
Check fw txes are in mempools and their prio is greater than sc creation prio
Node1 generates 1 block
Check mempools are empty
Check that all fw txes are in block
Check that creating tx is the third in list (after coinbase)
stopping and restarting nodes with '-deprecatedgetblocktemplate=1'
Node 0 invalidates last block
Check creation tx is in mempool
Check fw txes are in mempool
creation tx prio 2.66784792557154E+18
creation tx depends on b33209e4ff25706dd759c6b78f4bd47c081badbad68b7b073acc5de7d529be19
Check fw txes are in mempools and their prio is greater than sc creation prio
Node0 generates 1 block
Check mempool is empty
Check that all fw txes are in block
Check that creating tx is the third in list (after coinbase)
Node0 generates 5 more blocks
Check that sc balance is as expected
{u'balance': Decimal('1002.25000000'),
 u'created at block height': 222,
 u'created in block': u'0d063a544159cbf13aea7a6a3202039d093fd9c5a0c0624f488f3ac5a628ee3b',
 u'creating tx hash': u'1fa62103bce6b110682a03c079b9f86bea882851272de3c0a70118220d18121e',
 u'customData': u'abcdef',
 u'immature amounts': [],
 u'last certificate epoch': -1,
 u'scid': u'1111111111111111111111111111111111111111111111111111111111111111',
 u'withdrawalEpochLength': 5}
Check that both nodes share the same view of sc info
Stopping nodes
Cleaning up
Tests successful
--- Success: sc_cr_and_fw_in_mempool.py ---

=== Running testscript sc_cert_change.py ===
Initializing test directory /tmp/testcn6NCy
Node 0 generates 220 block
Node 0 created the SC spending 10.0 coins via tx cb8b3733abaf6f70ff43fc0dc5962281a7ec7cd628262dd5c9c91c9bccfc227d.
Node0 generates 5 blocks to achieve end of epoch
Current height 225, Sc creation height 221, epoch length 5 --> current epoch number 0
Node 0 performs a bwd transfer of 1.0 coins to Node1 pkh
Certificate is 32483860fa07a23128bc742d7961091eb6820d0d1c9c70014da0d42f7760f575
Node0 generates 5 blocks to achieve end of epoch
Current height 230, Sc creation height 221, epoch length 5 --> current epoch number 1
Node 0 performs a bwd transfer of 2.0 coins to Node2 pkh
Certificate is 95be430d61b24b6890a8a576b90638c1b34585d0590944d60e957d72b5dd67b1
Node0 generates 5 blocks to achieve end of epoch
Current height 235, Sc creation height 221, epoch length 5 --> current epoch number 2
Node 1 performs a bwd transfer of 3.0 coins to Node3 pkh
Certificate is 3899ac4f3df55947139c6288bda4fa3fb55d79d6ce73c5df5fcc8e566e79a8b8
Node0 generates 1 blocks
Node0 generates 1 blocks
Stopping nodes
Cleaning up
Tests successful
--- Success: sc_cert_change.py ---

=== Running testscript sc_cert_orphans.py ===
Initializing test directory /tmp/testYHS3dH
Node0 generates 220 block
Node0 creates SC 1111 and 2222
Node0 generates 5 blocks to achieve end of epoch
Current height 225, Sc creation height 221, epoch length 5 --> current epoch number 0
Node0 sends 0.5 coins to Node1
======> tx1 = 790a9c1c8957f33c6a546d511abe452beceddb68a265b4c78ca816ad1f4a7a01
Node1 sends a certificate for SC 1111 using unconfirmed UTXO from tx1
======> cert1 = 46562ea1d5611d96ac2f3157b16260cc6366a16dfe21b06ef40ee2399c8600f5
Check tx1 and cert1 are in mempools
check that cert1 depends on tx1 790a9c1c8957f33c6a546d511abe452beceddb68a265b4c78ca816ad1f4a7a01
Node1 try to send 0.4 coins to Node2 using unconfirmed change from cert1, expecting failure
Insufficient funds
Node1 try to do the same using a raw transaction, expecting failure
16: certificate unconfirmed output
Node1 tries to sends a certificate for SC 2222 using unconfirmed change from cert1, expecting failure
Send certificate failed with reason Insufficient transparent funds , have 0.00, need 0.00015 (minconf=0)
Node1 try to do the same using a raw certificate, expecting failure
Send certificate failed with reason 16: certificate unconfirmed output
Node0 generates 1 block
Node1 retry to send 0.4 coins to Node2 via the raw transaction that was failing before
======> tx2 = 61f6eea1f2a45c1f509c5a0142e8fb2ff7ff18c5e638e23a54342fa735ee56c6
Node1 retry to send the same raw certificate that was failig before, expecting failure because it now would double spend
16: double spend
Node1 sends a certificate for SC 2222 using unconfirmed UTXO from tx2 change
======> cert2 = 6b0663dba614dbf5d41e20de5049b3940ed181725ce833980e97be3635708109
Check tx2 and cert2 are in mempools
check that cert2 depends on tx2 61f6eea1f2a45c1f509c5a0142e8fb2ff7ff18c5e638e23a54342fa735ee56c6
Node0 generates 1 block
Check mempools are empty
Node 0 invalidates latest block with height = 227
Check tx2 and cert2 are back in mempool of Node0
Node 0 invalidates latest block with height = 226
Check tx1 and cert1 are back in mempool of Node0
Check tx2 and cert2 are no more in mempool of Node0
Node0 generates 1 block
Node 0 reconsider last invalidated block
Check mempools are empty
Node3 generates 2 blocks prevailing over Node0 and realigning the network
verifying that network is realigned
Stopping nodes
Cleaning up
Tests successful
--- Success: sc_cert_orphans.py ---

=== Running testscript zmq_test.py ===
Initializing test directory /tmp/testy24Nax
listen...
Stopping nodes
Cleaning up
Tests successful
--- Success: zmq_test.py ---

=== Running testscript getblocktemplate_longpoll.py ===
Initializing test directory /tmp/testxtHK9p
Warning: this test will take about 70 seconds in the best case. Be patient.
Stopping nodes
Cleaning up
Tests successful
--- Success: getblocktemplate_longpoll.py ---

=== Running testscript getblocktemplate_proposals.py ===
Initializing test directory /tmp/test77uBcs
active chain height = 201: testing before sidechain fork
active chain height = 221: testing after sidechain fork
computed sc_commitment: 21f91a9e3757c897ba18180c20bc2ecf36661f606e106d53aac8ffdbd37c7c52
computed sc_commitment: e68d077974241bab1062dda2f40e11373f03e8917ba60428378a1a29a961f40d
Stopping nodes
Cleaning up
Tests successful
--- Success: getblocktemplate_proposals.py ---

=== Running testscript getblocktemplate_blockmaxcomplexity.py ===
Initializing test directory /tmp/testoBLO5C
Stopping nodes
Cleaning up
Tests successful
--- Success: getblocktemplate_blockmaxcomplexity.py ---

=== Running testscript getblocktemplate_priority.py ===
Initializing test directory /tmp/test1foD7D
Stopping nodes
Cleaning up
Tests successful
--- Success: getblocktemplate_priority.py ---

=== Running testscript forknotify.py ===
Initializing test directory /tmp/testeLBbQA
Node 2 generates 150 block
Check that block version is 4
Node 1 generates 51 block with an up-version
Check that block version is 211
CreateNewBlock(): TestBlockValidity failed ===> Ok, Can not generate blocks with version = 2
Node 2 generates 19 block to reach sidechain fork
Chain height = 220
Check that best block version is 3
CreateNewBlock(): TestBlockValidity failed ===> Ok, Can not generate blocks with version = 211
Stopping nodes
Cleaning up
Tests successful
--- Success: forknotify.py ---

=== Running testscript keypool.py ===
Initializing test directory /tmp/testni7YJF
Cleaning up
Tests successful
--- Success: keypool.py ---

=== Running testscript receivedby.py ===
Initializing test directory /tmp/testNDnt9_
Stopping nodes
Cleaning up
Tests successful
--- Success: receivedby.py ---

=== Running testscript rpcbind_test.py ===
Initializing test directory /tmp/testlCzAZ4
Using interface 192.168.254.129 for testing
Cleaning up
Tests successful
--- Success: rpcbind_test.py ---

=== Running testscript smartfees.py ===
Initializing test directory /tmp/testPm2w_w
This test is time consuming, please be patient
Splitting inputs to small size so we can generate low priority tx's
Finished splitting
Checking estimates for 1/2/3/6/15/25 blocks
Creating transactions and mining them with a huge block size
['0.00008552', '0.00008552', '0.00008552', '0.00008552', '0.00008552', '0.00008552']
Creating transactions and mining them with a block size that can't keep up
['0.00136804', '0.00136804', '0.00069099', '0.00069099', '0.00069099', '0.00012228']
Creating transactions and mining them at a block size that is just big enough
['0.00082000', '0.00082000', '0.00082000', '0.00082000', '0.00048332', '0.00028977']
Final estimates after emptying mempools
['0.00114938', '0.00068841', '0.00068841', '0.00068841', '0.00068841', '0.00024183']
Stopping nodes
Cleaning up
Tests successful
--- Success: smartfees.py ---

=== Running testscript maxblocksinflight.py ===
Initializing test directory /tmp/testJ756BW
MiniNode: Connecting to Bitcoin Node IP # 127.0.0.1:11240
error: uncaptured python exception, closing channel <test_framework.mininode.NodeConn 127.0.0.1:11240 at 0x7fd70ef9b998> (<class 'test_framework.mininode.EarlyDisconnectError'>:0 [/usr/lib/python2.7/asyncore.py|readwrite|114] [/mnt/horizen_dev_disk/horizen/code_review_temp/zen/qa/rpc-tests/test_framework/mininode.py|handle_close|1389] [/mnt/horizen_dev_disk/horizen/code_review_temp/zen/qa/rpc-tests/maxblocksinflight.py|on_close|38])
Exception in thread Thread-1:
Traceback (most recent call last):
  File "/usr/lib/python2.7/threading.py", line 801, in __bootstrap_inner
    self.run()
  File "/mnt/horizen_dev_disk/horizen/code_review_temp/zen/qa/rpc-tests/test_framework/mininode.py", line 1499, in run
    asyncore.loop(0.1, use_poll=True, map=mininode_socket_map, count=1)
  File "/usr/lib/python2.7/asyncore.py", line 220, in loop
    poll_fun(timeout, map)
  File "/usr/lib/python2.7/asyncore.py", line 201, in poll2
    readwrite(obj, flags)
  File "/usr/lib/python2.7/asyncore.py", line 123, in readwrite
    obj.handle_error()
  File "/usr/lib/python2.7/asyncore.py", line 503, in handle_error
    self.handle_close()
  File "/mnt/horizen_dev_disk/horizen/code_review_temp/zen/qa/rpc-tests/test_framework/mininode.py", line 1389, in handle_close
    self.cb.on_close(self)
  File "/mnt/horizen_dev_disk/horizen/code_review_temp/zen/qa/rpc-tests/maxblocksinflight.py", line 38, in on_close
    raise EarlyDisconnectError(0)
EarlyDisconnectError: 0

Round 0: success (total requests: 0)
Round 1: success (total requests: 0)
Round 2: success (total requests: 0)
Round 3: success (total requests: 0)
Stopping nodes
Cleaning up
Tests successful
--- Success: maxblocksinflight.py ---

=== Running testscript replay_protection.py ===
Initializing test directory /tmp/testSnIq49
bb1acf2c1fc1228967a611c7db30632098f0c641855180b5fe23793b72eea50d
0da5ee723b7923feb580518541c6f098206330dbc711a6678922c11f2ccf1abb
bb1acf2c1fc1228967a611c7db30632098f0c641855180b5fe23793b72eea50d
0da5ee723b7923feb580518541c6f098206330dbc711a6678922c11f2ccf1abb
Stopping nodes
Cleaning up
Tests successful
--- Success: replay_protection.py ---

=== Running testscript headers_01.py ===
Initializing test directory /tmp/testoFICwh


Genesis block is:
0da5ee723b7923feb580518541c6f098206330dbc711a6678922c11f2ccf1abb


Node 0 generates a block
06df07dd752e23e6a808e6dc2fabc6cece6d4747d6407c9490d0edf6eb84d81d

{u'status': u'active', u'branchlen': 0, u'hash': u'06df07dd752e23e6a808e6dc2fabc6cece6d4747d6407c9490d0edf6eb84d81d', u'height': 1}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'06df07dd752e23e6a808e6dc2fabc6cece6d4747d6407c9490d0edf6eb84d81d', u'height': 1}
---
Stopping nodes
Cleaning up
Tests successful
--- Success: headers_01.py ---

=== Running testscript headers_02.py ===
Initializing test directory /tmp/testAm6Gat


Genesis block is:
0da5ee723b7923feb580518541c6f098206330dbc711a6678922c11f2ccf1abb


Node 1 generates a block

034e53d9aa6a08e3091b724a78aee6686367963ed11957a5887651437b10ff0b


Split network
The network is split

Node1 generating 1 honest block
01b6a94df65f12f1db8bbcdc0b4d824589f14188aed174f63b2466199721b4fc

Node2 generating 1 mal block
05ed5517a45d28f0f4964a1896f3f6016711b9a5e093579b589874ada5748852


Join network

Network joined
{u'status': u'active', u'branchlen': 0, u'hash': u'01b6a94df65f12f1db8bbcdc0b4d824589f14188aed174f63b2466199721b4fc', u'height': 2}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'01b6a94df65f12f1db8bbcdc0b4d824589f14188aed174f63b2466199721b4fc', u'height': 2}
  {u'status': u'valid-headers', u'branchlen': 1, u'hash': u'05ed5517a45d28f0f4964a1896f3f6016711b9a5e093579b589874ada5748852', u'height': 2}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'05ed5517a45d28f0f4964a1896f3f6016711b9a5e093579b589874ada5748852', u'height': 2}
  {u'status': u'valid-headers', u'branchlen': 1, u'hash': u'01b6a94df65f12f1db8bbcdc0b4d824589f14188aed174f63b2466199721b4fc', u'height': 2}
---
Stopping nodes
Cleaning up
Tests successful
--- Success: headers_02.py ---

=== Running testscript headers_03.py ===
Initializing test directory /tmp/testrsLsjW


Genesis block is:
0da5ee723b7923feb580518541c6f098206330dbc711a6678922c11f2ccf1abb


Node 1 generates a block

0cc0da921d4b2a1e447547365da1bc9a3bf6807c064059e36e155e904e6d4fe7


Split network
The network is split

Node1 generating 1 honest block
06efb0b9d9a2448d14747029d688c9bab5dcf8ba55740d093e914bedaf41c3ab

Node2 generating 1 mal block
08592f7eaf5d0d6a39a0f141352170e9f50c9890f081258a25b176b971ee1ce9


Join network

Network joined
{u'status': u'active', u'branchlen': 0, u'hash': u'06efb0b9d9a2448d14747029d688c9bab5dcf8ba55740d093e914bedaf41c3ab', u'height': 2}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'06efb0b9d9a2448d14747029d688c9bab5dcf8ba55740d093e914bedaf41c3ab', u'height': 2}
  {u'status': u'valid-headers', u'branchlen': 1, u'hash': u'08592f7eaf5d0d6a39a0f141352170e9f50c9890f081258a25b176b971ee1ce9', u'height': 2}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'08592f7eaf5d0d6a39a0f141352170e9f50c9890f081258a25b176b971ee1ce9', u'height': 2}
  {u'status': u'valid-headers', u'branchlen': 1, u'hash': u'06efb0b9d9a2448d14747029d688c9bab5dcf8ba55740d093e914bedaf41c3ab', u'height': 2}
---

Checking finality of block[ 06efb0b9d9a2448d14747029d688c9bab5dcf8ba55740d093e914bedaf41c3ab ]
  Node0 has: 2
  Node1 has: 1

Node2 generating 1 mal block
0ef0d6648ea0267cd2babfac4096405c37f14549078a7997651a448eb51e3a48
{u'status': u'active', u'branchlen': 0, u'hash': u'0ef0d6648ea0267cd2babfac4096405c37f14549078a7997651a448eb51e3a48', u'height': 3}
  {u'status': u'valid-fork', u'branchlen': 1, u'hash': u'06efb0b9d9a2448d14747029d688c9bab5dcf8ba55740d093e914bedaf41c3ab', u'height': 2}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0ef0d6648ea0267cd2babfac4096405c37f14549078a7997651a448eb51e3a48', u'height': 3}
  {u'status': u'valid-fork', u'branchlen': 1, u'hash': u'06efb0b9d9a2448d14747029d688c9bab5dcf8ba55740d093e914bedaf41c3ab', u'height': 2}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0ef0d6648ea0267cd2babfac4096405c37f14549078a7997651a448eb51e3a48', u'height': 3}
  {u'status': u'valid-headers', u'branchlen': 1, u'hash': u'06efb0b9d9a2448d14747029d688c9bab5dcf8ba55740d093e914bedaf41c3ab', u'height': 2}
---
Stopping nodes
Cleaning up
Tests successful
--- Success: headers_03.py ---

=== Running testscript headers_04.py ===
Initializing test directory /tmp/testdNR2Zz


Genesis block is:
0da5ee723b7923feb580518541c6f098206330dbc711a6678922c11f2ccf1abb


Node 1 generates a block

029347a8711b04024b1c05f20c72af4cf9aa6f17f70aebc16820f74efffc749b


Split network
The network is split

Node1 generating 6 honest block
01b6ed9b770a724aa0c99f1d2ccac173ba4cb826cdf7226ff3156143878238b9
0e57eefea0065fc37fa69d366a2ec903ec2fabfa193c9fcf98583dad198470de
08aad2e4ada560834bb5b8c1d669be9a6641eddb6f17265587f6e00522d1c6e0
02beede43aeafe4ee13ea1c099875fbfe3e61ce19c0442616fa17be4ebacf339
09a433f34c349f21bb145216bcf4ee14e9771a931962a4686c9e7ec4d5cbb252
05b204e9dc0c8576000d8048882a3bc33f4c44393c2749f0198dd668828970d8

Node2 generating 6 mal block
074f8a8ce4727b2b501db70097f47b14002abe2ced82dbf1f198430cdbf042e8
0464658803b4c78e1d626042f6d72fe2c9e63b22bc5c9fad816abdf47228298e
0d3d301bd2f92f1bb4d4ab6a841dcd079bb0bfb35a901d3ff50995de91ba8f10
0b2f47cb91845fbc9dac750d2dc06f1cfc858a37d17e3da216e23ab936eb90c5
0784dab130a26011c0e2bff8b1c69a3c76a6b3701fab33a0077161168e28c17f
04f0293a5be914fc562f6164ac8a55aabcf8894bfc0f76afef1be794e93b6436

{u'status': u'active', u'branchlen': 0, u'hash': u'05b204e9dc0c8576000d8048882a3bc33f4c44393c2749f0198dd668828970d8', u'height': 7}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'05b204e9dc0c8576000d8048882a3bc33f4c44393c2749f0198dd668828970d8', u'height': 7}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'04f0293a5be914fc562f6164ac8a55aabcf8894bfc0f76afef1be794e93b6436', u'height': 7}
---

Checking finality of block[ 01b6ed9b770a724aa0c99f1d2ccac173ba4cb826cdf7226ff3156143878238b9 ]
  Node0 has: 21
  Node1 has: 21



Join network

Network joined


{u'status': u'active', u'branchlen': 0, u'hash': u'05b204e9dc0c8576000d8048882a3bc33f4c44393c2749f0198dd668828970d8', u'height': 7}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'05b204e9dc0c8576000d8048882a3bc33f4c44393c2749f0198dd668828970d8', u'height': 7}
  {u'status': u'valid-headers', u'branchlen': 6, u'hash': u'04f0293a5be914fc562f6164ac8a55aabcf8894bfc0f76afef1be794e93b6436', u'height': 7}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'04f0293a5be914fc562f6164ac8a55aabcf8894bfc0f76afef1be794e93b6436', u'height': 7}
  {u'status': u'valid-headers', u'branchlen': 6, u'hash': u'05b204e9dc0c8576000d8048882a3bc33f4c44393c2749f0198dd668828970d8', u'height': 7}
---

Checking finality of block[ 01b6ed9b770a724aa0c99f1d2ccac173ba4cb826cdf7226ff3156143878238b9 ]
  Node0 has: 21
  Node1 has: 1


{u'status': u'active', u'branchlen': 0, u'hash': u'05b204e9dc0c8576000d8048882a3bc33f4c44393c2749f0198dd668828970d8', u'height': 7}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'05b204e9dc0c8576000d8048882a3bc33f4c44393c2749f0198dd668828970d8', u'height': 7}
  {u'status': u'valid-headers', u'branchlen': 6, u'hash': u'04f0293a5be914fc562f6164ac8a55aabcf8894bfc0f76afef1be794e93b6436', u'height': 7}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'04f0293a5be914fc562f6164ac8a55aabcf8894bfc0f76afef1be794e93b6436', u'height': 7}
  {u'status': u'valid-headers', u'branchlen': 6, u'hash': u'05b204e9dc0c8576000d8048882a3bc33f4c44393c2749f0198dd668828970d8', u'height': 7}
---

Node2 generating 1 mal block
09a59abf5f196be918baf6ad3a1a0a9e29788e4117f3c9ac54f803d98dfa8b58

[7, 7, 8]
[8, 8, 8]

{u'status': u'active', u'branchlen': 0, u'hash': u'09a59abf5f196be918baf6ad3a1a0a9e29788e4117f3c9ac54f803d98dfa8b58', u'height': 8}
  {u'status': u'valid-fork', u'branchlen': 6, u'hash': u'05b204e9dc0c8576000d8048882a3bc33f4c44393c2749f0198dd668828970d8', u'height': 7}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'09a59abf5f196be918baf6ad3a1a0a9e29788e4117f3c9ac54f803d98dfa8b58', u'height': 8}
  {u'status': u'valid-fork', u'branchlen': 6, u'hash': u'05b204e9dc0c8576000d8048882a3bc33f4c44393c2749f0198dd668828970d8', u'height': 7}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'09a59abf5f196be918baf6ad3a1a0a9e29788e4117f3c9ac54f803d98dfa8b58', u'height': 8}
  {u'status': u'valid-headers', u'branchlen': 6, u'hash': u'05b204e9dc0c8576000d8048882a3bc33f4c44393c2749f0198dd668828970d8', u'height': 7}
---
Stopping nodes
Cleaning up
Tests successful
--- Success: headers_04.py ---

=== Running testscript headers_05.py ===
Initializing test directory /tmp/testhvfzsx


Genesis block is:
0da5ee723b7923feb580518541c6f098206330dbc711a6678922c11f2ccf1abb


Node 1 generates a block

0d209a6d40016630e1954eea8f160c73f84956bc56cbb2b0a3b00365d2b77d95


Split network
The network is split

Node1 generating 7 honest block
042fa27aef0a9c57447941c2dc210d246f217b48e543b01cafdcd92d3867bd30
07c5a60001c50f773c5d85e5cc18628377dab47e62d70b4f1029286c8259b7e6
01b4a2b752b08d95643ea2a4b97d562efbeba7d21fef9dc47e018bf4408b1789
055375e7f5fed59152d168dbb02a2eb814d9265fbf0797d92bda8154b653ce93
04311f0d8e2e1d2d133c36738712aa1644f71bf6f977f6914a435be064a0be5c
06e43b58f73a572aa10eb7cbfa20e11bcd43f8b40f89692c7f5bb78128e4d8a1
09647fbe164c381a318b53c2f93c89bc7b6c879115a36e15b06413e156e4fd30

Node2 generating 20 mal block
0071f5997d7025780e42345fa863c9d48203aa1317d255649305d0ed9bdee1bf
03efd7b2886fb29e6f5eda03f33b392d6665a9bf20f430b3254d25821772cb91
0b4efc8abc8517e30de3f7b4e01b4400d768884f61757cd6100c6928ce467347
025a80a460612f2b319948835719acdc2d3b9d7afbbe949f5a43d349beed2fb0
009f984f5bed0e4d61304bfc0bbdbe37f509659a1bf52178ad6fd7963c44a112
06a6dab60d509edf5ebd18961939707738edec0170bb611b5f4c89de47a8365b
0e930015aafa3ea95e0f894650c0a04e7e6196b5f7556e3da70350956a2e0625
07b502302f7f4251fc947928edd55c9285f678c5af938fcbbebe6baf69b0fe71
0b9c67cd880b934222a7e55fa0a91d969910e0452c058b467d53b08b879ce7e4
0f0c13c3c4e20edda0061a98046e934880b84a28ea23c01922f9fec085dc1f38
08fde3cbdd075d84fd3481ed9b25621ea8030a0ecaccdcd0bd1f181cc9063e15
03a7778ba1498921f228a71237b6c08f91a71f3137003cd0cd078489c81a6be7
0c607e4a252dc97a8e94df2ea9fa101e7756f2ff01fc5348414102c821d8e1a2
014f208c09006d73d4aff13849787fb773530db9ee2892864b8abb790fbf635a
04d55e67c75f80180232801a66904af606f060ede4126515d1c2b6c63fdaa347
005c1d620af19684dabe880aa2d3661ab66bc623b3b2cbb004f347a59c69a637
0afb28a74dd8c0e076f09bf76a4ddb401645d2b4b4dca2dada09cf5aece55e4e
05a742c2d8b8fe24c4e0a139be61f0bbc0921160014359787883102d3a8c55c5
047384e1757a970790b648adaa040f394f7d28610856f67a4cb997e661bf8a70
04deec386dd2715e1883cd12ea4a36690d751abe56f5a1930e73dfd8b3aa79a5


Join network

Network joined
{u'status': u'active', u'branchlen': 0, u'hash': u'09647fbe164c381a318b53c2f93c89bc7b6c879115a36e15b06413e156e4fd30', u'height': 8}
  {u'status': u'valid-headers', u'branchlen': 20, u'hash': u'04deec386dd2715e1883cd12ea4a36690d751abe56f5a1930e73dfd8b3aa79a5', u'height': 21}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'09647fbe164c381a318b53c2f93c89bc7b6c879115a36e15b06413e156e4fd30', u'height': 8}
  {u'status': u'valid-headers', u'branchlen': 20, u'hash': u'04deec386dd2715e1883cd12ea4a36690d751abe56f5a1930e73dfd8b3aa79a5', u'height': 21}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'04deec386dd2715e1883cd12ea4a36690d751abe56f5a1930e73dfd8b3aa79a5', u'height': 21}
  {u'status': u'headers-only', u'branchlen': 7, u'hash': u'09647fbe164c381a318b53c2f93c89bc7b6c879115a36e15b06413e156e4fd30', u'height': 8}
---
Checking finality of block[ 042fa27aef0a9c57447941c2dc210d246f217b48e543b01cafdcd92d3867bd30 ]
  Node0 has: 8
  Node1 has: 8
Checking finality of block[ 01b4a2b752b08d95643ea2a4b97d562efbeba7d21fef9dc47e018bf4408b1789 ]
  Node0 has: 6
  Node1 has: 6
Checking finality of block[ 04311f0d8e2e1d2d133c36738712aa1644f71bf6f977f6914a435be064a0be5c ]
  Node0 has: 4
  Node1 has: 4
### block 1 ---
Node2 generating 1 mal block
06ec91b5a853c3767ead89f2969c100dad75bee3399d923351dcfd179b25502d
Checking finality of block[ 042fa27aef0a9c57447941c2dc210d246f217b48e543b01cafdcd92d3867bd30 ]
  Node0 has: 7
  Node1 has: 7
Checking finality of block[ 01b4a2b752b08d95643ea2a4b97d562efbeba7d21fef9dc47e018bf4408b1789 ]
  Node0 has: 6
  Node1 has: 6
Checking finality of block[ 04311f0d8e2e1d2d133c36738712aa1644f71bf6f977f6914a435be064a0be5c ]
  Node0 has: 4
  Node1 has: 4
### block 2 ---
Node2 generating 1 mal block
0d79446bca12e91fa6950880b94a35189214a8083cdd2d75d41b943f820efb47
Checking finality of block[ 042fa27aef0a9c57447941c2dc210d246f217b48e543b01cafdcd92d3867bd30 ]
  Node0 has: 6
  Node1 has: 6
Checking finality of block[ 01b4a2b752b08d95643ea2a4b97d562efbeba7d21fef9dc47e018bf4408b1789 ]
  Node0 has: 6
  Node1 has: 6
Checking finality of block[ 04311f0d8e2e1d2d133c36738712aa1644f71bf6f977f6914a435be064a0be5c ]
  Node0 has: 4
  Node1 has: 4
### block 3 ---
Node2 generating 1 mal block
0161ba447f55fe6d2ddf5891c27d7000e3c2d9eebe1a2d179583085a18516588
Checking finality of block[ 042fa27aef0a9c57447941c2dc210d246f217b48e543b01cafdcd92d3867bd30 ]
  Node0 has: 5
  Node1 has: 5
Checking finality of block[ 01b4a2b752b08d95643ea2a4b97d562efbeba7d21fef9dc47e018bf4408b1789 ]
  Node0 has: 5
  Node1 has: 5
Checking finality of block[ 04311f0d8e2e1d2d133c36738712aa1644f71bf6f977f6914a435be064a0be5c ]
  Node0 has: 4
  Node1 has: 4
### block 4 ---
Node2 generating 1 mal block
090baeace6469c96d313f9c4e45e2eacfee7d435de8c7516faf4385da929fdb9
Checking finality of block[ 042fa27aef0a9c57447941c2dc210d246f217b48e543b01cafdcd92d3867bd30 ]
  Node0 has: 4
  Node1 has: 4
Checking finality of block[ 01b4a2b752b08d95643ea2a4b97d562efbeba7d21fef9dc47e018bf4408b1789 ]
  Node0 has: 4
  Node1 has: 4
Checking finality of block[ 04311f0d8e2e1d2d133c36738712aa1644f71bf6f977f6914a435be064a0be5c ]
  Node0 has: 4
  Node1 has: 4
### block 5 ---
Node2 generating 1 mal block
062ea77dce08cafe8d2b3852216cbc26d29d8dbeb7aabe023a6f3cf6db71d1be
Checking finality of block[ 042fa27aef0a9c57447941c2dc210d246f217b48e543b01cafdcd92d3867bd30 ]
  Node0 has: 3
  Node1 has: 3
Checking finality of block[ 01b4a2b752b08d95643ea2a4b97d562efbeba7d21fef9dc47e018bf4408b1789 ]
  Node0 has: 3
  Node1 has: 3
Checking finality of block[ 04311f0d8e2e1d2d133c36738712aa1644f71bf6f977f6914a435be064a0be5c ]
  Node0 has: 3
  Node1 has: 3
### block 6 ---
Node2 generating 1 mal block
00b86e493912627d15c992460652a701d7db89bf76bd8ccdf9448fca0eb3371c
Checking finality of block[ 042fa27aef0a9c57447941c2dc210d246f217b48e543b01cafdcd92d3867bd30 ]
  Node0 has: 2
  Node1 has: 2
Checking finality of block[ 01b4a2b752b08d95643ea2a4b97d562efbeba7d21fef9dc47e018bf4408b1789 ]
  Node0 has: 2
  Node1 has: 2
Checking finality of block[ 04311f0d8e2e1d2d133c36738712aa1644f71bf6f977f6914a435be064a0be5c ]
  Node0 has: 2
  Node1 has: 2
### block 7 ---
Node2 generating 1 mal block
01d121e28208c895aea8d87063d2b65492fc88e2d0cf1a6af32df54cf693f925
Checking finality of block[ 042fa27aef0a9c57447941c2dc210d246f217b48e543b01cafdcd92d3867bd30 ]
  Node0 has: 1
  Node1 has: 1
Checking finality of block[ 01b4a2b752b08d95643ea2a4b97d562efbeba7d21fef9dc47e018bf4408b1789 ]
  Node0 has: 1
  Node1 has: 1
Checking finality of block[ 04311f0d8e2e1d2d133c36738712aa1644f71bf6f977f6914a435be064a0be5c ]
  Node0 has: 1
  Node1 has: 1
### block 8 ---
Node2 generating 1 mal block
0d1674b95c638691ead501971c9e3edfb5ef0bdebe7b9f146610fe96b1abe607
Checking finality of block[ 042fa27aef0a9c57447941c2dc210d246f217b48e543b01cafdcd92d3867bd30 ]
Can't tell finality of a block not on main chain

 ===> Malicious attach succeeded after 8 blocks!!


{u'status': u'active', u'branchlen': 0, u'hash': u'0d1674b95c638691ead501971c9e3edfb5ef0bdebe7b9f146610fe96b1abe607', u'height': 29}
  {u'status': u'valid-fork', u'branchlen': 7, u'hash': u'09647fbe164c381a318b53c2f93c89bc7b6c879115a36e15b06413e156e4fd30', u'height': 8}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0d1674b95c638691ead501971c9e3edfb5ef0bdebe7b9f146610fe96b1abe607', u'height': 29}
  {u'status': u'valid-fork', u'branchlen': 7, u'hash': u'09647fbe164c381a318b53c2f93c89bc7b6c879115a36e15b06413e156e4fd30', u'height': 8}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0d1674b95c638691ead501971c9e3edfb5ef0bdebe7b9f146610fe96b1abe607', u'height': 29}
  {u'status': u'headers-only', u'branchlen': 7, u'hash': u'09647fbe164c381a318b53c2f93c89bc7b6c879115a36e15b06413e156e4fd30', u'height': 8}
---
Stopping nodes
Cleaning up
Tests successful
--- Success: headers_05.py ---

=== Running testscript headers_06.py ===
Initializing test directory /tmp/testINGXrN


Genesis block is:
0da5ee723b7923feb580518541c6f098206330dbc711a6678922c11f2ccf1abb

Node 1 generates a block
03461dc68b2023e73254c99fd0f2ebf2563e6c68f734fdd5af6ab07b5015e394


Split nodes (1)----x   x---(3)
The network is split

Node 1 generates a block
0cfab5c2ca5370561f2f0bb138f9ae640b9fa25367c8b1a6dd440fb3e5d96efa


Split nodes (1)----x   x---(2)
The network is split

Node1 generating 1 honest block
00f5f40573160d009a27ea502a7a63475f3d1223d1828a2ef1c1d2b0dc125c5b

Node3 generating 1 mal block
0db5bd9f5b9217025634bcc34a9556d3af12b71f56c192040e0db5f37a40c9e6

Node2 generating 1 mal block
00ce811457acdcc54545ddf91ab8924027f192ef54bfb113f28450460355bd2a


Join nodes (1)--(2)

Network joined
{u'status': u'active', u'branchlen': 0, u'hash': u'00f5f40573160d009a27ea502a7a63475f3d1223d1828a2ef1c1d2b0dc125c5b', u'height': 3}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'00f5f40573160d009a27ea502a7a63475f3d1223d1828a2ef1c1d2b0dc125c5b', u'height': 3}
  {u'status': u'valid-headers', u'branchlen': 1, u'hash': u'00ce811457acdcc54545ddf91ab8924027f192ef54bfb113f28450460355bd2a', u'height': 3}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'00ce811457acdcc54545ddf91ab8924027f192ef54bfb113f28450460355bd2a', u'height': 3}
  {u'status': u'valid-headers', u'branchlen': 1, u'hash': u'00f5f40573160d009a27ea502a7a63475f3d1223d1828a2ef1c1d2b0dc125c5b', u'height': 3}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0db5bd9f5b9217025634bcc34a9556d3af12b71f56c192040e0db5f37a40c9e6', u'height': 2}
---

Checking finality of block[ 0cfab5c2ca5370561f2f0bb138f9ae640b9fa25367c8b1a6dd440fb3e5d96efa ]
  Node0 has: 3
  Node1 has: 3

Checking finality of block[ 00f5f40573160d009a27ea502a7a63475f3d1223d1828a2ef1c1d2b0dc125c5b ]
  Node0 has: 2
  Node1 has: 1


Join nodes (1)--(3)

Network joined
{u'status': u'active', u'branchlen': 0, u'hash': u'00f5f40573160d009a27ea502a7a63475f3d1223d1828a2ef1c1d2b0dc125c5b', u'height': 3}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'00f5f40573160d009a27ea502a7a63475f3d1223d1828a2ef1c1d2b0dc125c5b', u'height': 3}
  {u'status': u'headers-only', u'branchlen': 1, u'hash': u'0db5bd9f5b9217025634bcc34a9556d3af12b71f56c192040e0db5f37a40c9e6', u'height': 2}
  {u'status': u'valid-headers', u'branchlen': 1, u'hash': u'00ce811457acdcc54545ddf91ab8924027f192ef54bfb113f28450460355bd2a', u'height': 3}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'00ce811457acdcc54545ddf91ab8924027f192ef54bfb113f28450460355bd2a', u'height': 3}
  {u'status': u'valid-headers', u'branchlen': 1, u'hash': u'00f5f40573160d009a27ea502a7a63475f3d1223d1828a2ef1c1d2b0dc125c5b', u'height': 3}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'00f5f40573160d009a27ea502a7a63475f3d1223d1828a2ef1c1d2b0dc125c5b', u'height': 3}
  {u'status': u'valid-fork', u'branchlen': 1, u'hash': u'0db5bd9f5b9217025634bcc34a9556d3af12b71f56c192040e0db5f37a40c9e6', u'height': 2}
---

Node2 generating 1 mal block
0baf345941844b80e6a1912e33aa988eb390e21f6060f970d3fefcd13ba1ed16

Checking finality of block[ 0cfab5c2ca5370561f2f0bb138f9ae640b9fa25367c8b1a6dd440fb3e5d96efa ]
  Node0 has: 4
  Node1 has: 4

Checking finality of block[ 00f5f40573160d009a27ea502a7a63475f3d1223d1828a2ef1c1d2b0dc125c5b ]
Can't tell finality of a block not on main chain 

[4, 4, 4, 4]
{u'status': u'active', u'branchlen': 0, u'hash': u'0baf345941844b80e6a1912e33aa988eb390e21f6060f970d3fefcd13ba1ed16', u'height': 4}
  {u'status': u'valid-fork', u'branchlen': 1, u'hash': u'00f5f40573160d009a27ea502a7a63475f3d1223d1828a2ef1c1d2b0dc125c5b', u'height': 3}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0baf345941844b80e6a1912e33aa988eb390e21f6060f970d3fefcd13ba1ed16', u'height': 4}
  {u'status': u'headers-only', u'branchlen': 1, u'hash': u'0db5bd9f5b9217025634bcc34a9556d3af12b71f56c192040e0db5f37a40c9e6', u'height': 2}
  {u'status': u'valid-fork', u'branchlen': 1, u'hash': u'00f5f40573160d009a27ea502a7a63475f3d1223d1828a2ef1c1d2b0dc125c5b', u'height': 3}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0baf345941844b80e6a1912e33aa988eb390e21f6060f970d3fefcd13ba1ed16', u'height': 4}
  {u'status': u'valid-headers', u'branchlen': 1, u'hash': u'00f5f40573160d009a27ea502a7a63475f3d1223d1828a2ef1c1d2b0dc125c5b', u'height': 3}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0baf345941844b80e6a1912e33aa988eb390e21f6060f970d3fefcd13ba1ed16', u'height': 4}
  {u'status': u'valid-fork', u'branchlen': 1, u'hash': u'00f5f40573160d009a27ea502a7a63475f3d1223d1828a2ef1c1d2b0dc125c5b', u'height': 3}
  {u'status': u'valid-fork', u'branchlen': 1, u'hash': u'0db5bd9f5b9217025634bcc34a9556d3af12b71f56c192040e0db5f37a40c9e6', u'height': 2}
---
Stopping nodes
Cleaning up
Tests successful
--- Success: headers_06.py ---

=== Running testscript headers_07.py ===
Initializing test directory /tmp/testU0uWao


Genesis block is:
0da5ee723b7923feb580518541c6f098206330dbc711a6678922c11f2ccf1abb

Node 1 generates a block
019f0563f1fbb5a202a8a272d964cb60812e6c4dc60f44ee0a1c3903aace310c


Split nodes (1)----x   x---(3)
The network is split

Node 1 generates a block
01072ae49b6e62c875287b9474c988954578ec6465def120c0977b32707275bf


Split nodes (1)----x   x---(2)
The network is split

Node1 generating 7 honest block
08756795056ccee5cfdcaafac6aac658677d32dfa8f342054a7ebcf9a5734092

Node3 generating 8 mal block
00a2e4e2a1d1504c795e3bcb95d2acd7b511c57cce00904b1bb062ebae1cabb1
0bcdd9a5d9da8787db580313f7a7975c95f5951a07a17f63b5063a50773261a4
0c5bb57a87742ed02c49ad0fb1d938aa4899ef7ee8517006b54c3d55b4d5e1ae
05980e80ae195c33bd62a823bbe8fab7e6afc8727e45cf9b1fb29496d2bf7199
088cb7e70cc7856794f34ee658fcd2e6b7c7c504a4fe79436d7924c1ef1eb88d
0cdc47dcef82dd2bbedb757d9a0e10b6a74b79e974ac8b5413a688cf3334afb9
01577e991d411c1523a33809db7b63516b262f28519d0e874bcf3ed3e38b76d6
0cac3c2ca50694d1b8ca16320e373efc9694de0bcd61da31b5c2b759ee61ba6c

Node2 generating 8 mal block
06b1f429cfd6d4f7ce16b37d5a656e264a1e8bd046de5d787f4c10377c16462c
0b9d453c750cd4005cb2eaba50059133520087a7ca5a6306c98e6d67c099f13a
00504ebf67602fb6796a0e9286f8b7a41e84f33ec708f2b8a7dc60f241a10c82
02f62f9622e764eda3e6075366efcd64807878830b515d7ec9083fca203fca24
0568609059a62c56582faa9aafc41ddad011d8f3479533849f78c4134cec4902
002ca3c0e58ed879bcfb4266b4583a7b276794ff81b4fdac545c2e555258e44c
09acfe9019241f806582aaffb39f2744578a47d678299fb75e1fd0490ab3645c
066bcef602262b33444992e77c41fc4954003117ddd6c806b800df2937ada3f7
{u'status': u'active', u'branchlen': 0, u'hash': u'0c7af339441188e6664b6ace6d2c7ac5cecf20e473ff42e3513b33a77682e088', u'height': 9}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0c7af339441188e6664b6ace6d2c7ac5cecf20e473ff42e3513b33a77682e088', u'height': 9}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'066bcef602262b33444992e77c41fc4954003117ddd6c806b800df2937ada3f7', u'height': 10}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0cac3c2ca50694d1b8ca16320e373efc9694de0bcd61da31b5c2b759ee61ba6c', u'height': 9}
---


Join nodes (1)--(2)

Network joined
{u'status': u'active', u'branchlen': 0, u'hash': u'066bcef602262b33444992e77c41fc4954003117ddd6c806b800df2937ada3f7', u'height': 10}
  {u'status': u'valid-fork', u'branchlen': 7, u'hash': u'0c7af339441188e6664b6ace6d2c7ac5cecf20e473ff42e3513b33a77682e088', u'height': 9}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'066bcef602262b33444992e77c41fc4954003117ddd6c806b800df2937ada3f7', u'height': 10}
  {u'status': u'valid-fork', u'branchlen': 7, u'hash': u'0c7af339441188e6664b6ace6d2c7ac5cecf20e473ff42e3513b33a77682e088', u'height': 9}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'066bcef602262b33444992e77c41fc4954003117ddd6c806b800df2937ada3f7', u'height': 10}
  {u'status': u'headers-only', u'branchlen': 7, u'hash': u'0c7af339441188e6664b6ace6d2c7ac5cecf20e473ff42e3513b33a77682e088', u'height': 9}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0cac3c2ca50694d1b8ca16320e373efc9694de0bcd61da31b5c2b759ee61ba6c', u'height': 9}
---

Checking finality of block[ 01072ae49b6e62c875287b9474c988954578ec6465def120c0977b32707275bf ]
  Node0 has: 45
  Node1 has: 45

Checking finality of block[ 08756795056ccee5cfdcaafac6aac658677d32dfa8f342054a7ebcf9a5734092 ]
Can't tell finality of a block not on main chain
{u'status': u'active', u'branchlen': 0, u'hash': u'066bcef602262b33444992e77c41fc4954003117ddd6c806b800df2937ada3f7', u'height': 10}
  {u'status': u'valid-fork', u'branchlen': 7, u'hash': u'0c7af339441188e6664b6ace6d2c7ac5cecf20e473ff42e3513b33a77682e088', u'height': 9}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'066bcef602262b33444992e77c41fc4954003117ddd6c806b800df2937ada3f7', u'height': 10}
  {u'status': u'valid-fork', u'branchlen': 7, u'hash': u'0c7af339441188e6664b6ace6d2c7ac5cecf20e473ff42e3513b33a77682e088', u'height': 9}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'066bcef602262b33444992e77c41fc4954003117ddd6c806b800df2937ada3f7', u'height': 10}
  {u'status': u'headers-only', u'branchlen': 7, u'hash': u'0c7af339441188e6664b6ace6d2c7ac5cecf20e473ff42e3513b33a77682e088', u'height': 9}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0cac3c2ca50694d1b8ca16320e373efc9694de0bcd61da31b5c2b759ee61ba6c', u'height': 9}
---


Join nodes (1)--(3)

Network joined
{u'status': u'active', u'branchlen': 0, u'hash': u'066bcef602262b33444992e77c41fc4954003117ddd6c806b800df2937ada3f7', u'height': 10}
  {u'status': u'valid-fork', u'branchlen': 7, u'hash': u'0c7af339441188e6664b6ace6d2c7ac5cecf20e473ff42e3513b33a77682e088', u'height': 9}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'066bcef602262b33444992e77c41fc4954003117ddd6c806b800df2937ada3f7', u'height': 10}
  {u'status': u'headers-only', u'branchlen': 8, u'hash': u'0cac3c2ca50694d1b8ca16320e373efc9694de0bcd61da31b5c2b759ee61ba6c', u'height': 9}
  {u'status': u'valid-fork', u'branchlen': 7, u'hash': u'0c7af339441188e6664b6ace6d2c7ac5cecf20e473ff42e3513b33a77682e088', u'height': 9}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'066bcef602262b33444992e77c41fc4954003117ddd6c806b800df2937ada3f7', u'height': 10}
  {u'status': u'headers-only', u'branchlen': 7, u'hash': u'0c7af339441188e6664b6ace6d2c7ac5cecf20e473ff42e3513b33a77682e088', u'height': 9}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'066bcef602262b33444992e77c41fc4954003117ddd6c806b800df2937ada3f7', u'height': 10}
  {u'status': u'valid-fork', u'branchlen': 8, u'hash': u'0cac3c2ca50694d1b8ca16320e373efc9694de0bcd61da31b5c2b759ee61ba6c', u'height': 9}
---

Node3 generating 40 mal block
02fdaa016e5635970f9b1cbcb9d6b0d670fce195a9bb3181fd80f3bbf30283a6
{u'status': u'active', u'branchlen': 0, u'hash': u'02fdaa016e5635970f9b1cbcb9d6b0d670fce195a9bb3181fd80f3bbf30283a6', u'height': 50}
  {u'status': u'valid-fork', u'branchlen': 7, u'hash': u'0c7af339441188e6664b6ace6d2c7ac5cecf20e473ff42e3513b33a77682e088', u'height': 9}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'02fdaa016e5635970f9b1cbcb9d6b0d670fce195a9bb3181fd80f3bbf30283a6', u'height': 50}
  {u'status': u'headers-only', u'branchlen': 8, u'hash': u'0cac3c2ca50694d1b8ca16320e373efc9694de0bcd61da31b5c2b759ee61ba6c', u'height': 9}
  {u'status': u'valid-fork', u'branchlen': 7, u'hash': u'0c7af339441188e6664b6ace6d2c7ac5cecf20e473ff42e3513b33a77682e088', u'height': 9}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'02fdaa016e5635970f9b1cbcb9d6b0d670fce195a9bb3181fd80f3bbf30283a6', u'height': 50}
  {u'status': u'headers-only', u'branchlen': 7, u'hash': u'0c7af339441188e6664b6ace6d2c7ac5cecf20e473ff42e3513b33a77682e088', u'height': 9}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'02fdaa016e5635970f9b1cbcb9d6b0d670fce195a9bb3181fd80f3bbf30283a6', u'height': 50}
  {u'status': u'valid-fork', u'branchlen': 8, u'hash': u'0cac3c2ca50694d1b8ca16320e373efc9694de0bcd61da31b5c2b759ee61ba6c', u'height': 9}
---

Checking finality of block[ 01072ae49b6e62c875287b9474c988954578ec6465def120c0977b32707275bf ]
  Node0 has: 1225
  Node1 has: 940

Checking finality of block[ 08756795056ccee5cfdcaafac6aac658677d32dfa8f342054a7ebcf9a5734092 ]
Can't tell finality of a block not on main chain 


Node2 generating 40 mal block
0005cd4fd2267ac480f26bdedfa26df536606dab524cdf171fa78ad67fa755d0
[90, 90, 90, 90]
{u'status': u'active', u'branchlen': 0, u'hash': u'0005cd4fd2267ac480f26bdedfa26df536606dab524cdf171fa78ad67fa755d0', u'height': 90}
  {u'status': u'valid-fork', u'branchlen': 7, u'hash': u'0c7af339441188e6664b6ace6d2c7ac5cecf20e473ff42e3513b33a77682e088', u'height': 9}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0005cd4fd2267ac480f26bdedfa26df536606dab524cdf171fa78ad67fa755d0', u'height': 90}
  {u'status': u'headers-only', u'branchlen': 8, u'hash': u'0cac3c2ca50694d1b8ca16320e373efc9694de0bcd61da31b5c2b759ee61ba6c', u'height': 9}
  {u'status': u'valid-fork', u'branchlen': 7, u'hash': u'0c7af339441188e6664b6ace6d2c7ac5cecf20e473ff42e3513b33a77682e088', u'height': 9}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0005cd4fd2267ac480f26bdedfa26df536606dab524cdf171fa78ad67fa755d0', u'height': 90}
  {u'status': u'headers-only', u'branchlen': 7, u'hash': u'0c7af339441188e6664b6ace6d2c7ac5cecf20e473ff42e3513b33a77682e088', u'height': 9}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0005cd4fd2267ac480f26bdedfa26df536606dab524cdf171fa78ad67fa755d0', u'height': 90}
  {u'status': u'valid-fork', u'branchlen': 8, u'hash': u'0cac3c2ca50694d1b8ca16320e373efc9694de0bcd61da31b5c2b759ee61ba6c', u'height': 9}
---
Stopping nodes
Cleaning up
Tests successful
--- Success: headers_07.py ---

=== Running testscript headers_08.py ===
Initializing test directory /tmp/testhi1eLD


Genesis block is:
0da5ee723b7923feb580518541c6f098206330dbc711a6678922c11f2ccf1abb


Node 1 generates a block

084b08f083122156b91a69a54af3b330195ecc9275572c41d7e83e171378bae7


Split network
The network is split

Node1 generating 19 honest block
042c1f0c60340088bdfe7932e3edfc8cf7eeab015dcca558a23a4ecf7d62a9d2
0470142399276388c02872dc7246028d7e83360d23fa1f6294f7360006639974
02f14d825ff36c695bc9d05842e2847de11e3609296cee0d7e8f0f39752e4f9a
08e9e0ea22911808435d927401846fb064e0b37aaf19123178147f0a38195074
0705defd00ae6b3b80d2760413153d9677e024c37e691fa55c4724d0cbfb9e86
09dfd9fdb2cb3c94e34725015ed3c732cf98e711b96104976c583d01f9a9f49a
0e30fe26ac3f2cbd1bbc16f9331eee953a077f70768d000aa6f7ca9528a62b1e
0c6c01c0740614c3b8cb526af2e3a1a172ae935af10aa93f931d493d5381ed4d
061d2067804bff8de62818ad001dcb91539b0f5b5899bd93b3daae1761bc8e57
0e8c411cee23e264c9060adf67a4dc2b6aded9c62050c17eca7ecf7731e2b584
010f0ffc0d99ee015417572a784dd4396fc4ab1ad4f0b4aee601f49d041ad82f
0443f61d99251b1cc9e79b8efdd65dce69b0afbfd128cb8f31ab1d989387088e
0d83c7da9fe48c9680bcfa6d19f76aaac028ab994edf4d0272102618db1e9a70
02c0a9e2f060d8c3714d80524ab61cdb6782bbb3f5b92952ea4303cafc5299e5
005495d5a1e658feea8d188eb5c088365b96bfc2cd67568fa8c9a6191c570ada
04af149cf2d48aedeb4f4ce499831558a696ede143ec2c8245520469ec7b1742
0e6bb6517ccd9b95115cfeea0049263e84f9196b0caa135e83243867c193779d
010e5515101f59508ace6a49cf1dddb28714a9f5f8b0278dec50ab147847cd0a
02853ccd4e64b85739cdc402fa691b0777dc4d5602683edb1b644e66f276a622

Node2 generating 20 mal block
0607dd950367b2e58d9c57f9cf6dacd8f5aa9e4fe09a8d27f6565b823c41b9ae
057c84d181544a7c1afd0e89b8cab5bccb91bd5c65b391f5107d3c55a1a419fd
02ceb8b177482f0222695d10820b1004f268222a6ab81e13e01c89867c69e610
0a3327fd7c74ee3ec91df0b7e8664c75e660c98f03bae69851cee91e1bb93f27
0d1df185b4e20cb32c241a5d79ee5e6a6b1d62b41ec6087c331f2b595d26a6ee
00dac50214111c4e84b05008f2b1e421ec3db82dc0c1ae8bd9c7652084b2a614
06d630d31e93b007a28fddd5935c3f1d8d16c70979de87145edc119ef9be1168
01da6de1709db99d8e15b46c325536004f47a30d5ca60fe459d5d1bb5c3dbad8
088cb58c90dde05fb3df437b4c2e6c42e113ffa318cf4cc78e057ae8aae2989c
0c2744cd528f51d183902e9ab2cf22d15326fc39b0bcd26718c5c82b6898cf99
05720d04b9c280ab924b4d35cd57d8e2e014243c68de03d7171a6497dbbe0546
02a65019a1e6bdf04d32e9ebe28b08e86ba7629931fe0471f8be13d1dc11ac21
094cc0dd6f55982264587005a7103864ab7c9514cff022d17bd7ee5ef3091908
0d0e8a98dc46ce7db84956d0f1cec35bf8e1b2d5618dd258d889b776bab5200d
051862483a01b952b3f94fa0b21db24961cd4ad6dbc563e64c09d38c56f059f0
02822bff83a46c2512b7af7416bb0514fd4be4689b28db7303ab8e26f692091e
092d3545063cd5dc70e8dc454079c21a0a78391f8c2b3e84dd66958d4a600916
014f1ecdc7fd187c18846b6abf80a8ecc85fa973bba1840aa902d7498c51b47d
0e4508785f3e26de26c9b27cb025d1d127afe109809cb5d7e8d81514d0293bba
06d47b8e9b3c7ab1f984d35268b1363d59047afc5310b81b7d6dc2f7aa4015bf
{u'status': u'active', u'branchlen': 0, u'hash': u'02853ccd4e64b85739cdc402fa691b0777dc4d5602683edb1b644e66f276a622', u'height': 20}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'02853ccd4e64b85739cdc402fa691b0777dc4d5602683edb1b644e66f276a622', u'height': 20}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'06d47b8e9b3c7ab1f984d35268b1363d59047afc5310b81b7d6dc2f7aa4015bf', u'height': 21}
---


Join network
{u'status': u'active', u'branchlen': 0, u'hash': u'02853ccd4e64b85739cdc402fa691b0777dc4d5602683edb1b644e66f276a622', u'height': 20}
  {u'status': u'headers-only', u'branchlen': 20, u'hash': u'06d47b8e9b3c7ab1f984d35268b1363d59047afc5310b81b7d6dc2f7aa4015bf', u'height': 21}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'02853ccd4e64b85739cdc402fa691b0777dc4d5602683edb1b644e66f276a622', u'height': 20}
  {u'status': u'valid-headers', u'branchlen': 20, u'hash': u'06d47b8e9b3c7ab1f984d35268b1363d59047afc5310b81b7d6dc2f7aa4015bf', u'height': 21}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'06d47b8e9b3c7ab1f984d35268b1363d59047afc5310b81b7d6dc2f7aa4015bf', u'height': 21}
  {u'status': u'headers-only', u'branchlen': 19, u'hash': u'02853ccd4e64b85739cdc402fa691b0777dc4d5602683edb1b644e66f276a622', u'height': 20}
---

Network joined

Checking finality of block (0) [042c1f0c60340088bdfe7932e3edfc8cf7eeab015dcca558a23a4ecf7d62a9d2]
  Node0 has: 170


Node2 generating 170 mal block
04c519c5d1d21de0655363007d14b1a1f2aa540cbdd8c659943055382ffa7373
05bb35d69c0c82072ca17546ae5341d1c3cd723ddb4c6bc0e53c63b30206832c
05e2c102e02bc68846f98a6b6e821c484a0bbe55ee08634d75bd404ee69204f6
0337ef6dfc94a517ee1f03609a93a93f775fead644fa933cbb62eb0ac7277f46
0eeec3e6de6747a9307f803ee212faab6f991b34037fc8ab2a3418374a95479a
000850178e8a042841d5a30ca549745207eeae2131c1fe281c129ede5883e3e8
0b129654a95816a5933c3ebea3b9d9c27561923126653743a9cc75ea6abc265c
0e40a0806d153aef0595f89a667c338fa2d52e1828a859afa92166c53a2244b9
0d2cb5f1f9812117c7bad0565d5dd0c09bc79d1775bff607af60ebd93550425c
01c4dafcd15582f9d0bf7ea25304c09a62cb49b3c22aa1eeed30f0cf6191fbb4
04c7a9616bb6ca2dca1ff13ebac38fd9d87ec81562c09b46f1e5054230e976bd
06eeb82fcb2b2c0279b06e8308d89ac8ba28062810347f29f768a26844cc9b54
03e18de0666e3ea11c46aaec4111a97b3cae02f248d8004c46b70c1665265c1d
06e5545d7bc3f02124012c99ce80b8cdd2ca92a3e7e8e59febf0b51914adbfed
075dad3466b15736085a52b1cb8eda38ff09d457c937a70fe2847e4c7e3ac8e7
093d4e9ed43a1e92e5d64f39acc8847edcc248837d5239374989d470513f7040
05f76a11d4e58c0c05eb4b46aa49ebb38414b9c558c02d1cdec0c35d051eb0f6
00db2887b5ceac2d45645768a9b0bc2b45d31b86e3f2e5f137c3f0177ddb1648
0914a3978c74aece76f2fe7b979ddd900e444339a8381166dd55bf3aa301a2d5
0d8411eb5b0ca42fdc4c7507a310b516f4e5b8cd2b71af8f1da9699007eec26c
0bd5cf92da6c996e1986c920d0932ba7919ce838948e93f819af60ed6097928c
01dba7a849be5e0eb80580430d2e4ebdcbf5078d8f05d3df86e2751f067166ff
0970d514edc06d52706bc48ce880e3185912acc4f8fea736b844c981de2faae3
0ef3b1e15a56194c3d7a5263e9231faa15920bf42912d4d97d74f96cd16ff2f5
044ccf2f707beb44ebeb005cb861c39104007892db15012fe1f89a5a7c40e6f9
0dd901e6e5dc92d392fc32d30c5ff9d33ec3d72cd804a9df60757baaf8b922f5
03577372027d326dd2780e93650ecc6c87086941116e0c71d06a8c3955459925
048b9d428701d584ce85b9e47f701e3111afc11ed6a2e6835b1a966f389dc2dc
07ebfaa4e4e7a196e4271c9747b8ac89ad616630a7779c77b4b8055528eaedb4
02951640d1822ded1684c77741d724dc45480c73c13c1ca77ce79eda9187d018
0ee27c6013adc80d60d7fd6d73112b443f1749add0b310a7f1f06ae9a982f392
00816c9f929376cb445471b8d0092b9bf4724dec14dc076f5499ed85a6d3689d
05b5a747f4d66752d65e9bcecf030b1b4bc44549ef686531326ec6d3a9eaccbd
02ba6371b80fd25240d1bc431090d4e3ff4fddbe12343fb7f8b2686bb8f107fb
063e7c46ec5ad9b74f59dee3c98d58b2aecf839610c58d5c2207c42b22b28cb5
03c035a5cd91f6ec446639e288647f53822812ceba626b5b21fd5788bd2a19f3
04a6cd6d3abb227e6a9ae0edce3ae0bfb839fec1f6226308e8fe127abf6a9c9e
080f156bbdb80af07db992ce21c4b86f88775a5be279551e6a039afa27a2cb8a
028f17a058af0e41137865f78da9cf71fe204afe1bf0e0b9e00d24bfbf892f84
0c93a1bb919578145f80dbf733006d5e6691f31f89fcde7e68ca2f2d349507fe
064f18a19321dadb275ff71d3aa7a2052ede897d0c0b4c18f368353c91254a62
031011d61d73f1820c00d7a6eb4fead86d1f185f085a03aabfd76a83d91983db
0b1b577f1bafa6ea039629f264ccb73b771c53fad3c7c689136a89d31ff1372b
083dc479b2010542148fd54b2fd42c8ac1ed0c0f062b4f880c7a11b9e9a72fec
088d665a0148fcbc1e9f2325f2fb02a0f9a6b46608d965446b096ea5f745d14b
0435c6629bca759412362229c266db6bdccab978b40978cf9a0e7025744d2461
039dde1ba5f1d565f1dc379f379d8915aedb14db08cf44d08fca46896a7295ea
035e8e4007ffacb5ba8426b747a245bafeae2feb66426e1937243f8cc40a47c5
04852090d31b716610b3475527a95c29ebeb11ee58fd74fd2f8ba48ada00654c
022911dbbe9ba246a0c958a130b2bd706744d9974ff6deff02fef0ce6298e9d9
06df7571ccc16061ee0beb82904c75369968ff7fb73336229b4814c8ad9ff91f
0df4b7d121f1bb9e9800fe8639bc81ac04ec3e19dcc88fad97c54a79b74e28a9
00d033ab2f7d636ca20106757e7f3d8a870cdbc7859f672a018a07b7f487ced7
069ce10753706ff60ed9ae5ad254017edb8be99b2027c71e55a26cc77ed30e5d
0006d113c594c4caf536ecc519b8353c71e696cd95e62043b6bbabc28d23e4ab
0d54d4454463383f2dd642a26852cd6833f59b83c3ae1c7c3de5ef7402058138
04f3ea7370091f70b4573a09d22e2ddc0adc53b2c771942f18fec9f965e4ff87
02a20c6c02293e869c41ded520fd38d10b4f389765c3aaa185c1ecca06204f73
0e968498660a457f7ddf2b281f94e8a3b080ae65d0980d69f83b8dfad7fa6999
0788074b369e402693c4082cc120161de71c716ddc7d796115da68f1cfc4ff59
04057de0c93ca4d2d6c331ceb36a36627bd76b3f1a85ca558c61d7d700f1a39f
0143c8a72bc6d68871888646d2229ac1a77fcfdacdfda0b0cfab66378033d1d5
06ca2a0a225ec022367544514610f5a684b0f86102c275401af8ca989c73bddc
018f4641f4fabfa11cb646766274ae264f9e07de3f9a79db82b3aac879870edb
06c1df1ca11993299306e09259253f861d5134aa6c413d2430b37f461b1dcea3
065de8a932ee809df2e6c83994eb17f969d3cf68a0641777069be02a87e5a0cb
0ee99849f9433ecdee6a938489dfdc2f1112b7f90efa169d6e3192c284f07e19
005f6ed006f996f691698da80c48ecbe8b185f926920123f5afbbe525cb89821
0663582dac337df5bff2f67432be48dbc94c50463eda4ec8ccc1d5a5c2648281
09573bc7a1ab37a5e53e80990dc26ace58247d7518f99749719575ef278931c4
0a2a680c2ef3617d78192f4fc58e192b679fd9e859e9ad19fdd3d0dd98033a64
0c9b9e46e132e1ca6e13eaffd09c5c327a71bca6565a64ab1940740961779299
0b90b54ab1549b6557368815232f855c2e346ecaa24555a012b14ca4ed7225d4
0605ca44709ed5434f58780af790f370cff85860ccfac9d60fd7fb7dfccafb39
0872075f76afa4d728a9f42269078671f6667cc5de9264124414357b0a07facd
08fe710411c3e66a62d0ad038cf5ee6eb89f9a325c99bdd2aabecd4da0f62a26
0e50ba504f34d67c1b700a859640dd312c7cf9bba7d41dbdaf1cd770f386ba2c
052619c977ddf810175884539af721a5b59822f69ea72d5859206cd333efc199
06945edb6324c80e98236c654b1ed75ea3abb482d91d296ec1a56c2b4f9e20b9
01fa07180e198c8f8ddf5668460a2dd58cb66dc4aed0d8ac6e458be680adc9f1
0e5dfc6447117df57d650ef95735375e262ddb6cce95eb94f99bc7e0e3562104
0560c15952db8857e12548533ea1567b27feadf92910623f1da938b2269b5342
0c2b47e93736e40ed05babb37b03934202aab68908dacd64ce1140f680c60dec
08ba864ddb4154c60319cf5bbdc5036210eba6671161cb9f5ce4db4eae3c628b
031a2493d996ebb675ff8c457767980d07584c0dfd6ba958c83274391ca98f78
040ae906fcb20bee94fd36781e77279e3f8edb15498727d5cd3125e343edc4ad
0218c1c99641f853b54f398fc6d97f5894135671673ee3a9a3581a8b4f106678
0418250e53836011ea329a94e555906ce1de83469719cbf605d8cd7bd01a13d6
04452e61a613a9f6934c73fce2c2895db95b792ee5340c838f88a6cf8d2f04af
008dc40ec8ff6bab304c5f09855e43eea63275e4a1e147c5bcc1cd87fb74a047
0db6bac78cb0105a64bea99b4b6ab8945d5c6f727e6a03ab61686c6deb31c065
0b5d2bffe2e242143681d7cc04b0661587171422c0d25473147aa1e3a86b7d21
03e25ee6de7193747d7afbc1b0fcda750f1050f001d4fbd9acd0cd3722415656
054ae1ca353c0798d34a793f52a37b8d2fb4d3b8c3a4811a376453d356f1d1c6
0e157aeb59fe8b80d17eb93f03542b2f393e4754a26b003e1a00cb4e2df2ed2e
0e94d940d9728eab306086752394aef0d75abae5cfbe494cd75d6bbfb80524d7
0bbf2e7a5098e18897fe11d939bcbf531cfc7e4d2693d37a193f118e71cbc36e
04efd5a59959e762d68e080324ce0bfa6dbe9f1be85d62f722c8e7b566f65eb5
0735bb211d1952b67d3e41ba2d1251e2d78f8892a80ce6a89bec96cb52339024
0762cea6369b29114487fcb8c5c71bf455fae32887d7e59173125824e03f49e3
08875ca85be431e33a17a5bed9b82293a7a9488dc0dc4d9a634941a5bd10a1cf
0a7b655deeed10c05ad39d643f5be6bcb1d8d21b0be51b36b7c43a2c6d603fd6
057a4b850aa8761a8c819b271c7a9fe1a20d8e690723a66bcb29c7615a9205a4
0dccae7d06254daafc3819af15a8f9647fd5664e4d23dc21ee03b2a958249ea0
071cbe1169db3f338aaa3aff4d45ab7bc3bc118869ba5fefbe1078f96e1c6171
0c26078c38745e320cea1d352b1990e77c1cf0edcbc719d44b30e6049c2f26de
05ee369bf559ff86896bdcda076eece761f2b60fccf37ba26506582c9844d61a
0b99cb76449736c1b9d4515b69f0bd55e725b351b6800b27c1217db7ed2af533
0b2dcd17b7ba0cdb0edeeb8e43ec2fa5f797ab6bdba3095160a73099ed212cdd
0d8eadc2743c798952b3854d4fb6ce7059f342962ad223a78d9cb78ef727e393
04e361e222a98d8c0b4e46223ea89309b49bfa9699f9c0be812822257ea546b5
0eadd1622ffbd0d35a3bba0427669759902b10be0acbfd57f0ea3488eba0dfe7
01a8ff359590cf43d904095a4407a651e40779b4918c0a9036f744c9dd129d92
0cacd83a358bc67cca93e14e1bf4965d4389a96288842757a67e3b82a92e4c15
09998542144dc7211a035379e6a84a2fd76bd16ba70a0f30905edcc9e0787f4e
08824b1d44a238145347190e6be0173380e97ea08929f6fbc227d369bea89841
08ef27bc7cb0f96d5ab1ef66a3f9f5674ebb247c842c3732a204463cbbe9d3bf
07e584490bed3695afff602eb033f90cf26ee926e9f8b927a04c9432fa2acc1a
08e203134748a10159e47f2abc4c45e16df41f37b14b73655452c959e12a4db4
07b7a7b7e88bf35e713a136bcfc6d1fb88b72b505b830a2fcb5878503f833637
07760770d225473be9fd1290f8bdecbb06c6f190ed317c2a079f1beb9c637d43
0953b1e68e27bacb957128064d4ed488dcbf254e9e3b832fcc3871cec51789f4
0256cdaed6e3ea26b95e0e91e5ccf98c2bcecfe2959c4cae8a0e175b0616acb3
03b76b9476c95644901fc1b8e040b1ade303ea91b4b5abc9942df53f08b7acf9
0080fd5232e72bc0236d1d1dfb767b377964ca4315cf8ff44f561a8f609d6c79
0a84c137547f34441c03f24f6dd7ed08fe63d67d527ec4a13b0a712ce6643e38
0c89989ec32282c54e857b3c1c82be2b53ac64aa21946a2dc5a13ac6d72e7425
0de6a8c9860a4e0b84d92c888ca996adbb2756a042b3cde119d7088ed8839c54
033df9ccc65b6fd9e29d7a145dd63bf1de73e2d287b50fb4dee028e61e5f7398
07e32539edb650c1f3b08f1577bea6807ecbb8fc5bf1fdc827cf87afaf16fd83
088ba1d10a6b93c6806df57c4efae594e786d8e9902e631d8a95e769178aeca6
0827d1f69f58fe5fc6ed13c50c47f7956392703d0e7e1fbc4110fe34823d030e
0452af0419c1927ee7e3642eb8708668b48b76c543bc8aa4b4c9ede7276f3ef7
09abdaf521ee8423ed1f1ae859e10206f543d512c87f5a30c27aeab4cbda398f
01b28b92f54506c48a36da070c2385afaa2ee6d095822c92153b8f9f2bbc8c6a
0ae15973d325008569b12f84b382a4cbfd44f7ea0bd387a75f186e2cc10c30e7
09c64aa47f4204b1a2a15c55d19ad71fa25371a0bd2ab464c2ba4407516ae5f2
093f331e0fec691816aab082ab1836d5e40a950974033124dafd92223a8bbf2e
0ea8b4af8906b8c6946890c5a3510c8208e76ebb5830ead4e30a5908c324e79a
05a6470267b2a897976a0bcd2d3435be1648e68ec3f24ad0c93a89449f1f19ea
0545b4fad4f91494be7ea93850ee1d56e5a29a8ddfaf42294c176bad25b826fe
09f5fc5ffb350cb0929cb1240d1cdc840d0edf84194e27d44a1fbdfbf9a4fa28
0740e9e9099f388bd80cc88d6f92264d989bbfacd4f0e86dc079583f2a497363
0a684f0cf7d506d3641288ca6a66ec362fe27320f65c6f86f352c8179685c042
06594bed1ef08a978a8ef6eb42131f079301c8196829b8906e739c68b5ca9555
01e4fa925b18582505e0e5b6a48e8db5ca02a75d332fac652f2aa0c0d91d59fa
00d8530bdf1e556eefeb7c25ed93d7b7300ced7614b976c2586a569ba2839563
036fc1f3482910bdbef9ece2120a013dfdb46751aa0260cad8ad8728fb012f3b
0c9251ad9f332baa0456c64360381d8d1a6a98446a513cac8479d3c593761615
01435333715236d2c39c81e8aa2f37bb6ba74248534bda24e5eea4bcad4fcd38
0914be06ebc461c3dfa461c7caf3b8ce73b73a10f719c44314cc665057684def
044f8600a3c7bfa5e3ee10e01db37ebdd7067eeb80f54440aeeffbf293afe615
056685a4c586f0cff1eac8fa81d11488e49b8192ef05d1174a6d096bf891ae61
0799bb4eaeeaaddb2b67f44a23925246502c76bef89b598ce515c71e07efbf92
082f5385c644a675409b1d01160a3a6673dac6588d7fae2c4eca08dec3f49178
0cae477cd5df60ffd8c0277da76bb161472fabe6ddb124d1ccd4c98dd5baaa8e
0da82eb2106b97bf43d64417622ad6f4d908c634be44de3750bd52c432fbf483
055053d20a136aba7c3fc20318756b937e84c875a0ba6f64d64476504ad19e89
0098869fd1e806097a615753622dc8ee21a2ded1f6bc045d9e70a3435f0d5921
072069f3885236e4e15cf9c471fe65c85cefbf99cd828aa346817c34cdc43dcf
01aad6db2e0f6ed7f61dfc118d6f27c176d3824a43933317837a2bb04c2d2797
052ce42b41ab5a09e9e9270f140bae3bfbcb210f070e09116a2fb0b8e8d57075
0c56232b04ae3730553a146225d5f68d76cc4d357dfdffd011d1b1d458c61f0a
07e5b64c71585ae5c33bcb46c347a5aca21b1f83d6ef2e19c70f984e3be9af36
094d1b0a226da3e494e7386dc38f8aa8ec82994b0bba716ea62138a31d7e1777
07676e1b316c0c50c7415f392f86926adae82f038d8e66943f37ce09e343f6c2
00b93a42d4575ba7b3f684340509de9a8adac0347c090f3cc5b24bf19edead90
07af3426e821dab6629d4f8b382f1e902d38373d422c6205be7d10783bc87dd7
08bbba3f88c96212ecdbf62caf3fbc908c2f9968c5bbf0176c8226157d943166
03ce7a6eb38ebbf916927c2c656c2cf316fa4ee384a9ef82ca24acd927e388d1
[20, 20, 191]
[191, 191, 191]
[191, 191, 192]
[192, 192, 192]
0ce21ab67c30774eb91740d574f4cdffcdcfe57e5e2b029f49457c053fa2bd37
{u'status': u'active', u'branchlen': 0, u'hash': u'0ce21ab67c30774eb91740d574f4cdffcdcfe57e5e2b029f49457c053fa2bd37', u'height': 192}
  {u'status': u'valid-fork', u'branchlen': 19, u'hash': u'02853ccd4e64b85739cdc402fa691b0777dc4d5602683edb1b644e66f276a622', u'height': 20}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0ce21ab67c30774eb91740d574f4cdffcdcfe57e5e2b029f49457c053fa2bd37', u'height': 192}
  {u'status': u'valid-fork', u'branchlen': 19, u'hash': u'02853ccd4e64b85739cdc402fa691b0777dc4d5602683edb1b644e66f276a622', u'height': 20}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0ce21ab67c30774eb91740d574f4cdffcdcfe57e5e2b029f49457c053fa2bd37', u'height': 192}
  {u'status': u'headers-only', u'branchlen': 19, u'hash': u'02853ccd4e64b85739cdc402fa691b0777dc4d5602683edb1b644e66f276a622', u'height': 20}
---
Stopping nodes
Cleaning up
Tests successful
--- Success: headers_08.py ---

=== Running testscript headers_09.py ===
Initializing test directory /tmp/test0e_Why


Genesis block is:
0da5ee723b7923feb580518541c6f098206330dbc711a6678922c11f2ccf1abb


Node 1 generates a block

0a659bfc1d0bdaf6fcf0061424ce778aa2247dd318efc397139173cfebe19663


Split network
The network is split

Node1 generating 30 honest block
02654cb08be39a095c1f3154d11509f3c1688c16a36aab5654914d385739e1c1

Node2 generating 200 mal block
0e2528cfc738a6814f6396e1d7559a2987882c0ccb7b28df7d5348fedd9c3142
{u'status': u'active', u'branchlen': 0, u'hash': u'0506946638355727118eca789c70c19dbb32fa7a96f953863643de1215fb56c8', u'height': 31}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0506946638355727118eca789c70c19dbb32fa7a96f953863643de1215fb56c8', u'height': 31}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'01e87ac95395e13e1d5f08c292d0c49d682b10bba26c93158b66051352c4a1e4', u'height': 201}
---


Join network
{u'status': u'active', u'branchlen': 0, u'hash': u'0506946638355727118eca789c70c19dbb32fa7a96f953863643de1215fb56c8', u'height': 31}
  {u'status': u'valid-headers', u'branchlen': 200, u'hash': u'01e87ac95395e13e1d5f08c292d0c49d682b10bba26c93158b66051352c4a1e4', u'height': 201}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0506946638355727118eca789c70c19dbb32fa7a96f953863643de1215fb56c8', u'height': 31}
  {u'status': u'valid-headers', u'branchlen': 200, u'hash': u'01e87ac95395e13e1d5f08c292d0c49d682b10bba26c93158b66051352c4a1e4', u'height': 201}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'01e87ac95395e13e1d5f08c292d0c49d682b10bba26c93158b66051352c4a1e4', u'height': 201}
  {u'status': u'headers-only', u'branchlen': 30, u'hash': u'0506946638355727118eca789c70c19dbb32fa7a96f953863643de1215fb56c8', u'height': 31}
---

Network joined

Checking finality of block (0) [02654cb08be39a095c1f3154d11509f3c1688c16a36aab5654914d385739e1c1]
  Node0 has: 265


Node2 generating 264 mal block
[31, 31, 465]
[31, 31, 465]
[31, 31, 465]
[31, 31, 465]
[31, 31, 465]
[31, 31, 465]
[31, 31, 465]
[31, 31, 465]
{u'status': u'active', u'branchlen': 0, u'hash': u'0506946638355727118eca789c70c19dbb32fa7a96f953863643de1215fb56c8', u'height': 31}
  {u'status': u'valid-headers', u'branchlen': 464, u'hash': u'08a23abae45edb6dd73c421e10da7e6bb1277ed3169cf69df024f00be136de5e', u'height': 465}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0506946638355727118eca789c70c19dbb32fa7a96f953863643de1215fb56c8', u'height': 31}
  {u'status': u'valid-headers', u'branchlen': 464, u'hash': u'08a23abae45edb6dd73c421e10da7e6bb1277ed3169cf69df024f00be136de5e', u'height': 465}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'08a23abae45edb6dd73c421e10da7e6bb1277ed3169cf69df024f00be136de5e', u'height': 465}
  {u'status': u'headers-only', u'branchlen': 30, u'hash': u'0506946638355727118eca789c70c19dbb32fa7a96f953863643de1215fb56c8', u'height': 31}
---

Node2 generating 1 mal block
[31, 31, 466]
[466, 466, 466]
{u'status': u'active', u'branchlen': 0, u'hash': u'0a97b97907c3e289e0f09d1ce154624405368d6c436ed7fef2ff29e312461144', u'height': 466}
  {u'status': u'valid-fork', u'branchlen': 30, u'hash': u'0506946638355727118eca789c70c19dbb32fa7a96f953863643de1215fb56c8', u'height': 31}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0a97b97907c3e289e0f09d1ce154624405368d6c436ed7fef2ff29e312461144', u'height': 466}
  {u'status': u'valid-fork', u'branchlen': 30, u'hash': u'0506946638355727118eca789c70c19dbb32fa7a96f953863643de1215fb56c8', u'height': 31}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0a97b97907c3e289e0f09d1ce154624405368d6c436ed7fef2ff29e312461144', u'height': 466}
  {u'status': u'headers-only', u'branchlen': 30, u'hash': u'0506946638355727118eca789c70c19dbb32fa7a96f953863643de1215fb56c8', u'height': 31}
---
Stopping nodes
Cleaning up
Tests successful
--- Success: headers_09.py ---

=== Running testscript headers_10.py ===
Initializing test directory /tmp/testiJB4_A


Genesis block is:
0da5ee723b7923feb580518541c6f098206330dbc711a6678922c11f2ccf1abb


Node 1 generates a block

0330a611db2c312f9ca680adf7c6cb02c47c5e6b77a5a1910183bfe743d44649


Split network
The network is split

Node1 generating 160 honest block
0adbc0089f3671aabe21cbf30c547553538511d90bd55d811bb7080f9031ce25

Node2 generating 160 mal block
0c4b9af35994e7b07476942c089ae0dd34eb2c9eadba33eeeddc9fdac7646f26
{u'status': u'active', u'branchlen': 0, u'hash': u'0adbc0089f3671aabe21cbf30c547553538511d90bd55d811bb7080f9031ce25', u'height': 161}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0adbc0089f3671aabe21cbf30c547553538511d90bd55d811bb7080f9031ce25', u'height': 161}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0c4b9af35994e7b07476942c089ae0dd34eb2c9eadba33eeeddc9fdac7646f26', u'height': 161}
---


Join network
[161, 161, 161]
{u'status': u'active', u'branchlen': 0, u'hash': u'0adbc0089f3671aabe21cbf30c547553538511d90bd55d811bb7080f9031ce25', u'height': 161}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0adbc0089f3671aabe21cbf30c547553538511d90bd55d811bb7080f9031ce25', u'height': 161}
  {u'status': u'headers-only', u'branchlen': 160, u'hash': u'0c4b9af35994e7b07476942c089ae0dd34eb2c9eadba33eeeddc9fdac7646f26', u'height': 161}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0c4b9af35994e7b07476942c089ae0dd34eb2c9eadba33eeeddc9fdac7646f26', u'height': 161}
  {u'status': u'headers-only', u'branchlen': 160, u'hash': u'0adbc0089f3671aabe21cbf30c547553538511d90bd55d811bb7080f9031ce25', u'height': 161}
---

Network joined

Node2 generating 1 mal block
07efc6ece5dfeea463ab39d25cb584ff6ed06e3f252e78b72cee39811bb0c709
[161, 161, 162]
[161, 161, 162]
[161, 161, 162]
{u'status': u'active', u'branchlen': 0, u'hash': u'0adbc0089f3671aabe21cbf30c547553538511d90bd55d811bb7080f9031ce25', u'height': 161}
  {u'status': u'valid-headers', u'branchlen': 161, u'hash': u'07efc6ece5dfeea463ab39d25cb584ff6ed06e3f252e78b72cee39811bb0c709', u'height': 162}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'0adbc0089f3671aabe21cbf30c547553538511d90bd55d811bb7080f9031ce25', u'height': 161}
  {u'status': u'valid-headers', u'branchlen': 161, u'hash': u'07efc6ece5dfeea463ab39d25cb584ff6ed06e3f252e78b72cee39811bb0c709', u'height': 162}
---
{u'status': u'active', u'branchlen': 0, u'hash': u'07efc6ece5dfeea463ab39d25cb584ff6ed06e3f252e78b72cee39811bb0c709', u'height': 162}
  {u'status': u'valid-headers', u'branchlen': 160, u'hash': u'0adbc0089f3671aabe21cbf30c547553538511d90bd55d811bb7080f9031ce25', u'height': 161}
---
Stopping nodes
Cleaning up
Tests successful
--- Success: headers_10.py ---

=== Running testscript checkblockatheight.py ===
Initializing test directory /tmp/testvpXm5k
  Node1 generates 303 blocks

Trying to send a tx with a scriptPubKey referencing a block too recent...
  Node1 sends 1.000000 coins to Node2
  Modified scriptPubKey in tx 1:  OP_DUP OP_HASH160 2e4d7b4500362e7d41494e120080e95d7d705a72 OP_EQUALVERIFY OP_CHECKSIG 185e128628c1a28db592ce6cfa87ea240a5addfa21257a62e0270b24a8fafc07 233 OP_CHECKBLOCKATHEIGHT
  ==> tx has been rejected as expected:
      referenced block height=233, chainActive.height=303, minimumAge=75

Check that small digit height for referenced blocks works in scriptPubKey
  Node1 sends 0.500000 coins to Node3 for checking script in tx
  ==> tx sent:  deafdbbdf801cbaeb124e7f7ff4f3b56c4c2ac8802c1544dc6df839a69ae4ae0
  ScriptPubKey:  OP_DUP OP_HASH160 459b3cafcec9aed57fce905c5e1c2440f0780ae2 OP_EQUALVERIFY OP_CHECKSIG 709248a433c2e6dad29f0064ccafd5618a4f7a798c4ddecc14ebad76bc92d404 3 OP_CHECKBLOCKATHEIGHT
  Node1 generating 1 honest block
  | Node0 balance:  0E-8
  | Node1 balance:  2055.99999704
  | Node2 balance:  0E-8
  | Node3 balance:  0.50000000
  Node3 sends 0.25 coins to Node2 for checking script in tx
  ==> tx sent:  6cacd708dc33f59be94176f93581a50557286cbc85fddf4f670e74885959b9a7
  Node1 generating 1 honest block
  | Node0 balance:  0E-8
  | Node1 balance:  2063.49999704
  | Node2 balance:  0.25000000
  | Node3 balance:  0.24999704
  ==> OK, small digit height works in scripts:

Verify that a legal tx, when the referenced block is reverted, becomes invalid until the necessary depth of the referenced block height has been reached...
  Restarting network with -cbhminage=0
  Node0 generates 305 blocks
  Split network: (0)---(1)---(2)   (3)
  Node0 generating 1 honest block
  Honest network has current h[611]
  Creating raw tx referencing the current block 611 where Node1 sends 1000.000000 coins to Node2...
  Changed script in tx
    from:  OP_DUP OP_HASH160 1c048b7a0d2bfae2b9ce9d3efc69fd841412164b OP_EQUALVERIFY OP_CHECKSIG 04643f0c194a7a7613f7c7bdbcba0b9bf38390f77d56cb048143ee7b696df80d 311 OP_CHECKBLOCKATHEIGHT
    to:    OP_DUP OP_HASH160 1c048b7a0d2bfae2b9ce9d3efc69fd841412164b OP_EQUALVERIFY OP_CHECKSIG ca481091268b64d0c81d271ef623d2a42234035648e78404ce451124f2e81603 611 OP_CHECKBLOCKATHEIGHT
  | Node0 balance:  1545.00000000
  | Node1 balance:  2813.50000296
  | Node2 balance:  0.25000000
  | Node3 balance:  0.24999704
  ==> tx sent:  f44cfd7fba669f0bbd376d9446b193b2f8388d2651a475442d7d46d7e23d903f
       amount (vout[0]): 1000.000000
       change (vout[1]): 3.312453
  OK, tx is in mempool...
  | Node0 balance:  1545.00000000
  | Node1 balance:  1813.49995296
  | Node2 balance:  0.25000000
  | Node3 balance:  0.24999704
  Node0 generating 1 honest block
  OK, tx is not in mempool anymore (it is contained in the block just mined)
  Block: (612) 03d936b6b680441c1ae98a5265f8471e5d2b7884a0f87cb5e6602c3ac961581c
  | Node0 balance:  1552.50000000
  | Node1 balance:  1813.49995296
  | Node2 balance:  1000.25000000
  | Node3 balance:  0.24999704
  Node3 generating 3 malicious blocks thus reverting the honest chain once the ntw is joined!
  Network joined: (0)---(1)---(2)---(3)
  ==> the block has been reverted, the tx is back in the mempool of the reverted nodes!
  | Node0 balance:  1560.00000000
  | Node1 balance:  1810.18750000
  | Node2 balance:  0.25000000
  | Node3 balance:  0.24999704
  Node0 generating 1 honest block
  ==> TX referencing reverted block has been mined in a new block!!
       Block: (614) 0681b67f9d01eaac6ce572c5fcd4907ba69d0d5bf5eca6129f9a07e2ef899239
  Balances after node restart:
  | Node0 balance:  1567.50000000
  | Node1 balance:  1810.18750000
  | Node2 balance:  0.25000000
  | Node3